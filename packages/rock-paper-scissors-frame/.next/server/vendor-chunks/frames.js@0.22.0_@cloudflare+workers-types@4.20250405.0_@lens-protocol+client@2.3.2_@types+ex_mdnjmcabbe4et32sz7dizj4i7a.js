"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a";
exports.ids = ["vendor-chunks/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-25BDFC6X.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-25BDFC6X.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FRAMES_IMAGES_DEBUG_FLAG: () => (/* binding */ FRAMES_IMAGES_DEBUG_FLAG),\n/* harmony export */   FRAMES_IMAGES_PARAM_FLAG: () => (/* binding */ FRAMES_IMAGES_PARAM_FLAG),\n/* harmony export */   FRAMES_META_TAGS_HEADER: () => (/* binding */ FRAMES_META_TAGS_HEADER)\n/* harmony export */ });\n// src/core/constants.ts\nvar FRAMES_META_TAGS_HEADER = \"application/frames.js+metatags\";\nvar FRAMES_IMAGES_PARAM_FLAG = \"__framesjs_jsx\";\nvar FRAMES_IMAGES_DEBUG_FLAG = \"__framesjs_debug\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstMjVCREZDNlguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBTUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLTI1QkRGQzZYLmpzPzM2Y2IiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvcmUvY29uc3RhbnRzLnRzXG52YXIgRlJBTUVTX01FVEFfVEFHU19IRUFERVIgPSBcImFwcGxpY2F0aW9uL2ZyYW1lcy5qcyttZXRhdGFnc1wiO1xudmFyIEZSQU1FU19JTUFHRVNfUEFSQU1fRkxBRyA9IFwiX19mcmFtZXNqc19qc3hcIjtcbnZhciBGUkFNRVNfSU1BR0VTX0RFQlVHX0ZMQUcgPSBcIl9fZnJhbWVzanNfZGVidWdcIjtcblxuZXhwb3J0IHtcbiAgRlJBTUVTX01FVEFfVEFHU19IRUFERVIsXG4gIEZSQU1FU19JTUFHRVNfUEFSQU1fRkxBRyxcbiAgRlJBTUVTX0lNQUdFU19ERUJVR19GTEFHXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-25BDFC6X.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-2AVY42GE.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-2AVY42GE.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   coreMiddleware: () => (/* binding */ coreMiddleware)\n/* harmony export */ });\n/* harmony import */ var _chunk_SPBDN3EV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-SPBDN3EV.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-SPBDN3EV.js\");\n/* harmony import */ var _chunk_MBEYX4VY_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-MBEYX4VY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-MBEYX4VY.js\");\n/* harmony import */ var _chunk_IEXSAVZ4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-IEXSAVZ4.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-IEXSAVZ4.js\");\n\n\n\n\n// src/middleware/default.ts\nvar coreMiddleware = [\n  (0,_chunk_IEXSAVZ4_js__WEBPACK_IMPORTED_MODULE_2__.renderResponse)(),\n  (0,_chunk_MBEYX4VY_js__WEBPACK_IMPORTED_MODULE_1__.framesjsMiddleware)(),\n  (0,_chunk_SPBDN3EV_js__WEBPACK_IMPORTED_MODULE_0__.farcaster)()\n];\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstMkFWWTQyR0UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUU2QjtBQUdBO0FBR0E7O0FBRTdCO0FBQ0E7QUFDQSxFQUFFLGtFQUFjO0FBQ2hCLEVBQUUsc0VBQWtCO0FBQ3BCLEVBQUUsNkRBQVM7QUFDWDs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstMkFWWTQyR0UuanM/ODU3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmYXJjYXN0ZXJcbn0gZnJvbSBcIi4vY2h1bmstU1BCRE4zRVYuanNcIjtcbmltcG9ydCB7XG4gIGZyYW1lc2pzTWlkZGxld2FyZVxufSBmcm9tIFwiLi9jaHVuay1NQkVZWDRWWS5qc1wiO1xuaW1wb3J0IHtcbiAgcmVuZGVyUmVzcG9uc2Vcbn0gZnJvbSBcIi4vY2h1bmstSUVYU0FWWjQuanNcIjtcblxuLy8gc3JjL21pZGRsZXdhcmUvZGVmYXVsdC50c1xudmFyIGNvcmVNaWRkbGV3YXJlID0gW1xuICByZW5kZXJSZXNwb25zZSgpLFxuICBmcmFtZXNqc01pZGRsZXdhcmUoKSxcbiAgZmFyY2FzdGVyKClcbl07XG5cbmV4cG9ydCB7XG4gIGNvcmVNaWRkbGV3YXJlXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-2AVY42GE.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-4XN6T5YT.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-4XN6T5YT.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IMAGE_WORKER_DEFAULT_DYNAMIC_IMAGE_CACHE_CONTROL_HEADER: () => (/* binding */ IMAGE_WORKER_DEFAULT_DYNAMIC_IMAGE_CACHE_CONTROL_HEADER),\n/* harmony export */   IMAGE_WORKER_DYNAMIC_IMAGE_FETCH_HEADER: () => (/* binding */ IMAGE_WORKER_DYNAMIC_IMAGE_FETCH_HEADER)\n/* harmony export */ });\n// src/middleware/images-worker/constants.ts\nvar IMAGE_WORKER_DEFAULT_DYNAMIC_IMAGE_CACHE_CONTROL_HEADER = \"public, immutable, no-transform, max-age=60\";\nvar IMAGE_WORKER_DYNAMIC_IMAGE_FETCH_HEADER = \"x-frames-dynamic-image\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstNFhONlQ1WVQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBS0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLTRYTjZUNVlULmpzP2JmM2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL21pZGRsZXdhcmUvaW1hZ2VzLXdvcmtlci9jb25zdGFudHMudHNcbnZhciBJTUFHRV9XT1JLRVJfREVGQVVMVF9EWU5BTUlDX0lNQUdFX0NBQ0hFX0NPTlRST0xfSEVBREVSID0gXCJwdWJsaWMsIGltbXV0YWJsZSwgbm8tdHJhbnNmb3JtLCBtYXgtYWdlPTYwXCI7XG52YXIgSU1BR0VfV09SS0VSX0RZTkFNSUNfSU1BR0VfRkVUQ0hfSEVBREVSID0gXCJ4LWZyYW1lcy1keW5hbWljLWltYWdlXCI7XG5cbmV4cG9ydCB7XG4gIElNQUdFX1dPUktFUl9ERUZBVUxUX0RZTkFNSUNfSU1BR0VfQ0FDSEVfQ09OVFJPTF9IRUFERVIsXG4gIElNQUdFX1dPUktFUl9EWU5BTUlDX0lNQUdFX0ZFVENIX0hFQURFUlxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-4XN6T5YT.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-6INCCTBI.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-6INCCTBI.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);


/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-6V4I4RHF.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-6V4I4RHF.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   button: () => (/* binding */ button)\n/* harmony export */ });\n// src/core/button.ts\nfunction button(props) {\n  return props;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstNlY0STRSSEYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay02VjRJNFJIRi5qcz9jODdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb3JlL2J1dHRvbi50c1xuZnVuY3Rpb24gYnV0dG9uKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcztcbn1cblxuZXhwb3J0IHtcbiAgYnV0dG9uXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-6V4I4RHF.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-7EKETE7Q.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-7EKETE7Q.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bytesToHexString: () => (/* binding */ bytesToHexString),\n/* harmony export */   escapeHtmlAttributeValue: () => (/* binding */ escapeHtmlAttributeValue),\n/* harmony export */   extractAddressFromJSONMessage: () => (/* binding */ extractAddressFromJSONMessage),\n/* harmony export */   getByteLength: () => (/* binding */ getByteLength),\n/* harmony export */   getEnumKeyByEnumValue: () => (/* binding */ getEnumKeyByEnumValue),\n/* harmony export */   getFrameMessageFromRequestBody: () => (/* binding */ getFrameMessageFromRequestBody),\n/* harmony export */   hexStringToUint8Array: () => (/* binding */ hexStringToUint8Array),\n/* harmony export */   isFrameButtonLink: () => (/* binding */ isFrameButtonLink),\n/* harmony export */   isFrameButtonMint: () => (/* binding */ isFrameButtonMint),\n/* harmony export */   isFrameButtonTx: () => (/* binding */ isFrameButtonTx),\n/* harmony export */   isValidVersion: () => (/* binding */ isValidVersion),\n/* harmony export */   normalizeCastId: () => (/* binding */ normalizeCastId)\n/* harmony export */ });\n/* harmony import */ var _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-WYDZZYLM.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-WYDZZYLM.js\");\n\n\n// src/utils.ts\nfunction isFrameButtonLink(frameButton) {\n  return frameButton.action === \"link\";\n}\nfunction isFrameButtonTx(frameButton) {\n  return frameButton.action === \"tx\";\n}\nfunction isFrameButtonMint(frameButton) {\n  return frameButton.action === \"mint\";\n}\nfunction bytesToHexString(bytes) {\n  return `0x${Buffer.from(bytes).toString(\"hex\")}`;\n}\nfunction getByteLength(str) {\n  return Buffer.from(str).byteLength;\n}\nfunction hexStringToUint8Array(hexstring) {\n  const matches = hexstring.match(/.{1,2}/g);\n  if (!matches) {\n    throw new Error(\"Invalid hex string provided\");\n  }\n  return new Uint8Array(matches.map((byte) => parseInt(byte, 16)));\n}\nfunction normalizeCastId(castId) {\n  return {\n    fid: castId.fid,\n    hash: bytesToHexString(castId.hash)\n  };\n}\nfunction getFrameMessageFromRequestBody(body) {\n  return _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_0__.Message.decode(Buffer.from(body.trustedData.messageBytes, \"hex\"));\n}\nfunction isValidVersion(version) {\n  if (version === \"vNext\") {\n    return true;\n  }\n  const pattern = /^\\d{4}-\\d{2}-\\d{2}$/;\n  if (!pattern.test(version)) {\n    return false;\n  }\n  return true;\n}\nfunction getEnumKeyByEnumValue(enumDefinition, enumValue) {\n  return Object.keys(enumDefinition)[Object.values(enumDefinition).indexOf(enumValue)] ?? \"\";\n}\nfunction extractAddressFromJSONMessage(message) {\n  const { data } = _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_0__.Message.fromJSON(message);\n  if (!data) {\n    throw new Error(\"Invalid message provided. Message data is missing\");\n  }\n  if (data.type !== 7 /* VERIFICATION_ADD_ETH_ADDRESS */) {\n    throw new Error(\n      `Invalid message provided. Expected message type to be ${7 /* VERIFICATION_ADD_ETH_ADDRESS */} but got ${getEnumKeyByEnumValue(_chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_0__.MessageType, data.type)}.`\n    );\n  }\n  if (!data.verificationAddAddressBody) {\n    throw new Error(\n      \"Invalid message provided. Message data is missing verificationAddAddressBody\"\n    );\n  }\n  if (data.verificationAddAddressBody.protocol !== 0 /* ETHEREUM */) {\n    return null;\n  }\n  return message.data.verificationAddAddressBody.address;\n}\nfunction escapeHtmlAttributeValue(value) {\n  return value.replace(/[\"'<>]/g, (char) => {\n    switch (char) {\n      case '\"':\n        return \"&quot;\";\n      case \"'\":\n        return \"&#39;\";\n      case \"<\":\n        return \"&lt;\";\n      case \">\":\n        return \"&gt;\";\n      default:\n        return char;\n    }\n  });\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstN0VLRVRFN1EuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUc2Qjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUNBQW1DO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsSUFBSTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsT0FBTyxFQUFFLHVEQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Qsc0NBQXNDLFVBQVUsc0JBQXNCLDJEQUFXLGFBQWE7QUFDN0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQWVFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay03RUtFVEU3US5qcz82YTQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIE1lc3NhZ2UsXG4gIE1lc3NhZ2VUeXBlXG59IGZyb20gXCIuL2NodW5rLVdZRFpaWUxNLmpzXCI7XG5cbi8vIHNyYy91dGlscy50c1xuZnVuY3Rpb24gaXNGcmFtZUJ1dHRvbkxpbmsoZnJhbWVCdXR0b24pIHtcbiAgcmV0dXJuIGZyYW1lQnV0dG9uLmFjdGlvbiA9PT0gXCJsaW5rXCI7XG59XG5mdW5jdGlvbiBpc0ZyYW1lQnV0dG9uVHgoZnJhbWVCdXR0b24pIHtcbiAgcmV0dXJuIGZyYW1lQnV0dG9uLmFjdGlvbiA9PT0gXCJ0eFwiO1xufVxuZnVuY3Rpb24gaXNGcmFtZUJ1dHRvbk1pbnQoZnJhbWVCdXR0b24pIHtcbiAgcmV0dXJuIGZyYW1lQnV0dG9uLmFjdGlvbiA9PT0gXCJtaW50XCI7XG59XG5mdW5jdGlvbiBieXRlc1RvSGV4U3RyaW5nKGJ5dGVzKSB7XG4gIHJldHVybiBgMHgke0J1ZmZlci5mcm9tKGJ5dGVzKS50b1N0cmluZyhcImhleFwiKX1gO1xufVxuZnVuY3Rpb24gZ2V0Qnl0ZUxlbmd0aChzdHIpIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKHN0cikuYnl0ZUxlbmd0aDtcbn1cbmZ1bmN0aW9uIGhleFN0cmluZ1RvVWludDhBcnJheShoZXhzdHJpbmcpIHtcbiAgY29uc3QgbWF0Y2hlcyA9IGhleHN0cmluZy5tYXRjaCgvLnsxLDJ9L2cpO1xuICBpZiAoIW1hdGNoZXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCBzdHJpbmcgcHJvdmlkZWRcIik7XG4gIH1cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG1hdGNoZXMubWFwKChieXRlKSA9PiBwYXJzZUludChieXRlLCAxNikpKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNhc3RJZChjYXN0SWQpIHtcbiAgcmV0dXJuIHtcbiAgICBmaWQ6IGNhc3RJZC5maWQsXG4gICAgaGFzaDogYnl0ZXNUb0hleFN0cmluZyhjYXN0SWQuaGFzaClcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEZyYW1lTWVzc2FnZUZyb21SZXF1ZXN0Qm9keShib2R5KSB7XG4gIHJldHVybiBNZXNzYWdlLmRlY29kZShCdWZmZXIuZnJvbShib2R5LnRydXN0ZWREYXRhLm1lc3NhZ2VCeXRlcywgXCJoZXhcIikpO1xufVxuZnVuY3Rpb24gaXNWYWxpZFZlcnNpb24odmVyc2lvbikge1xuICBpZiAodmVyc2lvbiA9PT0gXCJ2TmV4dFwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgcGF0dGVybiA9IC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0kLztcbiAgaWYgKCFwYXR0ZXJuLnRlc3QodmVyc2lvbikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBnZXRFbnVtS2V5QnlFbnVtVmFsdWUoZW51bURlZmluaXRpb24sIGVudW1WYWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZW51bURlZmluaXRpb24pW09iamVjdC52YWx1ZXMoZW51bURlZmluaXRpb24pLmluZGV4T2YoZW51bVZhbHVlKV0gPz8gXCJcIjtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RBZGRyZXNzRnJvbUpTT05NZXNzYWdlKG1lc3NhZ2UpIHtcbiAgY29uc3QgeyBkYXRhIH0gPSBNZXNzYWdlLmZyb21KU09OKG1lc3NhZ2UpO1xuICBpZiAoIWRhdGEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2UgcHJvdmlkZWQuIE1lc3NhZ2UgZGF0YSBpcyBtaXNzaW5nXCIpO1xuICB9XG4gIGlmIChkYXRhLnR5cGUgIT09IDcgLyogVkVSSUZJQ0FUSU9OX0FERF9FVEhfQUREUkVTUyAqLykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIG1lc3NhZ2UgcHJvdmlkZWQuIEV4cGVjdGVkIG1lc3NhZ2UgdHlwZSB0byBiZSAkezcgLyogVkVSSUZJQ0FUSU9OX0FERF9FVEhfQUREUkVTUyAqL30gYnV0IGdvdCAke2dldEVudW1LZXlCeUVudW1WYWx1ZShNZXNzYWdlVHlwZSwgZGF0YS50eXBlKX0uYFxuICAgICk7XG4gIH1cbiAgaWYgKCFkYXRhLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJJbnZhbGlkIG1lc3NhZ2UgcHJvdmlkZWQuIE1lc3NhZ2UgZGF0YSBpcyBtaXNzaW5nIHZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5XCJcbiAgICApO1xuICB9XG4gIGlmIChkYXRhLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5LnByb3RvY29sICE9PSAwIC8qIEVUSEVSRVVNICovKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIG1lc3NhZ2UuZGF0YS52ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keS5hZGRyZXNzO1xufVxuZnVuY3Rpb24gZXNjYXBlSHRtbEF0dHJpYnV0ZVZhbHVlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9bXCInPD5dL2csIChjaGFyKSA9PiB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlICdcIic6XG4gICAgICAgIHJldHVybiBcIiZxdW90O1wiO1xuICAgICAgY2FzZSBcIidcIjpcbiAgICAgICAgcmV0dXJuIFwiJiMzOTtcIjtcbiAgICAgIGNhc2UgXCI8XCI6XG4gICAgICAgIHJldHVybiBcIiZsdDtcIjtcbiAgICAgIGNhc2UgXCI+XCI6XG4gICAgICAgIHJldHVybiBcIiZndDtcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBjaGFyO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCB7XG4gIGlzRnJhbWVCdXR0b25MaW5rLFxuICBpc0ZyYW1lQnV0dG9uVHgsXG4gIGlzRnJhbWVCdXR0b25NaW50LFxuICBieXRlc1RvSGV4U3RyaW5nLFxuICBnZXRCeXRlTGVuZ3RoLFxuICBoZXhTdHJpbmdUb1VpbnQ4QXJyYXksXG4gIG5vcm1hbGl6ZUNhc3RJZCxcbiAgZ2V0RnJhbWVNZXNzYWdlRnJvbVJlcXVlc3RCb2R5LFxuICBpc1ZhbGlkVmVyc2lvbixcbiAgZ2V0RW51bUtleUJ5RW51bVZhbHVlLFxuICBleHRyYWN0QWRkcmVzc0Zyb21KU09OTWVzc2FnZSxcbiAgZXNjYXBlSHRtbEF0dHJpYnV0ZVZhbHVlXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-7EKETE7Q.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-COE5BZEX.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-COE5BZEX.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FrameMessageError: () => (/* binding */ FrameMessageError),\n/* harmony export */   InvalidFrameActionPayloadError: () => (/* binding */ InvalidFrameActionPayloadError),\n/* harmony export */   RequestBodyNotJSONError: () => (/* binding */ RequestBodyNotJSONError)\n/* harmony export */ });\n// src/core/errors.ts\nvar RequestBodyNotJSONError = class extends Error {\n  constructor() {\n    super(\"Invalid frame action payload, request body is not JSON\");\n  }\n};\nvar InvalidFrameActionPayloadError = class extends Error {\n  constructor(message = \"Invalid frame action payload\") {\n    super(message);\n  }\n};\nvar FrameMessageError = class extends Error {\n  status;\n  /**\n   *\n   * @param message - Message to show the user (up to 90 characters)\n   * @param status - 4XX status code\n   */\n  constructor(message, status) {\n    if (message.length > 90)\n      throw new Error(\"Message too long\");\n    if (status < 400 || status >= 500)\n      throw new Error(\"Invalid status code\");\n    super(message);\n    this.status = status;\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ09FNUJaRVguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQU1FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1DT0U1QlpFWC5qcz9kNDI5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb3JlL2Vycm9ycy50c1xudmFyIFJlcXVlc3RCb2R5Tm90SlNPTkVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFwiSW52YWxpZCBmcmFtZSBhY3Rpb24gcGF5bG9hZCwgcmVxdWVzdCBib2R5IGlzIG5vdCBKU09OXCIpO1xuICB9XG59O1xudmFyIEludmFsaWRGcmFtZUFjdGlvblBheWxvYWRFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gXCJJbnZhbGlkIGZyYW1lIGFjdGlvbiBwYXlsb2FkXCIpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgfVxufTtcbnZhciBGcmFtZU1lc3NhZ2VFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBzdGF0dXM7XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE1lc3NhZ2UgdG8gc2hvdyB0aGUgdXNlciAodXAgdG8gOTAgY2hhcmFjdGVycylcbiAgICogQHBhcmFtIHN0YXR1cyAtIDRYWCBzdGF0dXMgY29kZVxuICAgKi9cbiAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhdHVzKSB7XG4gICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gOTApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlIHRvbyBsb25nXCIpO1xuICAgIGlmIChzdGF0dXMgPCA0MDAgfHwgc3RhdHVzID49IDUwMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdHVzIGNvZGVcIik7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIFJlcXVlc3RCb2R5Tm90SlNPTkVycm9yLFxuICBJbnZhbGlkRnJhbWVBY3Rpb25QYXlsb2FkRXJyb3IsXG4gIEZyYW1lTWVzc2FnZUVycm9yXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-COE5BZEX.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-CPDJUXZV.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-CPDJUXZV.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatUrl: () => (/* binding */ formatUrl)\n/* harmony export */ });\n// src/core/formatUrl.ts\nfunction stringifyUrlQueryParam(param) {\n  if (typeof param === \"string\" || typeof param === \"number\" && !isNaN(param) || typeof param === \"boolean\") {\n    return String(param);\n  }\n  return \"\";\n}\nfunction urlQueryToSearchParams(urlQuery) {\n  const result = new URLSearchParams();\n  Object.entries(urlQuery).forEach(([key, value]) => {\n    if (Array.isArray(value)) {\n      value.forEach((item) => {\n        result.append(key, stringifyUrlQueryParam(item));\n      });\n    } else {\n      result.set(key, stringifyUrlQueryParam(value));\n    }\n  });\n  return result;\n}\nvar slashedProtocols = /https?|ftp|gopher|file/;\nfunction formatUrl(urlObj) {\n  let { auth } = urlObj;\n  const { hostname } = urlObj;\n  let protocol = urlObj.protocol || \"\";\n  let pathname = urlObj.pathname || \"\";\n  let hash = urlObj.hash || \"\";\n  let query = urlObj.query || \"\";\n  let host = false;\n  auth = auth ? `${encodeURIComponent(auth).replace(/%3A/i, \":\")}@` : \"\";\n  if (urlObj.host) {\n    host = auth + urlObj.host;\n  } else if (hostname) {\n    host = auth + (hostname.includes(\":\") ? `[${hostname}]` : hostname);\n    if (urlObj.port) {\n      host += `:${urlObj.port}`;\n    }\n  }\n  if (query && typeof query === \"object\") {\n    query = String(urlQueryToSearchParams(query));\n  }\n  let search = urlObj.search || query && `?${query}` || \"\";\n  if (protocol && !protocol.endsWith(\":\"))\n    protocol += \":\";\n  if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n    host = `//${host || \"\"}`;\n    if (pathname && !pathname.startsWith(\"/\")) {\n      pathname = `/${pathname}`;\n    }\n  } else if (!host) {\n    host = \"\";\n  }\n  if (hash && !hash.startsWith(\"#\"))\n    hash = `#${hash}`;\n  if (search && !search.startsWith(\"?\"))\n    search = `?${search}`;\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n  search = search.replace(\"#\", \"%23\");\n  return `${protocol}${host}${pathname}${search}${hash}`;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ1BESlVYWlYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxPQUFPO0FBQ2YsVUFBVSxXQUFXO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOENBQThDO0FBQ2pFO0FBQ0E7QUFDQSxJQUFJO0FBQ0osZ0RBQWdELFNBQVM7QUFDekQ7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE1BQU07QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEI7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0EsWUFBWSxTQUFTLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsS0FBSztBQUN2RDs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ1BESlVYWlYuanM/NDFiNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29yZS9mb3JtYXRVcmwudHNcbmZ1bmN0aW9uIHN0cmluZ2lmeVVybFF1ZXJ5UGFyYW0ocGFyYW0pIHtcbiAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgcGFyYW0gPT09IFwibnVtYmVyXCIgJiYgIWlzTmFOKHBhcmFtKSB8fCB0eXBlb2YgcGFyYW0gPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIFN0cmluZyhwYXJhbSk7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiB1cmxRdWVyeVRvU2VhcmNoUGFyYW1zKHVybFF1ZXJ5KSB7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgT2JqZWN0LmVudHJpZXModXJsUXVlcnkpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICByZXN1bHQuYXBwZW5kKGtleSwgc3RyaW5naWZ5VXJsUXVlcnlQYXJhbShpdGVtKSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnNldChrZXksIHN0cmluZ2lmeVVybFF1ZXJ5UGFyYW0odmFsdWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxudmFyIHNsYXNoZWRQcm90b2NvbHMgPSAvaHR0cHM/fGZ0cHxnb3BoZXJ8ZmlsZS87XG5mdW5jdGlvbiBmb3JtYXRVcmwodXJsT2JqKSB7XG4gIGxldCB7IGF1dGggfSA9IHVybE9iajtcbiAgY29uc3QgeyBob3N0bmFtZSB9ID0gdXJsT2JqO1xuICBsZXQgcHJvdG9jb2wgPSB1cmxPYmoucHJvdG9jb2wgfHwgXCJcIjtcbiAgbGV0IHBhdGhuYW1lID0gdXJsT2JqLnBhdGhuYW1lIHx8IFwiXCI7XG4gIGxldCBoYXNoID0gdXJsT2JqLmhhc2ggfHwgXCJcIjtcbiAgbGV0IHF1ZXJ5ID0gdXJsT2JqLnF1ZXJ5IHx8IFwiXCI7XG4gIGxldCBob3N0ID0gZmFsc2U7XG4gIGF1dGggPSBhdXRoID8gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpLnJlcGxhY2UoLyUzQS9pLCBcIjpcIil9QGAgOiBcIlwiO1xuICBpZiAodXJsT2JqLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHVybE9iai5ob3N0O1xuICB9IGVsc2UgaWYgKGhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAoaG9zdG5hbWUuaW5jbHVkZXMoXCI6XCIpID8gYFske2hvc3RuYW1lfV1gIDogaG9zdG5hbWUpO1xuICAgIGlmICh1cmxPYmoucG9ydCkge1xuICAgICAgaG9zdCArPSBgOiR7dXJsT2JqLnBvcnR9YDtcbiAgICB9XG4gIH1cbiAgaWYgKHF1ZXJ5ICYmIHR5cGVvZiBxdWVyeSA9PT0gXCJvYmplY3RcIikge1xuICAgIHF1ZXJ5ID0gU3RyaW5nKHVybFF1ZXJ5VG9TZWFyY2hQYXJhbXMocXVlcnkpKTtcbiAgfVxuICBsZXQgc2VhcmNoID0gdXJsT2JqLnNlYXJjaCB8fCBxdWVyeSAmJiBgPyR7cXVlcnl9YCB8fCBcIlwiO1xuICBpZiAocHJvdG9jb2wgJiYgIXByb3RvY29sLmVuZHNXaXRoKFwiOlwiKSlcbiAgICBwcm90b2NvbCArPSBcIjpcIjtcbiAgaWYgKHVybE9iai5zbGFzaGVzIHx8ICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29scy50ZXN0KHByb3RvY29sKSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gYC8vJHtob3N0IHx8IFwiXCJ9YDtcbiAgICBpZiAocGF0aG5hbWUgJiYgIXBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICBwYXRobmFtZSA9IGAvJHtwYXRobmFtZX1gO1xuICAgIH1cbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSBcIlwiO1xuICB9XG4gIGlmIChoYXNoICYmICFoYXNoLnN0YXJ0c1dpdGgoXCIjXCIpKVxuICAgIGhhc2ggPSBgIyR7aGFzaH1gO1xuICBpZiAoc2VhcmNoICYmICFzZWFyY2guc3RhcnRzV2l0aChcIj9cIikpXG4gICAgc2VhcmNoID0gYD8ke3NlYXJjaH1gO1xuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZW5jb2RlVVJJQ29tcG9uZW50KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoXCIjXCIsIFwiJTIzXCIpO1xuICByZXR1cm4gYCR7cHJvdG9jb2x9JHtob3N0fSR7cGF0aG5hbWV9JHtzZWFyY2h9JHtoYXNofWA7XG59XG5cbmV4cG9ydCB7XG4gIGZvcm1hdFVybFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-CPDJUXZV.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-CTUE6VWY.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-CTUE6VWY.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   redirect: () => (/* binding */ redirect)\n/* harmony export */ });\n// src/core/redirect.ts\nfunction redirect(location, responseInit) {\n  return {\n    kind: \"redirect\",\n    location,\n    ...responseInit\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ1RVRTZWV1kuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUNUVUU2VldZLmpzP2QyODEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvcmUvcmVkaXJlY3QudHNcbmZ1bmN0aW9uIHJlZGlyZWN0KGxvY2F0aW9uLCByZXNwb25zZUluaXQpIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiBcInJlZGlyZWN0XCIsXG4gICAgbG9jYXRpb24sXG4gICAgLi4ucmVzcG9uc2VJbml0XG4gIH07XG59XG5cbmV4cG9ydCB7XG4gIHJlZGlyZWN0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-CTUE6VWY.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-DZIDRCLY.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-DZIDRCLY.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionResponse: () => (/* binding */ TransactionResponse),\n/* harmony export */   transaction: () => (/* binding */ transaction)\n/* harmony export */ });\n// src/core/transaction.ts\nvar TransactionResponse = class extends Response {\n  constructor(txdata) {\n    super(JSON.stringify(txdata), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  }\n};\nfunction transaction(txdata) {\n  return new TransactionResponse(txdata);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstRFpJRFJDTFkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUtFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1EWklEUkNMWS5qcz9kOGRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb3JlL3RyYW5zYWN0aW9uLnRzXG52YXIgVHJhbnNhY3Rpb25SZXNwb25zZSA9IGNsYXNzIGV4dGVuZHMgUmVzcG9uc2Uge1xuICBjb25zdHJ1Y3Rvcih0eGRhdGEpIHtcbiAgICBzdXBlcihKU09OLnN0cmluZ2lmeSh0eGRhdGEpLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5mdW5jdGlvbiB0cmFuc2FjdGlvbih0eGRhdGEpIHtcbiAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvblJlc3BvbnNlKHR4ZGF0YSk7XG59XG5cbmV4cG9ydCB7XG4gIFRyYW5zYWN0aW9uUmVzcG9uc2UsXG4gIHRyYW5zYWN0aW9uXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-DZIDRCLY.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GAJ4TXGR.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GAJ4TXGR.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidStateSignatureError: () => (/* binding */ InvalidStateSignatureError),\n/* harmony export */   stateMiddleware: () => (/* binding */ stateMiddleware)\n/* harmony export */ });\n/* harmony import */ var _chunk_GHPJOFJY_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-GHPJOFJY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GHPJOFJY.js\");\n/* harmony import */ var _chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YW2LREMY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-YW2LREMY.js\");\n\n\n\n// src/middleware/stateMiddleware.ts\nvar InvalidStateSignatureError = class extends Error {\n};\nfunction isSignedState(data) {\n  return typeof data === \"object\" && data !== null && \"data\" in data && \"__sig\" in data && typeof data.__sig === \"string\";\n}\nfunction parseState(state) {\n  return JSON.parse(state);\n}\nasync function extractStateFromMessage(ctx, initialState) {\n  let state = initialState;\n  if (\"message\" in ctx && typeof ctx.message === \"object\" && ctx.message && \"state\" in ctx.message && ctx.message.state) {\n    try {\n      if (typeof ctx.message.state !== \"string\") {\n        throw new Error(\"State is not a string\");\n      }\n      const parsedState = parseState(ctx.message.state);\n      if (isSignedState(parsedState)) {\n        if (ctx.stateSigningSecret) {\n          const isValidSignature = await (0,_chunk_GHPJOFJY_js__WEBPACK_IMPORTED_MODULE_0__.verifyHMACSignature)(\n            JSON.stringify(parsedState.data),\n            Buffer.from(parsedState.__sig, \"hex\"),\n            ctx.stateSigningSecret\n          );\n          if (!isValidSignature) {\n            throw new InvalidStateSignatureError(\n              \"State signature verification failed\"\n            );\n          } else {\n            state = parsedState.data;\n          }\n        } else {\n          console.warn(\n            \"State is signed but no secret is provided, ignoring signature verification\"\n          );\n          state = parsedState.data;\n        }\n      } else {\n        state = parsedState;\n      }\n    } catch (e) {\n      if (e instanceof InvalidStateSignatureError) {\n        throw e;\n      }\n      console.warn(\n        \"Failed to parse state from frame message, are you sure that the state was constructed by frames.js?\"\n      );\n      state = ctx.initialState;\n    }\n  }\n  return state;\n}\nasync function serializeState(state, ctx) {\n  if (state === void 0) {\n    return void 0;\n  }\n  if (ctx.request.method === \"POST\") {\n    if (ctx.stateSigningSecret) {\n      const signature = await (0,_chunk_GHPJOFJY_js__WEBPACK_IMPORTED_MODULE_0__.createHMACSignature)(\n        JSON.stringify(state),\n        ctx.stateSigningSecret\n      ).then((buf) => buf.toString(\"hex\"));\n      return JSON.stringify({\n        data: state,\n        __sig: signature\n      });\n    }\n    return JSON.stringify(state);\n  }\n  console.warn(\n    \"Warning (frames.js): State is not supported on initial request (the one initialized when Frames are rendered for first time, that uses GET request) and will be ignored\"\n  );\n  return void 0;\n}\nfunction stateMiddleware() {\n  return async (ctx, next) => {\n    const messageOrInitialState = await extractStateFromMessage(\n      ctx,\n      ctx.initialState\n    );\n    const nextResult = await next({\n      state: messageOrInitialState\n    });\n    if ((0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_1__.isFrameDefinition)(nextResult)) {\n      return {\n        ...nextResult,\n        state: await serializeState(\n          nextResult.state ?? messageOrInitialState,\n          ctx\n        )\n      };\n    }\n    return nextResult;\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstR0FKNFRYR1IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUc2QjtBQUdBOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx1RUFBbUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHVFQUFtQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsUUFBUSxxRUFBaUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFLRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstR0FKNFRYR1IuanM/MDIxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjcmVhdGVITUFDU2lnbmF0dXJlLFxuICB2ZXJpZnlITUFDU2lnbmF0dXJlXG59IGZyb20gXCIuL2NodW5rLUdIUEpPRkpZLmpzXCI7XG5pbXBvcnQge1xuICBpc0ZyYW1lRGVmaW5pdGlvblxufSBmcm9tIFwiLi9jaHVuay1ZVzJMUkVNWS5qc1wiO1xuXG4vLyBzcmMvbWlkZGxld2FyZS9zdGF0ZU1pZGRsZXdhcmUudHNcbnZhciBJbnZhbGlkU3RhdGVTaWduYXR1cmVFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xufTtcbmZ1bmN0aW9uIGlzU2lnbmVkU3RhdGUoZGF0YSkge1xuICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgZGF0YSAhPT0gbnVsbCAmJiBcImRhdGFcIiBpbiBkYXRhICYmIFwiX19zaWdcIiBpbiBkYXRhICYmIHR5cGVvZiBkYXRhLl9fc2lnID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gcGFyc2VTdGF0ZShzdGF0ZSkge1xuICByZXR1cm4gSlNPTi5wYXJzZShzdGF0ZSk7XG59XG5hc3luYyBmdW5jdGlvbiBleHRyYWN0U3RhdGVGcm9tTWVzc2FnZShjdHgsIGluaXRpYWxTdGF0ZSkge1xuICBsZXQgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIGlmIChcIm1lc3NhZ2VcIiBpbiBjdHggJiYgdHlwZW9mIGN0eC5tZXNzYWdlID09PSBcIm9iamVjdFwiICYmIGN0eC5tZXNzYWdlICYmIFwic3RhdGVcIiBpbiBjdHgubWVzc2FnZSAmJiBjdHgubWVzc2FnZS5zdGF0ZSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIGN0eC5tZXNzYWdlLnN0YXRlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0YXRlIGlzIG5vdCBhIHN0cmluZ1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnNlZFN0YXRlID0gcGFyc2VTdGF0ZShjdHgubWVzc2FnZS5zdGF0ZSk7XG4gICAgICBpZiAoaXNTaWduZWRTdGF0ZShwYXJzZWRTdGF0ZSkpIHtcbiAgICAgICAgaWYgKGN0eC5zdGF0ZVNpZ25pbmdTZWNyZXQpIHtcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkU2lnbmF0dXJlID0gYXdhaXQgdmVyaWZ5SE1BQ1NpZ25hdHVyZShcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHBhcnNlZFN0YXRlLmRhdGEpLFxuICAgICAgICAgICAgQnVmZmVyLmZyb20ocGFyc2VkU3RhdGUuX19zaWcsIFwiaGV4XCIpLFxuICAgICAgICAgICAgY3R4LnN0YXRlU2lnbmluZ1NlY3JldFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkU2lnbmF0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFN0YXRlU2lnbmF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgIFwiU3RhdGUgc2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBmYWlsZWRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBwYXJzZWRTdGF0ZS5kYXRhO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlN0YXRlIGlzIHNpZ25lZCBidXQgbm8gc2VjcmV0IGlzIHByb3ZpZGVkLCBpZ25vcmluZyBzaWduYXR1cmUgdmVyaWZpY2F0aW9uXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHN0YXRlID0gcGFyc2VkU3RhdGUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUgPSBwYXJzZWRTdGF0ZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIEludmFsaWRTdGF0ZVNpZ25hdHVyZUVycm9yKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiRmFpbGVkIHRvIHBhcnNlIHN0YXRlIGZyb20gZnJhbWUgbWVzc2FnZSwgYXJlIHlvdSBzdXJlIHRoYXQgdGhlIHN0YXRlIHdhcyBjb25zdHJ1Y3RlZCBieSBmcmFtZXMuanM/XCJcbiAgICAgICk7XG4gICAgICBzdGF0ZSA9IGN0eC5pbml0aWFsU3RhdGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNlcmlhbGl6ZVN0YXRlKHN0YXRlLCBjdHgpIHtcbiAgaWYgKHN0YXRlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGlmIChjdHgucmVxdWVzdC5tZXRob2QgPT09IFwiUE9TVFwiKSB7XG4gICAgaWYgKGN0eC5zdGF0ZVNpZ25pbmdTZWNyZXQpIHtcbiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IGNyZWF0ZUhNQUNTaWduYXR1cmUoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHN0YXRlKSxcbiAgICAgICAgY3R4LnN0YXRlU2lnbmluZ1NlY3JldFxuICAgICAgKS50aGVuKChidWYpID0+IGJ1Zi50b1N0cmluZyhcImhleFwiKSk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBkYXRhOiBzdGF0ZSxcbiAgICAgICAgX19zaWc6IHNpZ25hdHVyZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdGF0ZSk7XG4gIH1cbiAgY29uc29sZS53YXJuKFxuICAgIFwiV2FybmluZyAoZnJhbWVzLmpzKTogU3RhdGUgaXMgbm90IHN1cHBvcnRlZCBvbiBpbml0aWFsIHJlcXVlc3QgKHRoZSBvbmUgaW5pdGlhbGl6ZWQgd2hlbiBGcmFtZXMgYXJlIHJlbmRlcmVkIGZvciBmaXJzdCB0aW1lLCB0aGF0IHVzZXMgR0VUIHJlcXVlc3QpIGFuZCB3aWxsIGJlIGlnbm9yZWRcIlxuICApO1xuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gc3RhdGVNaWRkbGV3YXJlKCkge1xuICByZXR1cm4gYXN5bmMgKGN0eCwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2VPckluaXRpYWxTdGF0ZSA9IGF3YWl0IGV4dHJhY3RTdGF0ZUZyb21NZXNzYWdlKFxuICAgICAgY3R4LFxuICAgICAgY3R4LmluaXRpYWxTdGF0ZVxuICAgICk7XG4gICAgY29uc3QgbmV4dFJlc3VsdCA9IGF3YWl0IG5leHQoe1xuICAgICAgc3RhdGU6IG1lc3NhZ2VPckluaXRpYWxTdGF0ZVxuICAgIH0pO1xuICAgIGlmIChpc0ZyYW1lRGVmaW5pdGlvbihuZXh0UmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubmV4dFJlc3VsdCxcbiAgICAgICAgc3RhdGU6IGF3YWl0IHNlcmlhbGl6ZVN0YXRlKFxuICAgICAgICAgIG5leHRSZXN1bHQuc3RhdGUgPz8gbWVzc2FnZU9ySW5pdGlhbFN0YXRlLFxuICAgICAgICAgIGN0eFxuICAgICAgICApXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbmV4dFJlc3VsdDtcbiAgfTtcbn1cblxuZXhwb3J0IHtcbiAgSW52YWxpZFN0YXRlU2lnbmF0dXJlRXJyb3IsXG4gIHN0YXRlTWlkZGxld2FyZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GAJ4TXGR.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GHPJOFJY.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GHPJOFJY.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHMACSignature: () => (/* binding */ createHMACSignature),\n/* harmony export */   verifyHMACSignature: () => (/* binding */ verifyHMACSignature)\n/* harmony export */ });\n/* harmony import */ var node_buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:buffer */ \"node:buffer\");\n// src/lib/crypto.ts\n\nasync function getCryptoImplementation() {\n  if (typeof EdgeRuntime !== \"string\") {\n    return Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! node:crypto */ \"node:crypto\", 19)).then((mod) => mod.webcrypto);\n  }\n  return crypto;\n}\nasync function createKey(secret) {\n  const crypto2 = await getCryptoImplementation();\n  return crypto2.subtle.importKey(\n    \"raw\",\n    new TextEncoder().encode(secret),\n    { name: \"HMAC\", hash: \"SHA-256\" },\n    false,\n    [\"sign\", \"verify\"]\n  );\n}\nasync function createHMACSignature(data, secret) {\n  const crypto2 = await getCryptoImplementation();\n  const secretKey = await createKey(secret);\n  return crypto2.subtle.sign(\n    {\n      name: \"HMAC\"\n    },\n    secretKey,\n    node_buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(data)\n  ).then((arrayBuffer) => node_buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(new Uint8Array(arrayBuffer)));\n}\nasync function verifyHMACSignature(data, signature, secret) {\n  const crypto2 = await getCryptoImplementation();\n  const secretKey = await createKey(secret);\n  return crypto2.subtle.verify(\n    {\n      name: \"HMAC\"\n    },\n    secretKey,\n    signature,\n    node_buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(data)\n  );\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstR0hQSk9GSlkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDcUM7QUFDckM7QUFDQTtBQUNBLFdBQVcsNEhBQXFCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtCQUErQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUksK0NBQU07QUFDViwwQkFBMEIsK0NBQU07QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUksK0NBQU07QUFDVjtBQUNBOztBQUtFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1HSFBKT0ZKWS5qcz84NjczIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvY3J5cHRvLnRzXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwibm9kZTpidWZmZXJcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldENyeXB0b0ltcGxlbWVudGF0aW9uKCkge1xuICBpZiAodHlwZW9mIEVkZ2VSdW50aW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGltcG9ydChcIm5vZGU6Y3J5cHRvXCIpLnRoZW4oKG1vZCkgPT4gbW9kLndlYmNyeXB0byk7XG4gIH1cbiAgcmV0dXJuIGNyeXB0bztcbn1cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUtleShzZWNyZXQpIHtcbiAgY29uc3QgY3J5cHRvMiA9IGF3YWl0IGdldENyeXB0b0ltcGxlbWVudGF0aW9uKCk7XG4gIHJldHVybiBjcnlwdG8yLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgXCJyYXdcIixcbiAgICBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc2VjcmV0KSxcbiAgICB7IG5hbWU6IFwiSE1BQ1wiLCBoYXNoOiBcIlNIQS0yNTZcIiB9LFxuICAgIGZhbHNlLFxuICAgIFtcInNpZ25cIiwgXCJ2ZXJpZnlcIl1cbiAgKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUhNQUNTaWduYXR1cmUoZGF0YSwgc2VjcmV0KSB7XG4gIGNvbnN0IGNyeXB0bzIgPSBhd2FpdCBnZXRDcnlwdG9JbXBsZW1lbnRhdGlvbigpO1xuICBjb25zdCBzZWNyZXRLZXkgPSBhd2FpdCBjcmVhdGVLZXkoc2VjcmV0KTtcbiAgcmV0dXJuIGNyeXB0bzIuc3VidGxlLnNpZ24oXG4gICAge1xuICAgICAgbmFtZTogXCJITUFDXCJcbiAgICB9LFxuICAgIHNlY3JldEtleSxcbiAgICBCdWZmZXIuZnJvbShkYXRhKVxuICApLnRoZW4oKGFycmF5QnVmZmVyKSA9PiBCdWZmZXIuZnJvbShuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHZlcmlmeUhNQUNTaWduYXR1cmUoZGF0YSwgc2lnbmF0dXJlLCBzZWNyZXQpIHtcbiAgY29uc3QgY3J5cHRvMiA9IGF3YWl0IGdldENyeXB0b0ltcGxlbWVudGF0aW9uKCk7XG4gIGNvbnN0IHNlY3JldEtleSA9IGF3YWl0IGNyZWF0ZUtleShzZWNyZXQpO1xuICByZXR1cm4gY3J5cHRvMi5zdWJ0bGUudmVyaWZ5KFxuICAgIHtcbiAgICAgIG5hbWU6IFwiSE1BQ1wiXG4gICAgfSxcbiAgICBzZWNyZXRLZXksXG4gICAgc2lnbmF0dXJlLFxuICAgIEJ1ZmZlci5mcm9tKGRhdGEpXG4gICk7XG59XG5cbmV4cG9ydCB7XG4gIGNyZWF0ZUhNQUNTaWduYXR1cmUsXG4gIHZlcmlmeUhNQUNTaWduYXR1cmVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GHPJOFJY.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GZOOY22I.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GZOOY22I.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFrameMessage: () => (/* binding */ getFrameMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-COE5BZEX.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-COE5BZEX.js\");\n/* harmony import */ var _chunk_KKNJPZAT_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-KKNJPZAT.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KKNJPZAT.js\");\n/* harmony import */ var _chunk_LHDFXW4M_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-LHDFXW4M.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LHDFXW4M.js\");\n/* harmony import */ var _chunk_ZQQAQGFE_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-ZQQAQGFE.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZQQAQGFE.js\");\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-T2UQQRTL.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-7EKETE7Q.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-7EKETE7Q.js\");\n/* harmony import */ var _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-WYDZZYLM.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-WYDZZYLM.js\");\n/* harmony import */ var viem_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! viem/utils */ \"(rsc)/../../node_modules/.pnpm/viem@2.25.0_typescript@5.8.3_zod@3.24.2/node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\n\n\n\n\n// src/getFrameMessage.ts\n\nfunction assertIsFarcasterMessage(message) {\n  if (!message.data) {\n    throw new _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_0__.InvalidFrameActionPayloadError(\n      \"Could not decode the message, it is not a valid Farcaster message.\"\n    );\n  }\n}\nasync function getFrameMessage(payload, {\n  fetchHubContext = true,\n  hubHttpUrl = _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_HUB_API_URL,\n  hubRequestOptions\n} = {}) {\n  let requestOptions = hubRequestOptions || {};\n  if (hubHttpUrl === _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_HUB_API_URL) {\n    requestOptions = {\n      headers: {\n        api_key: _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_HUB_API_KEY\n      }\n    };\n  }\n  const decodedMessage = _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_6__.Message.decode(\n    Buffer.from(payload.trustedData.messageBytes, \"hex\")\n  );\n  assertIsFarcasterMessage(decodedMessage);\n  const {\n    url: urlBytes,\n    buttonIndex,\n    inputText: inputTextBytes,\n    state: stateBytes,\n    transactionId: transactionIdBytes,\n    address: transactionAddressBytes\n  } = decodedMessage.data.frameActionBody;\n  const url = Buffer.from(urlBytes).toString(\"utf-8\");\n  const inputText = Buffer.from(inputTextBytes).toString(\"utf-8\");\n  const transactionId = transactionIdBytes.length > 0 ? (0,viem_utils__WEBPACK_IMPORTED_MODULE_7__.bytesToHex)(transactionIdBytes) : void 0;\n  const address = transactionAddressBytes.length > 0 ? (0,viem_utils__WEBPACK_IMPORTED_MODULE_7__.bytesToHex)(transactionAddressBytes) : void 0;\n  const requesterFid = decodedMessage.data.fid;\n  const castId = decodedMessage.data.frameActionBody.castId ? (0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_5__.normalizeCastId)(decodedMessage.data.frameActionBody.castId) : void 0;\n  const state = Buffer.from(stateBytes).toString(\"utf-8\");\n  const parsedData = {\n    url,\n    buttonIndex,\n    castId,\n    inputText,\n    requesterFid,\n    state,\n    connectedAddress: address,\n    address,\n    transactionId\n  };\n  if (fetchHubContext) {\n    const [\n      validationResult,\n      requesterFollowsCaster,\n      casterFollowsRequester,\n      likedCast,\n      recastedCast,\n      requesterEthAddresses,\n      requesterUserData\n    ] = await Promise.all([\n      (0,_chunk_LHDFXW4M_js__WEBPACK_IMPORTED_MODULE_2__.validateFrameMessage)(payload, {\n        hubHttpUrl,\n        hubRequestOptions: requestOptions\n      }),\n      fetch(\n        `${hubHttpUrl}/v1/linkById?fid=${requesterFid}&target_fid=${castId?.fid}&link_type=follow`,\n        requestOptions\n      ).then((res) => res.ok || requesterFid === castId?.fid),\n      fetch(\n        `${hubHttpUrl}/v1/linkById?fid=${castId?.fid}&target_fid=${requesterFid}&link_type=follow`,\n        requestOptions\n      ).then((res) => res.ok || requesterFid === castId?.fid),\n      fetch(\n        `${hubHttpUrl}/v1/reactionById?fid=${requesterFid}&reaction_type=1&target_fid=${castId?.fid}&target_hash=${castId?.hash}`,\n        requestOptions\n      ).then((res) => res.ok),\n      fetch(\n        `${hubHttpUrl}/v1/reactionById?fid=${requesterFid}&reaction_type=2&target_fid=${castId?.fid}&target_hash=${castId?.hash}`,\n        requestOptions\n      ).then((res) => res.ok),\n      (0,_chunk_ZQQAQGFE_js__WEBPACK_IMPORTED_MODULE_3__.getAddressesForFid)({\n        fid: requesterFid,\n        options: {\n          hubHttpUrl,\n          hubRequestOptions: requestOptions\n        }\n      }),\n      (0,_chunk_KKNJPZAT_js__WEBPACK_IMPORTED_MODULE_1__.getUserDataForFid)({\n        fid: requesterFid,\n        options: {\n          hubHttpUrl,\n          hubRequestOptions: requestOptions\n        }\n      })\n    ]);\n    const requesterCustodyAddress = requesterEthAddresses.find(\n      (item) => item.type === \"custody\"\n    )?.address;\n    if (!requesterCustodyAddress) {\n      throw new Error(\"Custody address not found\");\n    }\n    const requesterVerifiedAddresses = requesterEthAddresses.filter((item) => item.type === \"verified\").map((item) => item.address);\n    const hubContext = {\n      isValid: validationResult.isValid,\n      casterFollowsRequester,\n      requesterFollowsCaster,\n      likedCast,\n      recastedCast,\n      requesterVerifiedAddresses,\n      requesterCustodyAddress,\n      requesterUserData\n    };\n    return { ...parsedData, ...hubContext };\n  }\n  return parsedData;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstR1pPT1kyMkkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRTZCO0FBR0E7QUFHQTtBQUdBO0FBSUE7QUFHQTtBQUdBOztBQUU3QjtBQUN3QztBQUN4QztBQUNBO0FBQ0EsY0FBYyw4RUFBOEI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtRUFBbUI7QUFDbEM7QUFDQSxFQUFFLElBQUk7QUFDTjtBQUNBLHFCQUFxQixtRUFBbUI7QUFDeEM7QUFDQTtBQUNBLGlCQUFpQixtRUFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFPO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSx3REFBd0Qsc0RBQVU7QUFDbEUsdURBQXVELHNEQUFVO0FBQ2pFO0FBQ0EsOERBQThELG1FQUFlO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx3RUFBb0I7QUFDMUI7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLFdBQVcsV0FBVyxtQkFBbUIsYUFBYSxjQUFjLFlBQVk7QUFDaEY7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXLG1CQUFtQixZQUFZLGNBQWMsYUFBYTtBQUNoRjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVcsdUJBQXVCLGFBQWEsOEJBQThCLFlBQVksZUFBZSxhQUFhO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVyx1QkFBdUIsYUFBYSw4QkFBOEIsWUFBWSxlQUFlLGFBQWE7QUFDaEk7QUFDQTtBQUNBLE1BQU0sc0VBQWtCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTSxxRUFBaUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1HWk9PWTIySS5qcz9hOGEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEludmFsaWRGcmFtZUFjdGlvblBheWxvYWRFcnJvclxufSBmcm9tIFwiLi9jaHVuay1DT0U1QlpFWC5qc1wiO1xuaW1wb3J0IHtcbiAgZ2V0VXNlckRhdGFGb3JGaWRcbn0gZnJvbSBcIi4vY2h1bmstS0tOSlBaQVQuanNcIjtcbmltcG9ydCB7XG4gIHZhbGlkYXRlRnJhbWVNZXNzYWdlXG59IGZyb20gXCIuL2NodW5rLUxIREZYVzRNLmpzXCI7XG5pbXBvcnQge1xuICBnZXRBZGRyZXNzZXNGb3JGaWRcbn0gZnJvbSBcIi4vY2h1bmstWlFRQVFHRkUuanNcIjtcbmltcG9ydCB7XG4gIERFRkFVTFRfSFVCX0FQSV9LRVksXG4gIERFRkFVTFRfSFVCX0FQSV9VUkxcbn0gZnJvbSBcIi4vY2h1bmstVDJVUVFSVEwuanNcIjtcbmltcG9ydCB7XG4gIG5vcm1hbGl6ZUNhc3RJZFxufSBmcm9tIFwiLi9jaHVuay03RUtFVEU3US5qc1wiO1xuaW1wb3J0IHtcbiAgTWVzc2FnZVxufSBmcm9tIFwiLi9jaHVuay1XWURaWllMTS5qc1wiO1xuXG4vLyBzcmMvZ2V0RnJhbWVNZXNzYWdlLnRzXG5pbXBvcnQgeyBieXRlc1RvSGV4IH0gZnJvbSBcInZpZW0vdXRpbHNcIjtcbmZ1bmN0aW9uIGFzc2VydElzRmFyY2FzdGVyTWVzc2FnZShtZXNzYWdlKSB7XG4gIGlmICghbWVzc2FnZS5kYXRhKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRGcmFtZUFjdGlvblBheWxvYWRFcnJvcihcbiAgICAgIFwiQ291bGQgbm90IGRlY29kZSB0aGUgbWVzc2FnZSwgaXQgaXMgbm90IGEgdmFsaWQgRmFyY2FzdGVyIG1lc3NhZ2UuXCJcbiAgICApO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBnZXRGcmFtZU1lc3NhZ2UocGF5bG9hZCwge1xuICBmZXRjaEh1YkNvbnRleHQgPSB0cnVlLFxuICBodWJIdHRwVXJsID0gREVGQVVMVF9IVUJfQVBJX1VSTCxcbiAgaHViUmVxdWVzdE9wdGlvbnNcbn0gPSB7fSkge1xuICBsZXQgcmVxdWVzdE9wdGlvbnMgPSBodWJSZXF1ZXN0T3B0aW9ucyB8fCB7fTtcbiAgaWYgKGh1Ykh0dHBVcmwgPT09IERFRkFVTFRfSFVCX0FQSV9VUkwpIHtcbiAgICByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXBpX2tleTogREVGQVVMVF9IVUJfQVBJX0tFWVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgY29uc3QgZGVjb2RlZE1lc3NhZ2UgPSBNZXNzYWdlLmRlY29kZShcbiAgICBCdWZmZXIuZnJvbShwYXlsb2FkLnRydXN0ZWREYXRhLm1lc3NhZ2VCeXRlcywgXCJoZXhcIilcbiAgKTtcbiAgYXNzZXJ0SXNGYXJjYXN0ZXJNZXNzYWdlKGRlY29kZWRNZXNzYWdlKTtcbiAgY29uc3Qge1xuICAgIHVybDogdXJsQnl0ZXMsXG4gICAgYnV0dG9uSW5kZXgsXG4gICAgaW5wdXRUZXh0OiBpbnB1dFRleHRCeXRlcyxcbiAgICBzdGF0ZTogc3RhdGVCeXRlcyxcbiAgICB0cmFuc2FjdGlvbklkOiB0cmFuc2FjdGlvbklkQnl0ZXMsXG4gICAgYWRkcmVzczogdHJhbnNhY3Rpb25BZGRyZXNzQnl0ZXNcbiAgfSA9IGRlY29kZWRNZXNzYWdlLmRhdGEuZnJhbWVBY3Rpb25Cb2R5O1xuICBjb25zdCB1cmwgPSBCdWZmZXIuZnJvbSh1cmxCeXRlcykudG9TdHJpbmcoXCJ1dGYtOFwiKTtcbiAgY29uc3QgaW5wdXRUZXh0ID0gQnVmZmVyLmZyb20oaW5wdXRUZXh0Qnl0ZXMpLnRvU3RyaW5nKFwidXRmLThcIik7XG4gIGNvbnN0IHRyYW5zYWN0aW9uSWQgPSB0cmFuc2FjdGlvbklkQnl0ZXMubGVuZ3RoID4gMCA/IGJ5dGVzVG9IZXgodHJhbnNhY3Rpb25JZEJ5dGVzKSA6IHZvaWQgMDtcbiAgY29uc3QgYWRkcmVzcyA9IHRyYW5zYWN0aW9uQWRkcmVzc0J5dGVzLmxlbmd0aCA+IDAgPyBieXRlc1RvSGV4KHRyYW5zYWN0aW9uQWRkcmVzc0J5dGVzKSA6IHZvaWQgMDtcbiAgY29uc3QgcmVxdWVzdGVyRmlkID0gZGVjb2RlZE1lc3NhZ2UuZGF0YS5maWQ7XG4gIGNvbnN0IGNhc3RJZCA9IGRlY29kZWRNZXNzYWdlLmRhdGEuZnJhbWVBY3Rpb25Cb2R5LmNhc3RJZCA/IG5vcm1hbGl6ZUNhc3RJZChkZWNvZGVkTWVzc2FnZS5kYXRhLmZyYW1lQWN0aW9uQm9keS5jYXN0SWQpIDogdm9pZCAwO1xuICBjb25zdCBzdGF0ZSA9IEJ1ZmZlci5mcm9tKHN0YXRlQnl0ZXMpLnRvU3RyaW5nKFwidXRmLThcIik7XG4gIGNvbnN0IHBhcnNlZERhdGEgPSB7XG4gICAgdXJsLFxuICAgIGJ1dHRvbkluZGV4LFxuICAgIGNhc3RJZCxcbiAgICBpbnB1dFRleHQsXG4gICAgcmVxdWVzdGVyRmlkLFxuICAgIHN0YXRlLFxuICAgIGNvbm5lY3RlZEFkZHJlc3M6IGFkZHJlc3MsXG4gICAgYWRkcmVzcyxcbiAgICB0cmFuc2FjdGlvbklkXG4gIH07XG4gIGlmIChmZXRjaEh1YkNvbnRleHQpIHtcbiAgICBjb25zdCBbXG4gICAgICB2YWxpZGF0aW9uUmVzdWx0LFxuICAgICAgcmVxdWVzdGVyRm9sbG93c0Nhc3RlcixcbiAgICAgIGNhc3RlckZvbGxvd3NSZXF1ZXN0ZXIsXG4gICAgICBsaWtlZENhc3QsXG4gICAgICByZWNhc3RlZENhc3QsXG4gICAgICByZXF1ZXN0ZXJFdGhBZGRyZXNzZXMsXG4gICAgICByZXF1ZXN0ZXJVc2VyRGF0YVxuICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICB2YWxpZGF0ZUZyYW1lTWVzc2FnZShwYXlsb2FkLCB7XG4gICAgICAgIGh1Ykh0dHBVcmwsXG4gICAgICAgIGh1YlJlcXVlc3RPcHRpb25zOiByZXF1ZXN0T3B0aW9uc1xuICAgICAgfSksXG4gICAgICBmZXRjaChcbiAgICAgICAgYCR7aHViSHR0cFVybH0vdjEvbGlua0J5SWQ/ZmlkPSR7cmVxdWVzdGVyRmlkfSZ0YXJnZXRfZmlkPSR7Y2FzdElkPy5maWR9JmxpbmtfdHlwZT1mb2xsb3dgLFxuICAgICAgICByZXF1ZXN0T3B0aW9uc1xuICAgICAgKS50aGVuKChyZXMpID0+IHJlcy5vayB8fCByZXF1ZXN0ZXJGaWQgPT09IGNhc3RJZD8uZmlkKSxcbiAgICAgIGZldGNoKFxuICAgICAgICBgJHtodWJIdHRwVXJsfS92MS9saW5rQnlJZD9maWQ9JHtjYXN0SWQ/LmZpZH0mdGFyZ2V0X2ZpZD0ke3JlcXVlc3RlckZpZH0mbGlua190eXBlPWZvbGxvd2AsXG4gICAgICAgIHJlcXVlc3RPcHRpb25zXG4gICAgICApLnRoZW4oKHJlcykgPT4gcmVzLm9rIHx8IHJlcXVlc3RlckZpZCA9PT0gY2FzdElkPy5maWQpLFxuICAgICAgZmV0Y2goXG4gICAgICAgIGAke2h1Ykh0dHBVcmx9L3YxL3JlYWN0aW9uQnlJZD9maWQ9JHtyZXF1ZXN0ZXJGaWR9JnJlYWN0aW9uX3R5cGU9MSZ0YXJnZXRfZmlkPSR7Y2FzdElkPy5maWR9JnRhcmdldF9oYXNoPSR7Y2FzdElkPy5oYXNofWAsXG4gICAgICAgIHJlcXVlc3RPcHRpb25zXG4gICAgICApLnRoZW4oKHJlcykgPT4gcmVzLm9rKSxcbiAgICAgIGZldGNoKFxuICAgICAgICBgJHtodWJIdHRwVXJsfS92MS9yZWFjdGlvbkJ5SWQ/ZmlkPSR7cmVxdWVzdGVyRmlkfSZyZWFjdGlvbl90eXBlPTImdGFyZ2V0X2ZpZD0ke2Nhc3RJZD8uZmlkfSZ0YXJnZXRfaGFzaD0ke2Nhc3RJZD8uaGFzaH1gLFxuICAgICAgICByZXF1ZXN0T3B0aW9uc1xuICAgICAgKS50aGVuKChyZXMpID0+IHJlcy5vayksXG4gICAgICBnZXRBZGRyZXNzZXNGb3JGaWQoe1xuICAgICAgICBmaWQ6IHJlcXVlc3RlckZpZCxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGh1Ykh0dHBVcmwsXG4gICAgICAgICAgaHViUmVxdWVzdE9wdGlvbnM6IHJlcXVlc3RPcHRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgZ2V0VXNlckRhdGFGb3JGaWQoe1xuICAgICAgICBmaWQ6IHJlcXVlc3RlckZpZCxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGh1Ykh0dHBVcmwsXG4gICAgICAgICAgaHViUmVxdWVzdE9wdGlvbnM6IHJlcXVlc3RPcHRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgXSk7XG4gICAgY29uc3QgcmVxdWVzdGVyQ3VzdG9keUFkZHJlc3MgPSByZXF1ZXN0ZXJFdGhBZGRyZXNzZXMuZmluZChcbiAgICAgIChpdGVtKSA9PiBpdGVtLnR5cGUgPT09IFwiY3VzdG9keVwiXG4gICAgKT8uYWRkcmVzcztcbiAgICBpZiAoIXJlcXVlc3RlckN1c3RvZHlBZGRyZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b2R5IGFkZHJlc3Mgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXF1ZXN0ZXJWZXJpZmllZEFkZHJlc3NlcyA9IHJlcXVlc3RlckV0aEFkZHJlc3Nlcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udHlwZSA9PT0gXCJ2ZXJpZmllZFwiKS5tYXAoKGl0ZW0pID0+IGl0ZW0uYWRkcmVzcyk7XG4gICAgY29uc3QgaHViQ29udGV4dCA9IHtcbiAgICAgIGlzVmFsaWQ6IHZhbGlkYXRpb25SZXN1bHQuaXNWYWxpZCxcbiAgICAgIGNhc3RlckZvbGxvd3NSZXF1ZXN0ZXIsXG4gICAgICByZXF1ZXN0ZXJGb2xsb3dzQ2FzdGVyLFxuICAgICAgbGlrZWRDYXN0LFxuICAgICAgcmVjYXN0ZWRDYXN0LFxuICAgICAgcmVxdWVzdGVyVmVyaWZpZWRBZGRyZXNzZXMsXG4gICAgICByZXF1ZXN0ZXJDdXN0b2R5QWRkcmVzcyxcbiAgICAgIHJlcXVlc3RlclVzZXJEYXRhXG4gICAgfTtcbiAgICByZXR1cm4geyAuLi5wYXJzZWREYXRhLCAuLi5odWJDb250ZXh0IH07XG4gIH1cbiAgcmV0dXJuIHBhcnNlZERhdGE7XG59XG5cbmV4cG9ydCB7XG4gIGdldEZyYW1lTWVzc2FnZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GZOOY22I.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-HCF7TXMO.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-HCF7TXMO.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);


/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-HQMSGIJS.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-HQMSGIJS.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFrames: () => (/* binding */ createFrames)\n/* harmony export */ });\n/* harmony import */ var _chunk_NJA2QQYR_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-NJA2QQYR.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-NJA2QQYR.js\");\n/* harmony import */ var _chunk_ON2PQMQU_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-ON2PQMQU.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ON2PQMQU.js\");\n/* harmony import */ var _chunk_GAJ4TXGR_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-GAJ4TXGR.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GAJ4TXGR.js\");\n/* harmony import */ var _chunk_2AVY42GE_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-2AVY42GE.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-2AVY42GE.js\");\n/* harmony import */ var _chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-YW2LREMY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-YW2LREMY.js\");\n/* harmony import */ var _chunk_LVMQ4PXS_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-LVMQ4PXS.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LVMQ4PXS.js\");\n\n\n\n\n\n\n\n// src/core/createFrames.ts\nfunction createFrames({\n  basePath = \"/\",\n  initialState,\n  middleware,\n  baseUrl,\n  imagesRoute,\n  imageRenderingOptions,\n  imagesSigningSecret,\n  stateSigningSecret,\n  signingSecret,\n  debug = false\n} = {}) {\n  const globalMiddleware = middleware || [];\n  let url;\n  if (typeof baseUrl === \"string\") {\n    try {\n      url = new URL(baseUrl);\n    } catch (e) {\n      throw new Error(`Invalid baseUrl: ${e.message}`);\n    }\n  } else {\n    url = baseUrl;\n  }\n  return function createFramesRequestHandler(handler, options = {}) {\n    const perRouteMiddleware = Array.isArray(options.middleware) ? options.middleware : [];\n    const composedMiddleware = (0,_chunk_LVMQ4PXS_js__WEBPACK_IMPORTED_MODULE_5__.composeMiddleware)([\n      ..._chunk_2AVY42GE_js__WEBPACK_IMPORTED_MODULE_3__.coreMiddleware,\n      // @ts-expect-error hard to type internally so skipping for now\n      (0,_chunk_NJA2QQYR_js__WEBPACK_IMPORTED_MODULE_0__.imagesWorkerMiddleware)({\n        imagesRoute: imagesRoute === void 0 ? \"/\" : imagesRoute,\n        imageRenderingOptions,\n        secret: imagesSigningSecret || signingSecret\n      }),\n      // @ts-expect-error hard to type internally so skipping for now\n      ...globalMiddleware,\n      (0,_chunk_GAJ4TXGR_js__WEBPACK_IMPORTED_MODULE_2__.stateMiddleware)(),\n      // @ts-expect-error hard to type internally so skipping for now\n      (0,_chunk_ON2PQMQU_js__WEBPACK_IMPORTED_MODULE_1__.walletAddressMiddleware)(),\n      // @ts-expect-error hard to type internally so skipping for now\n      ...perRouteMiddleware,\n      // @ts-expect-error hard to type internally so skipping for now\n      async function handlerMiddleware(ctx) {\n        return handler(ctx);\n      }\n    ]);\n    return async function handleFramesRequest(request) {\n      const context = {\n        basePath,\n        initialState,\n        request,\n        url: new URL(request.url),\n        baseUrl: (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_4__.resolveBaseUrl)(request, url, basePath),\n        stateSigningSecret: stateSigningSecret || signingSecret,\n        walletAddress() {\n          console.warn(\n            \"Warning (frames.js): `walletAddress()` should be implemented\"\n          );\n          return Promise.resolve(void 0);\n        },\n        debug,\n        __debugInfo: {}\n      };\n      if (imagesRoute === void 0 && // Detect non-standard route\n      !context.baseUrl.pathname.endsWith(\"/frames\")) {\n        console.warn(\n          `Warning (frames.js): \\`imagesRoute\\` option is not set in createFrames call, falling back to '${context.baseUrl.toString()}' for image rendering. Set this to the path of your initial frame relative to the \\`basePath\\` to avoid this warning. See https://framesjs.org/reference/core/createFrames#imagesroute for more information.`\n        );\n      }\n      const result = await composedMiddleware(context);\n      if (!(result instanceof Response)) {\n        throw new Error(\n          \"Please provide a middleware that returns a Response as first middleware in order.\"\n        );\n      }\n      return result;\n    };\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSFFNU0dJSlMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUU2QjtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsSUFBSTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sMENBQTBDLFVBQVU7QUFDcEQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBLCtCQUErQixxRUFBaUI7QUFDaEQsU0FBUyw4REFBYztBQUN2QjtBQUNBLE1BQU0sMEVBQXNCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsTUFBTSxtRUFBZTtBQUNyQjtBQUNBLE1BQU0sMkVBQXVCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtFQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsMkJBQTJCO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSFFNU0dJSlMuanM/NTdkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpbWFnZXNXb3JrZXJNaWRkbGV3YXJlXG59IGZyb20gXCIuL2NodW5rLU5KQTJRUVlSLmpzXCI7XG5pbXBvcnQge1xuICB3YWxsZXRBZGRyZXNzTWlkZGxld2FyZVxufSBmcm9tIFwiLi9jaHVuay1PTjJQUU1RVS5qc1wiO1xuaW1wb3J0IHtcbiAgc3RhdGVNaWRkbGV3YXJlXG59IGZyb20gXCIuL2NodW5rLUdBSjRUWEdSLmpzXCI7XG5pbXBvcnQge1xuICBjb3JlTWlkZGxld2FyZVxufSBmcm9tIFwiLi9jaHVuay0yQVZZNDJHRS5qc1wiO1xuaW1wb3J0IHtcbiAgcmVzb2x2ZUJhc2VVcmxcbn0gZnJvbSBcIi4vY2h1bmstWVcyTFJFTVkuanNcIjtcbmltcG9ydCB7XG4gIGNvbXBvc2VNaWRkbGV3YXJlXG59IGZyb20gXCIuL2NodW5rLUxWTVE0UFhTLmpzXCI7XG5cbi8vIHNyYy9jb3JlL2NyZWF0ZUZyYW1lcy50c1xuZnVuY3Rpb24gY3JlYXRlRnJhbWVzKHtcbiAgYmFzZVBhdGggPSBcIi9cIixcbiAgaW5pdGlhbFN0YXRlLFxuICBtaWRkbGV3YXJlLFxuICBiYXNlVXJsLFxuICBpbWFnZXNSb3V0ZSxcbiAgaW1hZ2VSZW5kZXJpbmdPcHRpb25zLFxuICBpbWFnZXNTaWduaW5nU2VjcmV0LFxuICBzdGF0ZVNpZ25pbmdTZWNyZXQsXG4gIHNpZ25pbmdTZWNyZXQsXG4gIGRlYnVnID0gZmFsc2Vcbn0gPSB7fSkge1xuICBjb25zdCBnbG9iYWxNaWRkbGV3YXJlID0gbWlkZGxld2FyZSB8fCBbXTtcbiAgbGV0IHVybDtcbiAgaWYgKHR5cGVvZiBiYXNlVXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgdHJ5IHtcbiAgICAgIHVybCA9IG5ldyBVUkwoYmFzZVVybCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGJhc2VVcmw6ICR7ZS5tZXNzYWdlfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB1cmwgPSBiYXNlVXJsO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVGcmFtZXNSZXF1ZXN0SGFuZGxlcihoYW5kbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwZXJSb3V0ZU1pZGRsZXdhcmUgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMubWlkZGxld2FyZSkgPyBvcHRpb25zLm1pZGRsZXdhcmUgOiBbXTtcbiAgICBjb25zdCBjb21wb3NlZE1pZGRsZXdhcmUgPSBjb21wb3NlTWlkZGxld2FyZShbXG4gICAgICAuLi5jb3JlTWlkZGxld2FyZSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaGFyZCB0byB0eXBlIGludGVybmFsbHkgc28gc2tpcHBpbmcgZm9yIG5vd1xuICAgICAgaW1hZ2VzV29ya2VyTWlkZGxld2FyZSh7XG4gICAgICAgIGltYWdlc1JvdXRlOiBpbWFnZXNSb3V0ZSA9PT0gdm9pZCAwID8gXCIvXCIgOiBpbWFnZXNSb3V0ZSxcbiAgICAgICAgaW1hZ2VSZW5kZXJpbmdPcHRpb25zLFxuICAgICAgICBzZWNyZXQ6IGltYWdlc1NpZ25pbmdTZWNyZXQgfHwgc2lnbmluZ1NlY3JldFxuICAgICAgfSksXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGhhcmQgdG8gdHlwZSBpbnRlcm5hbGx5IHNvIHNraXBwaW5nIGZvciBub3dcbiAgICAgIC4uLmdsb2JhbE1pZGRsZXdhcmUsXG4gICAgICBzdGF0ZU1pZGRsZXdhcmUoKSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaGFyZCB0byB0eXBlIGludGVybmFsbHkgc28gc2tpcHBpbmcgZm9yIG5vd1xuICAgICAgd2FsbGV0QWRkcmVzc01pZGRsZXdhcmUoKSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaGFyZCB0byB0eXBlIGludGVybmFsbHkgc28gc2tpcHBpbmcgZm9yIG5vd1xuICAgICAgLi4ucGVyUm91dGVNaWRkbGV3YXJlLFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBoYXJkIHRvIHR5cGUgaW50ZXJuYWxseSBzbyBza2lwcGluZyBmb3Igbm93XG4gICAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVyTWlkZGxld2FyZShjdHgpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIoY3R4KTtcbiAgICAgIH1cbiAgICBdKTtcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gaGFuZGxlRnJhbWVzUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBiYXNlUGF0aCxcbiAgICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICB1cmw6IG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgICBiYXNlVXJsOiByZXNvbHZlQmFzZVVybChyZXF1ZXN0LCB1cmwsIGJhc2VQYXRoKSxcbiAgICAgICAgc3RhdGVTaWduaW5nU2VjcmV0OiBzdGF0ZVNpZ25pbmdTZWNyZXQgfHwgc2lnbmluZ1NlY3JldCxcbiAgICAgICAgd2FsbGV0QWRkcmVzcygpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIldhcm5pbmcgKGZyYW1lcy5qcyk6IGB3YWxsZXRBZGRyZXNzKClgIHNob3VsZCBiZSBpbXBsZW1lbnRlZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlYnVnLFxuICAgICAgICBfX2RlYnVnSW5mbzoge31cbiAgICAgIH07XG4gICAgICBpZiAoaW1hZ2VzUm91dGUgPT09IHZvaWQgMCAmJiAvLyBEZXRlY3Qgbm9uLXN0YW5kYXJkIHJvdXRlXG4gICAgICAhY29udGV4dC5iYXNlVXJsLnBhdGhuYW1lLmVuZHNXaXRoKFwiL2ZyYW1lc1wiKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFdhcm5pbmcgKGZyYW1lcy5qcyk6IFxcYGltYWdlc1JvdXRlXFxgIG9wdGlvbiBpcyBub3Qgc2V0IGluIGNyZWF0ZUZyYW1lcyBjYWxsLCBmYWxsaW5nIGJhY2sgdG8gJyR7Y29udGV4dC5iYXNlVXJsLnRvU3RyaW5nKCl9JyBmb3IgaW1hZ2UgcmVuZGVyaW5nLiBTZXQgdGhpcyB0byB0aGUgcGF0aCBvZiB5b3VyIGluaXRpYWwgZnJhbWUgcmVsYXRpdmUgdG8gdGhlIFxcYGJhc2VQYXRoXFxgIHRvIGF2b2lkIHRoaXMgd2FybmluZy4gU2VlIGh0dHBzOi8vZnJhbWVzanMub3JnL3JlZmVyZW5jZS9jb3JlL2NyZWF0ZUZyYW1lcyNpbWFnZXNyb3V0ZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb21wb3NlZE1pZGRsZXdhcmUoY29udGV4dCk7XG4gICAgICBpZiAoIShyZXN1bHQgaW5zdGFuY2VvZiBSZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiUGxlYXNlIHByb3ZpZGUgYSBtaWRkbGV3YXJlIHRoYXQgcmV0dXJucyBhIFJlc3BvbnNlIGFzIGZpcnN0IG1pZGRsZXdhcmUgaW4gb3JkZXIuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHtcbiAgY3JlYXRlRnJhbWVzXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-HQMSGIJS.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-IDQTRI32.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-IDQTRI32.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);


/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-IEXSAVZ4.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-IEXSAVZ4.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderResponse: () => (/* binding */ renderResponse)\n/* harmony export */ });\n/* harmony import */ var _chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-YW2LREMY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-YW2LREMY.js\");\n/* harmony import */ var _chunk_PX7ZYZY7_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-PX7ZYZY7.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-PX7ZYZY7.js\");\n/* harmony import */ var _chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-25BDFC6X.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-25BDFC6X.js\");\n/* harmony import */ var _chunk_M353EKQ7_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-M353EKQ7.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-M353EKQ7.js\");\n/* harmony import */ var _chunk_KOG3IAW5_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-KOG3IAW5.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KOG3IAW5.js\");\n/* harmony import */ var _chunk_VYI5JOSS_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-VYI5JOSS.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VYI5JOSS.js\");\n/* harmony import */ var _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-COE5BZEX.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-COE5BZEX.js\");\n/* harmony import */ var _vercel_og__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @vercel/og */ \"(rsc)/../../node_modules/.pnpm/next@14.2.26_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/og/image-response.js\");\n\n\n\n\n\n\n\n\n// src/middleware/renderResponse.ts\n\nvar InvalidButtonShapeError = class extends Error {\n};\nvar InvalidButtonCountError = class extends Error {\n};\nvar UnrecognizedButtonActionError = class extends Error {\n};\nvar ImageRenderError = class extends Error {\n};\nvar InvalidStateValueError = class extends Error {\n};\nfunction isFrameButtonElement(button) {\n  return \"type\" in button && \"props\" in button && button.type === _chunk_PX7ZYZY7_js__WEBPACK_IMPORTED_MODULE_1__.Button;\n}\nfunction renderResponse() {\n  return async (context, next) => {\n    const wantsJSON = context.request.headers.get(\"accept\") === _chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_2__.FRAMES_META_TAGS_HEADER;\n    let result;\n    try {\n      result = await next(context);\n    } catch (e) {\n      if (e instanceof _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_6__.FrameMessageError) {\n        return Response.json(\n          {\n            message: e.message\n          },\n          {\n            status: e.status\n          }\n        );\n      }\n      console.error(e);\n      return new Response(\n        wantsJSON ? JSON.stringify({ error: \"Internal Server Error\" }) : \"Internal Server Error\",\n        {\n          status: 500,\n          headers: {\n            \"Cache-Control\": \"no-store\",\n            \"Content-Type\": wantsJSON ? \"application/json\" : \"text/plain\"\n          }\n        }\n      );\n    }\n    if (!result) {\n      return new Response(\n        wantsJSON ? JSON.stringify({ error: \"Handler did not return a response\" }) : \"Handler did not return a response\",\n        {\n          status: 500,\n          headers: {\n            \"Cache-Control\": \"no-store\",\n            \"Content-Type\": wantsJSON ? \"application/json\" : \"text/plain\"\n          }\n        }\n      );\n    }\n    if (result instanceof Response) {\n      return result;\n    }\n    if ((0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.isFrameRedirect)(result)) {\n      return new Response(null, {\n        status: result.status ?? 302,\n        headers: {\n          ...result.headers,\n          Location: result.location.toString()\n        }\n      });\n    }\n    try {\n      let state;\n      if (result.state) {\n        if (typeof result.state !== \"string\") {\n          throw new InvalidStateValueError(\"State must be a string\");\n        } else {\n          state = result.state;\n        }\n      }\n      const frame = {\n        version: \"vNext\",\n        state,\n        // @todo rendering image could be moved to its own middleware instead so users can use something different if they want to?\n        // but that would mean that we need to specify middleware manually in any app since importing it here in default middleware\n        // and disabling it, has no effect on final bundle size of app\n        image: typeof result.image === \"string\" ? (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.generateTargetURL)({\n          target: result.image,\n          baseUrl: context.baseUrl\n        }).toString() : await renderImage(result.image, result.imageOptions).catch(\n          (e) => {\n            console.error(e);\n            throw new ImageRenderError(\"Could not render image\");\n          }\n        ),\n        buttons: result.buttons?.slice().filter(\n          (v) => typeof v === \"object\" && v !== null\n        ).map((button, i) => {\n          let props;\n          if (isFrameButtonElement(button)) {\n            props = button.props;\n          } else if (\"action\" in button) {\n            props = button;\n          } else {\n            throw new InvalidButtonShapeError(\"Invalid button provided\");\n          }\n          if (i > 3) {\n            throw new InvalidButtonCountError(\"Up to 4 buttons are allowed\");\n          }\n          const label = \"label\" in props ? props.label : props.children;\n          switch (props.action) {\n            case \"link\":\n              return {\n                action: props.action,\n                label,\n                target: (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.generateTargetURL)({\n                  target: props.target,\n                  baseUrl: context.baseUrl\n                }).toString()\n              };\n            case \"mint\":\n              return {\n                action: props.action,\n                label,\n                target: props.target\n              };\n            case \"tx\":\n              return {\n                action: props.action,\n                label,\n                target: (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.generateButtonTargetURL)({\n                  buttonIndex: i + 1,\n                  buttonAction: props.action,\n                  target: props.target,\n                  baseUrl: context.baseUrl\n                }).toString(),\n                post_url: props.post_url ? (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.generateButtonTargetURL)({\n                  buttonIndex: i + 1,\n                  buttonAction: \"post\",\n                  target: props.post_url,\n                  baseUrl: context.baseUrl\n                }) : void 0\n              };\n            case \"post\":\n            case \"post_redirect\":\n              return {\n                action: props.action,\n                label,\n                target: (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.generateButtonTargetURL)({\n                  buttonIndex: i + 1,\n                  buttonAction: props.action,\n                  target: props.target,\n                  baseUrl: context.baseUrl\n                })\n              };\n            default:\n              throw new UnrecognizedButtonActionError(\n                \"Unrecognized button action\"\n              );\n          }\n        }),\n        inputText: result.textInput,\n        imageAspectRatio: result.imageOptions?.aspectRatio ?? \"1.91:1\",\n        accepts: result.accepts,\n        title: result.title\n      };\n      const overrides = {};\n      if (context.debug) {\n        if (context.__debugInfo.image) {\n          overrides[_chunk_KOG3IAW5_js__WEBPACK_IMPORTED_MODULE_4__.FRAMESJS_DEBUG_INFO_IMAGE_KEY] = context.__debugInfo.image;\n        }\n      }\n      if (wantsJSON) {\n        const flattened = (0,_chunk_VYI5JOSS_js__WEBPACK_IMPORTED_MODULE_5__.getFrameFlattened)(frame, overrides);\n        return new Response(JSON.stringify(flattened), {\n          status: result.status ?? 200,\n          statusText: result.statusText ?? \"OK\",\n          headers: {\n            ...result.headers,\n            \"content-type\": \"application/json\"\n          }\n        });\n      }\n      return new Response((0,_chunk_M353EKQ7_js__WEBPACK_IMPORTED_MODULE_3__.getFrameHtmlHead)(frame, overrides), {\n        status: result.status ?? 200,\n        statusText: result.statusText ?? \"OK\",\n        headers: {\n          ...result.headers,\n          \"content-type\": \"text/html\"\n        }\n      });\n    } catch (e) {\n      let message = \"Internal Server Error\";\n      if (e instanceof ImageRenderError || e instanceof UnrecognizedButtonActionError || e instanceof InvalidButtonCountError || e instanceof InvalidButtonShapeError || e instanceof InvalidStateValueError) {\n        message = e.message;\n      } else {\n        console.error(e);\n      }\n      return new Response(\n        wantsJSON ? JSON.stringify({ error: message }) : message,\n        {\n          status: 500,\n          headers: {\n            \"Cache-Control\": \"no-store\",\n            \"Content-Type\": wantsJSON ? \"application/json\" : \"text/plain\"\n          }\n        }\n      );\n    }\n  };\n}\nasync function renderImage(element, options) {\n  const response = new _vercel_og__WEBPACK_IMPORTED_MODULE_7__.ImageResponse(\n    // do not use React jsx here because it causes problem with tree shaking React\n    {\n      type: \"div\",\n      key: \"\",\n      props: {\n        style: {\n          display: \"flex\",\n          // Use flex layout\n          flexDirection: \"row\",\n          // Align items horizontally\n          alignItems: \"stretch\",\n          // Stretch items to fill the container height\n          width: \"100%\",\n          height: \"100vh\",\n          // Full viewport height\n          backgroundColor: \"white\"\n        },\n        children: [\n          {\n            type: \"div\",\n            key: \"\",\n            props: {\n              style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                lineHeight: 1.2,\n                fontSize: 36,\n                color: \"black\",\n                flex: 1,\n                overflow: \"hidden\"\n              },\n              children: element\n            }\n          }\n        ]\n      }\n    },\n    {\n      ...options?.aspectRatio === \"1:1\" ? {\n        width: 1146,\n        height: 1146\n      } : { width: 1146, height: 600 },\n      ...options\n    }\n  );\n  const buffer = await response.arrayBuffer();\n  return `data:image/png;base64,${Buffer.from(buffer).toString(\"base64\")}`;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSUVYU0FWWjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBSTZCO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBOztBQUU3QjtBQUMyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLHNEQUFNO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSx1RUFBdUI7QUFDdkY7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHVCQUF1QixpRUFBaUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGdDQUFnQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDRDQUE0QztBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHFFQUFpQjtBQUNuRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxRUFBaUI7QUFDekM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJFQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiwyQ0FBMkMsMkVBQXVCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyRUFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkVBQTZCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixxRUFBaUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwwQkFBMEIsb0VBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxnQkFBZ0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFEQUFhO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLDBCQUEwQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixTQUFTLHVDQUF1QztBQUN6RTs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSUVYU0FWWjQuanM/YjMzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBnZW5lcmF0ZUJ1dHRvblRhcmdldFVSTCxcbiAgZ2VuZXJhdGVUYXJnZXRVUkwsXG4gIGlzRnJhbWVSZWRpcmVjdFxufSBmcm9tIFwiLi9jaHVuay1ZVzJMUkVNWS5qc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uXG59IGZyb20gXCIuL2NodW5rLVBYN1pZWlk3LmpzXCI7XG5pbXBvcnQge1xuICBGUkFNRVNfTUVUQV9UQUdTX0hFQURFUlxufSBmcm9tIFwiLi9jaHVuay0yNUJERkM2WC5qc1wiO1xuaW1wb3J0IHtcbiAgZ2V0RnJhbWVIdG1sSGVhZFxufSBmcm9tIFwiLi9jaHVuay1NMzUzRUtRNy5qc1wiO1xuaW1wb3J0IHtcbiAgRlJBTUVTSlNfREVCVUdfSU5GT19JTUFHRV9LRVlcbn0gZnJvbSBcIi4vY2h1bmstS09HM0lBVzUuanNcIjtcbmltcG9ydCB7XG4gIGdldEZyYW1lRmxhdHRlbmVkXG59IGZyb20gXCIuL2NodW5rLVZZSTVKT1NTLmpzXCI7XG5pbXBvcnQge1xuICBGcmFtZU1lc3NhZ2VFcnJvclxufSBmcm9tIFwiLi9jaHVuay1DT0U1QlpFWC5qc1wiO1xuXG4vLyBzcmMvbWlkZGxld2FyZS9yZW5kZXJSZXNwb25zZS50c1xuaW1wb3J0IHsgSW1hZ2VSZXNwb25zZSB9IGZyb20gXCJAdmVyY2VsL29nXCI7XG52YXIgSW52YWxpZEJ1dHRvblNoYXBlRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbn07XG52YXIgSW52YWxpZEJ1dHRvbkNvdW50RXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbn07XG52YXIgVW5yZWNvZ25pemVkQnV0dG9uQWN0aW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbn07XG52YXIgSW1hZ2VSZW5kZXJFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xufTtcbnZhciBJbnZhbGlkU3RhdGVWYWx1ZUVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG59O1xuZnVuY3Rpb24gaXNGcmFtZUJ1dHRvbkVsZW1lbnQoYnV0dG9uKSB7XG4gIHJldHVybiBcInR5cGVcIiBpbiBidXR0b24gJiYgXCJwcm9wc1wiIGluIGJ1dHRvbiAmJiBidXR0b24udHlwZSA9PT0gQnV0dG9uO1xufVxuZnVuY3Rpb24gcmVuZGVyUmVzcG9uc2UoKSB7XG4gIHJldHVybiBhc3luYyAoY29udGV4dCwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHdhbnRzSlNPTiA9IGNvbnRleHQucmVxdWVzdC5oZWFkZXJzLmdldChcImFjY2VwdFwiKSA9PT0gRlJBTUVTX01FVEFfVEFHU19IRUFERVI7XG4gICAgbGV0IHJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgbmV4dChjb250ZXh0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIEZyYW1lTWVzc2FnZUVycm9yKSB7XG4gICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdHVzOiBlLnN0YXR1c1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICB3YW50c0pTT04gPyBKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwiIH0pIDogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLXN0b3JlXCIsXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB3YW50c0pTT04gPyBcImFwcGxpY2F0aW9uL2pzb25cIiA6IFwidGV4dC9wbGFpblwiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgd2FudHNKU09OID8gSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogXCJIYW5kbGVyIGRpZCBub3QgcmV0dXJuIGEgcmVzcG9uc2VcIiB9KSA6IFwiSGFuZGxlciBkaWQgbm90IHJldHVybiBhIHJlc3BvbnNlXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNhY2hlLUNvbnRyb2xcIjogXCJuby1zdG9yZVwiLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogd2FudHNKU09OID8gXCJhcHBsaWNhdGlvbi9qc29uXCIgOiBcInRleHQvcGxhaW5cIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAoaXNGcmFtZVJlZGlyZWN0KHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMgPz8gMzAyLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgLi4ucmVzdWx0LmhlYWRlcnMsXG4gICAgICAgICAgTG9jYXRpb246IHJlc3VsdC5sb2NhdGlvbi50b1N0cmluZygpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgbGV0IHN0YXRlO1xuICAgICAgaWYgKHJlc3VsdC5zdGF0ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC5zdGF0ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkU3RhdGVWYWx1ZUVycm9yKFwiU3RhdGUgbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZSA9IHJlc3VsdC5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZnJhbWUgPSB7XG4gICAgICAgIHZlcnNpb246IFwidk5leHRcIixcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIC8vIEB0b2RvIHJlbmRlcmluZyBpbWFnZSBjb3VsZCBiZSBtb3ZlZCB0byBpdHMgb3duIG1pZGRsZXdhcmUgaW5zdGVhZCBzbyB1c2VycyBjYW4gdXNlIHNvbWV0aGluZyBkaWZmZXJlbnQgaWYgdGhleSB3YW50IHRvP1xuICAgICAgICAvLyBidXQgdGhhdCB3b3VsZCBtZWFuIHRoYXQgd2UgbmVlZCB0byBzcGVjaWZ5IG1pZGRsZXdhcmUgbWFudWFsbHkgaW4gYW55IGFwcCBzaW5jZSBpbXBvcnRpbmcgaXQgaGVyZSBpbiBkZWZhdWx0IG1pZGRsZXdhcmVcbiAgICAgICAgLy8gYW5kIGRpc2FibGluZyBpdCwgaGFzIG5vIGVmZmVjdCBvbiBmaW5hbCBidW5kbGUgc2l6ZSBvZiBhcHBcbiAgICAgICAgaW1hZ2U6IHR5cGVvZiByZXN1bHQuaW1hZ2UgPT09IFwic3RyaW5nXCIgPyBnZW5lcmF0ZVRhcmdldFVSTCh7XG4gICAgICAgICAgdGFyZ2V0OiByZXN1bHQuaW1hZ2UsXG4gICAgICAgICAgYmFzZVVybDogY29udGV4dC5iYXNlVXJsXG4gICAgICAgIH0pLnRvU3RyaW5nKCkgOiBhd2FpdCByZW5kZXJJbWFnZShyZXN1bHQuaW1hZ2UsIHJlc3VsdC5pbWFnZU9wdGlvbnMpLmNhdGNoKFxuICAgICAgICAgIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEltYWdlUmVuZGVyRXJyb3IoXCJDb3VsZCBub3QgcmVuZGVyIGltYWdlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgYnV0dG9uczogcmVzdWx0LmJ1dHRvbnM/LnNsaWNlKCkuZmlsdGVyKFxuICAgICAgICAgICh2KSA9PiB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9PSBudWxsXG4gICAgICAgICkubWFwKChidXR0b24sIGkpID0+IHtcbiAgICAgICAgICBsZXQgcHJvcHM7XG4gICAgICAgICAgaWYgKGlzRnJhbWVCdXR0b25FbGVtZW50KGJ1dHRvbikpIHtcbiAgICAgICAgICAgIHByb3BzID0gYnV0dG9uLnByb3BzO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXCJhY3Rpb25cIiBpbiBidXR0b24pIHtcbiAgICAgICAgICAgIHByb3BzID0gYnV0dG9uO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEJ1dHRvblNoYXBlRXJyb3IoXCJJbnZhbGlkIGJ1dHRvbiBwcm92aWRlZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgPiAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEJ1dHRvbkNvdW50RXJyb3IoXCJVcCB0byA0IGJ1dHRvbnMgYXJlIGFsbG93ZWRcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGxhYmVsID0gXCJsYWJlbFwiIGluIHByb3BzID8gcHJvcHMubGFiZWwgOiBwcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgICBzd2l0Y2ggKHByb3BzLmFjdGlvbikge1xuICAgICAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IHByb3BzLmFjdGlvbixcbiAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGdlbmVyYXRlVGFyZ2V0VVJMKHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogcHJvcHMudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgYmFzZVVybDogY29udGV4dC5iYXNlVXJsXG4gICAgICAgICAgICAgICAgfSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBcIm1pbnRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IHByb3BzLmFjdGlvbixcbiAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHByb3BzLnRhcmdldFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBcInR4XCI6XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBwcm9wcy5hY3Rpb24sXG4gICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBnZW5lcmF0ZUJ1dHRvblRhcmdldFVSTCh7XG4gICAgICAgICAgICAgICAgICBidXR0b25JbmRleDogaSArIDEsXG4gICAgICAgICAgICAgICAgICBidXR0b25BY3Rpb246IHByb3BzLmFjdGlvbixcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogcHJvcHMudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgYmFzZVVybDogY29udGV4dC5iYXNlVXJsXG4gICAgICAgICAgICAgICAgfSkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBwb3N0X3VybDogcHJvcHMucG9zdF91cmwgPyBnZW5lcmF0ZUJ1dHRvblRhcmdldFVSTCh7XG4gICAgICAgICAgICAgICAgICBidXR0b25JbmRleDogaSArIDEsXG4gICAgICAgICAgICAgICAgICBidXR0b25BY3Rpb246IFwicG9zdFwiLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBwcm9wcy5wb3N0X3VybCxcbiAgICAgICAgICAgICAgICAgIGJhc2VVcmw6IGNvbnRleHQuYmFzZVVybFxuICAgICAgICAgICAgICAgIH0pIDogdm9pZCAwXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFwicG9zdFwiOlxuICAgICAgICAgICAgY2FzZSBcInBvc3RfcmVkaXJlY3RcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IHByb3BzLmFjdGlvbixcbiAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGdlbmVyYXRlQnV0dG9uVGFyZ2V0VVJMKHtcbiAgICAgICAgICAgICAgICAgIGJ1dHRvbkluZGV4OiBpICsgMSxcbiAgICAgICAgICAgICAgICAgIGJ1dHRvbkFjdGlvbjogcHJvcHMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBwcm9wcy50YXJnZXQsXG4gICAgICAgICAgICAgICAgICBiYXNlVXJsOiBjb250ZXh0LmJhc2VVcmxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFVucmVjb2duaXplZEJ1dHRvbkFjdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgIFwiVW5yZWNvZ25pemVkIGJ1dHRvbiBhY3Rpb25cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGlucHV0VGV4dDogcmVzdWx0LnRleHRJbnB1dCxcbiAgICAgICAgaW1hZ2VBc3BlY3RSYXRpbzogcmVzdWx0LmltYWdlT3B0aW9ucz8uYXNwZWN0UmF0aW8gPz8gXCIxLjkxOjFcIixcbiAgICAgICAgYWNjZXB0czogcmVzdWx0LmFjY2VwdHMsXG4gICAgICAgIHRpdGxlOiByZXN1bHQudGl0bGVcbiAgICAgIH07XG4gICAgICBjb25zdCBvdmVycmlkZXMgPSB7fTtcbiAgICAgIGlmIChjb250ZXh0LmRlYnVnKSB7XG4gICAgICAgIGlmIChjb250ZXh0Ll9fZGVidWdJbmZvLmltYWdlKSB7XG4gICAgICAgICAgb3ZlcnJpZGVzW0ZSQU1FU0pTX0RFQlVHX0lORk9fSU1BR0VfS0VZXSA9IGNvbnRleHQuX19kZWJ1Z0luZm8uaW1hZ2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh3YW50c0pTT04pIHtcbiAgICAgICAgY29uc3QgZmxhdHRlbmVkID0gZ2V0RnJhbWVGbGF0dGVuZWQoZnJhbWUsIG92ZXJyaWRlcyk7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoZmxhdHRlbmVkKSwge1xuICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyA/PyAyMDAsXG4gICAgICAgICAgc3RhdHVzVGV4dDogcmVzdWx0LnN0YXR1c1RleHQgPz8gXCJPS1wiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIC4uLnJlc3VsdC5oZWFkZXJzLFxuICAgICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShnZXRGcmFtZUh0bWxIZWFkKGZyYW1lLCBvdmVycmlkZXMpLCB7XG4gICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyA/PyAyMDAsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlc3VsdC5zdGF0dXNUZXh0ID8/IFwiT0tcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIC4uLnJlc3VsdC5oZWFkZXJzLFxuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwidGV4dC9odG1sXCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBcIkludGVybmFsIFNlcnZlciBFcnJvclwiO1xuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBJbWFnZVJlbmRlckVycm9yIHx8IGUgaW5zdGFuY2VvZiBVbnJlY29nbml6ZWRCdXR0b25BY3Rpb25FcnJvciB8fCBlIGluc3RhbmNlb2YgSW52YWxpZEJ1dHRvbkNvdW50RXJyb3IgfHwgZSBpbnN0YW5jZW9mIEludmFsaWRCdXR0b25TaGFwZUVycm9yIHx8IGUgaW5zdGFuY2VvZiBJbnZhbGlkU3RhdGVWYWx1ZUVycm9yKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgd2FudHNKU09OID8gSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogbWVzc2FnZSB9KSA6IG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNhY2hlLUNvbnRyb2xcIjogXCJuby1zdG9yZVwiLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogd2FudHNKU09OID8gXCJhcHBsaWNhdGlvbi9qc29uXCIgOiBcInRleHQvcGxhaW5cIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiByZW5kZXJJbWFnZShlbGVtZW50LCBvcHRpb25zKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gbmV3IEltYWdlUmVzcG9uc2UoXG4gICAgLy8gZG8gbm90IHVzZSBSZWFjdCBqc3ggaGVyZSBiZWNhdXNlIGl0IGNhdXNlcyBwcm9ibGVtIHdpdGggdHJlZSBzaGFraW5nIFJlYWN0XG4gICAge1xuICAgICAgdHlwZTogXCJkaXZcIixcbiAgICAgIGtleTogXCJcIixcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgLy8gVXNlIGZsZXggbGF5b3V0XG4gICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAvLyBBbGlnbiBpdGVtcyBob3Jpem9udGFsbHlcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcInN0cmV0Y2hcIixcbiAgICAgICAgICAvLyBTdHJldGNoIGl0ZW1zIHRvIGZpbGwgdGhlIGNvbnRhaW5lciBoZWlnaHRcbiAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjEwMHZoXCIsXG4gICAgICAgICAgLy8gRnVsbCB2aWV3cG9ydCBoZWlnaHRcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIlxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGl2XCIsXG4gICAgICAgICAgICBrZXk6IFwiXCIsXG4gICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDM2LFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjaGlsZHJlbjogZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLi4ub3B0aW9ucz8uYXNwZWN0UmF0aW8gPT09IFwiMToxXCIgPyB7XG4gICAgICAgIHdpZHRoOiAxMTQ2LFxuICAgICAgICBoZWlnaHQ6IDExNDZcbiAgICAgIH0gOiB7IHdpZHRoOiAxMTQ2LCBoZWlnaHQ6IDYwMCB9LFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH1cbiAgKTtcbiAgY29uc3QgYnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgcmV0dXJuIGBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHtCdWZmZXIuZnJvbShidWZmZXIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpfWA7XG59XG5cbmV4cG9ydCB7XG4gIHJlbmRlclJlc3BvbnNlXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-IEXSAVZ4.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-JGTH2ANC.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-JGTH2ANC.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserNameProof: () => (/* binding */ UserNameProof),\n/* harmony export */   UserNameType: () => (/* binding */ UserNameType),\n/* harmony export */   long_default: () => (/* binding */ long_default),\n/* harmony export */   userNameTypeFromJSON: () => (/* binding */ userNameTypeFromJSON),\n/* harmony export */   userNameTypeToJSON: () => (/* binding */ userNameTypeToJSON)\n/* harmony export */ });\n/* harmony import */ var protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! protobufjs/minimal.js */ \"(rsc)/../../node_modules/.pnpm/protobufjs@7.4.0/node_modules/protobufjs/minimal.js\");\n// ../../node_modules/long/index.js\nvar wasm = null;\ntry {\n  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([\n    0,\n    97,\n    115,\n    109,\n    1,\n    0,\n    0,\n    0,\n    1,\n    13,\n    2,\n    96,\n    0,\n    1,\n    127,\n    96,\n    4,\n    127,\n    127,\n    127,\n    127,\n    1,\n    127,\n    3,\n    7,\n    6,\n    0,\n    1,\n    1,\n    1,\n    1,\n    1,\n    6,\n    6,\n    1,\n    127,\n    1,\n    65,\n    0,\n    11,\n    7,\n    50,\n    6,\n    3,\n    109,\n    117,\n    108,\n    0,\n    1,\n    5,\n    100,\n    105,\n    118,\n    95,\n    115,\n    0,\n    2,\n    5,\n    100,\n    105,\n    118,\n    95,\n    117,\n    0,\n    3,\n    5,\n    114,\n    101,\n    109,\n    95,\n    115,\n    0,\n    4,\n    5,\n    114,\n    101,\n    109,\n    95,\n    117,\n    0,\n    5,\n    8,\n    103,\n    101,\n    116,\n    95,\n    104,\n    105,\n    103,\n    104,\n    0,\n    0,\n    10,\n    191,\n    1,\n    6,\n    4,\n    0,\n    35,\n    0,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    126,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    127,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    128,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    129,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    130,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11\n  ])), {}).exports;\n} catch (e) {\n}\nfunction Long(low, high, unsigned) {\n  this.low = low | 0;\n  this.high = high | 0;\n  this.unsigned = !!unsigned;\n}\nLong.prototype.__isLong__;\nObject.defineProperty(Long.prototype, \"__isLong__\", { value: true });\nfunction isLong(obj) {\n  return (obj && obj[\"__isLong__\"]) === true;\n}\nfunction ctz32(value) {\n  var c = Math.clz32(value & -value);\n  return value ? 31 - c : c;\n}\nLong.isLong = isLong;\nvar INT_CACHE = {};\nvar UINT_CACHE = {};\nfunction fromInt(value, unsigned) {\n  var obj, cachedObj, cache;\n  if (unsigned) {\n    value >>>= 0;\n    if (cache = 0 <= value && value < 256) {\n      cachedObj = UINT_CACHE[value];\n      if (cachedObj)\n        return cachedObj;\n    }\n    obj = fromBits(value, 0, true);\n    if (cache)\n      UINT_CACHE[value] = obj;\n    return obj;\n  } else {\n    value |= 0;\n    if (cache = -128 <= value && value < 128) {\n      cachedObj = INT_CACHE[value];\n      if (cachedObj)\n        return cachedObj;\n    }\n    obj = fromBits(value, value < 0 ? -1 : 0, false);\n    if (cache)\n      INT_CACHE[value] = obj;\n    return obj;\n  }\n}\nLong.fromInt = fromInt;\nfunction fromNumber(value, unsigned) {\n  if (isNaN(value))\n    return unsigned ? UZERO : ZERO;\n  if (unsigned) {\n    if (value < 0)\n      return UZERO;\n    if (value >= TWO_PWR_64_DBL)\n      return MAX_UNSIGNED_VALUE;\n  } else {\n    if (value <= -TWO_PWR_63_DBL)\n      return MIN_VALUE;\n    if (value + 1 >= TWO_PWR_63_DBL)\n      return MAX_VALUE;\n  }\n  if (value < 0)\n    return fromNumber(-value, unsigned).neg();\n  return fromBits(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0, unsigned);\n}\nLong.fromNumber = fromNumber;\nfunction fromBits(lowBits, highBits, unsigned) {\n  return new Long(lowBits, highBits, unsigned);\n}\nLong.fromBits = fromBits;\nvar pow_dbl = Math.pow;\nfunction fromString(str, unsigned, radix) {\n  if (str.length === 0)\n    throw Error(\"empty string\");\n  if (typeof unsigned === \"number\") {\n    radix = unsigned;\n    unsigned = false;\n  } else {\n    unsigned = !!unsigned;\n  }\n  if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\n    return unsigned ? UZERO : ZERO;\n  radix = radix || 10;\n  if (radix < 2 || 36 < radix)\n    throw RangeError(\"radix\");\n  var p;\n  if ((p = str.indexOf(\"-\")) > 0)\n    throw Error(\"interior hyphen\");\n  else if (p === 0) {\n    return fromString(str.substring(1), unsigned, radix).neg();\n  }\n  var radixToPower = fromNumber(pow_dbl(radix, 8));\n  var result = ZERO;\n  for (var i = 0; i < str.length; i += 8) {\n    var size = Math.min(8, str.length - i), value = parseInt(str.substring(i, i + size), radix);\n    if (size < 8) {\n      var power = fromNumber(pow_dbl(radix, size));\n      result = result.mul(power).add(fromNumber(value));\n    } else {\n      result = result.mul(radixToPower);\n      result = result.add(fromNumber(value));\n    }\n  }\n  result.unsigned = unsigned;\n  return result;\n}\nLong.fromString = fromString;\nfunction fromValue(val, unsigned) {\n  if (typeof val === \"number\")\n    return fromNumber(val, unsigned);\n  if (typeof val === \"string\")\n    return fromString(val, unsigned);\n  return fromBits(val.low, val.high, typeof unsigned === \"boolean\" ? unsigned : val.unsigned);\n}\nLong.fromValue = fromValue;\nvar TWO_PWR_16_DBL = 1 << 16;\nvar TWO_PWR_24_DBL = 1 << 24;\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\nvar TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\nvar ZERO = fromInt(0);\nLong.ZERO = ZERO;\nvar UZERO = fromInt(0, true);\nLong.UZERO = UZERO;\nvar ONE = fromInt(1);\nLong.ONE = ONE;\nvar UONE = fromInt(1, true);\nLong.UONE = UONE;\nvar NEG_ONE = fromInt(-1);\nLong.NEG_ONE = NEG_ONE;\nvar MAX_VALUE = fromBits(4294967295 | 0, 2147483647 | 0, false);\nLong.MAX_VALUE = MAX_VALUE;\nvar MAX_UNSIGNED_VALUE = fromBits(4294967295 | 0, 4294967295 | 0, true);\nLong.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\nvar MIN_VALUE = fromBits(0, 2147483648 | 0, false);\nLong.MIN_VALUE = MIN_VALUE;\nvar LongPrototype = Long.prototype;\nLongPrototype.toInt = function toInt() {\n  return this.unsigned ? this.low >>> 0 : this.low;\n};\nLongPrototype.toNumber = function toNumber() {\n  if (this.unsigned)\n    return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);\n  return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\n};\nLongPrototype.toString = function toString(radix) {\n  radix = radix || 10;\n  if (radix < 2 || 36 < radix)\n    throw RangeError(\"radix\");\n  if (this.isZero())\n    return \"0\";\n  if (this.isNegative()) {\n    if (this.eq(MIN_VALUE)) {\n      var radixLong = fromNumber(radix), div = this.div(radixLong), rem1 = div.mul(radixLong).sub(this);\n      return div.toString(radix) + rem1.toInt().toString(radix);\n    } else\n      return \"-\" + this.neg().toString(radix);\n  }\n  var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned), rem = this;\n  var result = \"\";\n  while (true) {\n    var remDiv = rem.div(radixToPower), intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0, digits = intval.toString(radix);\n    rem = remDiv;\n    if (rem.isZero())\n      return digits + result;\n    else {\n      while (digits.length < 6)\n        digits = \"0\" + digits;\n      result = \"\" + digits + result;\n    }\n  }\n};\nLongPrototype.getHighBits = function getHighBits() {\n  return this.high;\n};\nLongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\n  return this.high >>> 0;\n};\nLongPrototype.getLowBits = function getLowBits() {\n  return this.low;\n};\nLongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\n  return this.low >>> 0;\n};\nLongPrototype.getNumBitsAbs = function getNumBitsAbs() {\n  if (this.isNegative())\n    return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\n  var val = this.high != 0 ? this.high : this.low;\n  for (var bit = 31; bit > 0; bit--)\n    if ((val & 1 << bit) != 0)\n      break;\n  return this.high != 0 ? bit + 33 : bit + 1;\n};\nLongPrototype.isZero = function isZero() {\n  return this.high === 0 && this.low === 0;\n};\nLongPrototype.eqz = LongPrototype.isZero;\nLongPrototype.isNegative = function isNegative() {\n  return !this.unsigned && this.high < 0;\n};\nLongPrototype.isPositive = function isPositive() {\n  return this.unsigned || this.high >= 0;\n};\nLongPrototype.isOdd = function isOdd() {\n  return (this.low & 1) === 1;\n};\nLongPrototype.isEven = function isEven() {\n  return (this.low & 1) === 0;\n};\nLongPrototype.equals = function equals(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  if (this.unsigned !== other.unsigned && this.high >>> 31 === 1 && other.high >>> 31 === 1)\n    return false;\n  return this.high === other.high && this.low === other.low;\n};\nLongPrototype.eq = LongPrototype.equals;\nLongPrototype.notEquals = function notEquals(other) {\n  return !this.eq(\n    /* validates */\n    other\n  );\n};\nLongPrototype.neq = LongPrototype.notEquals;\nLongPrototype.ne = LongPrototype.notEquals;\nLongPrototype.lessThan = function lessThan(other) {\n  return this.comp(\n    /* validates */\n    other\n  ) < 0;\n};\nLongPrototype.lt = LongPrototype.lessThan;\nLongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\n  return this.comp(\n    /* validates */\n    other\n  ) <= 0;\n};\nLongPrototype.lte = LongPrototype.lessThanOrEqual;\nLongPrototype.le = LongPrototype.lessThanOrEqual;\nLongPrototype.greaterThan = function greaterThan(other) {\n  return this.comp(\n    /* validates */\n    other\n  ) > 0;\n};\nLongPrototype.gt = LongPrototype.greaterThan;\nLongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\n  return this.comp(\n    /* validates */\n    other\n  ) >= 0;\n};\nLongPrototype.gte = LongPrototype.greaterThanOrEqual;\nLongPrototype.ge = LongPrototype.greaterThanOrEqual;\nLongPrototype.compare = function compare(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  if (this.eq(other))\n    return 0;\n  var thisNeg = this.isNegative(), otherNeg = other.isNegative();\n  if (thisNeg && !otherNeg)\n    return -1;\n  if (!thisNeg && otherNeg)\n    return 1;\n  if (!this.unsigned)\n    return this.sub(other).isNegative() ? -1 : 1;\n  return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;\n};\nLongPrototype.comp = LongPrototype.compare;\nLongPrototype.negate = function negate() {\n  if (!this.unsigned && this.eq(MIN_VALUE))\n    return MIN_VALUE;\n  return this.not().add(ONE);\n};\nLongPrototype.neg = LongPrototype.negate;\nLongPrototype.add = function add(addend) {\n  if (!isLong(addend))\n    addend = fromValue(addend);\n  var a48 = this.high >>> 16;\n  var a32 = this.high & 65535;\n  var a16 = this.low >>> 16;\n  var a00 = this.low & 65535;\n  var b48 = addend.high >>> 16;\n  var b32 = addend.high & 65535;\n  var b16 = addend.low >>> 16;\n  var b00 = addend.low & 65535;\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 + b00;\n  c16 += c00 >>> 16;\n  c00 &= 65535;\n  c16 += a16 + b16;\n  c32 += c16 >>> 16;\n  c16 &= 65535;\n  c32 += a32 + b32;\n  c48 += c32 >>> 16;\n  c32 &= 65535;\n  c48 += a48 + b48;\n  c48 &= 65535;\n  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);\n};\nLongPrototype.subtract = function subtract(subtrahend) {\n  if (!isLong(subtrahend))\n    subtrahend = fromValue(subtrahend);\n  return this.add(subtrahend.neg());\n};\nLongPrototype.sub = LongPrototype.subtract;\nLongPrototype.multiply = function multiply(multiplier) {\n  if (this.isZero())\n    return this;\n  if (!isLong(multiplier))\n    multiplier = fromValue(multiplier);\n  if (wasm) {\n    var low = wasm[\"mul\"](\n      this.low,\n      this.high,\n      multiplier.low,\n      multiplier.high\n    );\n    return fromBits(low, wasm[\"get_high\"](), this.unsigned);\n  }\n  if (multiplier.isZero())\n    return this.unsigned ? UZERO : ZERO;\n  if (this.eq(MIN_VALUE))\n    return multiplier.isOdd() ? MIN_VALUE : ZERO;\n  if (multiplier.eq(MIN_VALUE))\n    return this.isOdd() ? MIN_VALUE : ZERO;\n  if (this.isNegative()) {\n    if (multiplier.isNegative())\n      return this.neg().mul(multiplier.neg());\n    else\n      return this.neg().mul(multiplier).neg();\n  } else if (multiplier.isNegative())\n    return this.mul(multiplier.neg()).neg();\n  if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\n    return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\n  var a48 = this.high >>> 16;\n  var a32 = this.high & 65535;\n  var a16 = this.low >>> 16;\n  var a00 = this.low & 65535;\n  var b48 = multiplier.high >>> 16;\n  var b32 = multiplier.high & 65535;\n  var b16 = multiplier.low >>> 16;\n  var b00 = multiplier.low & 65535;\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 * b00;\n  c16 += c00 >>> 16;\n  c00 &= 65535;\n  c16 += a16 * b00;\n  c32 += c16 >>> 16;\n  c16 &= 65535;\n  c16 += a00 * b16;\n  c32 += c16 >>> 16;\n  c16 &= 65535;\n  c32 += a32 * b00;\n  c48 += c32 >>> 16;\n  c32 &= 65535;\n  c32 += a16 * b16;\n  c48 += c32 >>> 16;\n  c32 &= 65535;\n  c32 += a00 * b32;\n  c48 += c32 >>> 16;\n  c32 &= 65535;\n  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n  c48 &= 65535;\n  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);\n};\nLongPrototype.mul = LongPrototype.multiply;\nLongPrototype.divide = function divide(divisor) {\n  if (!isLong(divisor))\n    divisor = fromValue(divisor);\n  if (divisor.isZero())\n    throw Error(\"division by zero\");\n  if (wasm) {\n    if (!this.unsigned && this.high === -2147483648 && divisor.low === -1 && divisor.high === -1) {\n      return this;\n    }\n    var low = (this.unsigned ? wasm[\"div_u\"] : wasm[\"div_s\"])(\n      this.low,\n      this.high,\n      divisor.low,\n      divisor.high\n    );\n    return fromBits(low, wasm[\"get_high\"](), this.unsigned);\n  }\n  if (this.isZero())\n    return this.unsigned ? UZERO : ZERO;\n  var approx, rem, res;\n  if (!this.unsigned) {\n    if (this.eq(MIN_VALUE)) {\n      if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\n        return MIN_VALUE;\n      else if (divisor.eq(MIN_VALUE))\n        return ONE;\n      else {\n        var halfThis = this.shr(1);\n        approx = halfThis.div(divisor).shl(1);\n        if (approx.eq(ZERO)) {\n          return divisor.isNegative() ? ONE : NEG_ONE;\n        } else {\n          rem = this.sub(divisor.mul(approx));\n          res = approx.add(rem.div(divisor));\n          return res;\n        }\n      }\n    } else if (divisor.eq(MIN_VALUE))\n      return this.unsigned ? UZERO : ZERO;\n    if (this.isNegative()) {\n      if (divisor.isNegative())\n        return this.neg().div(divisor.neg());\n      return this.neg().div(divisor).neg();\n    } else if (divisor.isNegative())\n      return this.div(divisor.neg()).neg();\n    res = ZERO;\n  } else {\n    if (!divisor.unsigned)\n      divisor = divisor.toUnsigned();\n    if (divisor.gt(this))\n      return UZERO;\n    if (divisor.gt(this.shru(1)))\n      return UONE;\n    res = UZERO;\n  }\n  rem = this;\n  while (rem.gte(divisor)) {\n    approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\n    var log2 = Math.ceil(Math.log(approx) / Math.LN2), delta = log2 <= 48 ? 1 : pow_dbl(2, log2 - 48), approxRes = fromNumber(approx), approxRem = approxRes.mul(divisor);\n    while (approxRem.isNegative() || approxRem.gt(rem)) {\n      approx -= delta;\n      approxRes = fromNumber(approx, this.unsigned);\n      approxRem = approxRes.mul(divisor);\n    }\n    if (approxRes.isZero())\n      approxRes = ONE;\n    res = res.add(approxRes);\n    rem = rem.sub(approxRem);\n  }\n  return res;\n};\nLongPrototype.div = LongPrototype.divide;\nLongPrototype.modulo = function modulo(divisor) {\n  if (!isLong(divisor))\n    divisor = fromValue(divisor);\n  if (wasm) {\n    var low = (this.unsigned ? wasm[\"rem_u\"] : wasm[\"rem_s\"])(\n      this.low,\n      this.high,\n      divisor.low,\n      divisor.high\n    );\n    return fromBits(low, wasm[\"get_high\"](), this.unsigned);\n  }\n  return this.sub(this.div(divisor).mul(divisor));\n};\nLongPrototype.mod = LongPrototype.modulo;\nLongPrototype.rem = LongPrototype.modulo;\nLongPrototype.not = function not() {\n  return fromBits(~this.low, ~this.high, this.unsigned);\n};\nLongPrototype.countLeadingZeros = function countLeadingZeros() {\n  return this.high ? Math.clz32(this.high) : Math.clz32(this.low) + 32;\n};\nLongPrototype.clz = LongPrototype.countLeadingZeros;\nLongPrototype.countTrailingZeros = function countTrailingZeros() {\n  return this.low ? ctz32(this.low) : ctz32(this.high) + 32;\n};\nLongPrototype.ctz = LongPrototype.countTrailingZeros;\nLongPrototype.and = function and(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\n};\nLongPrototype.or = function or(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\n};\nLongPrototype.xor = function xor(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\n};\nLongPrototype.shiftLeft = function shiftLeft(numBits) {\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  else if (numBits < 32)\n    return fromBits(this.low << numBits, this.high << numBits | this.low >>> 32 - numBits, this.unsigned);\n  else\n    return fromBits(0, this.low << numBits - 32, this.unsigned);\n};\nLongPrototype.shl = LongPrototype.shiftLeft;\nLongPrototype.shiftRight = function shiftRight(numBits) {\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  else if (numBits < 32)\n    return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >> numBits, this.unsigned);\n  else\n    return fromBits(this.high >> numBits - 32, this.high >= 0 ? 0 : -1, this.unsigned);\n};\nLongPrototype.shr = LongPrototype.shiftRight;\nLongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  if (numBits < 32)\n    return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >>> numBits, this.unsigned);\n  if (numBits === 32)\n    return fromBits(this.high, 0, this.unsigned);\n  return fromBits(this.high >>> numBits - 32, 0, this.unsigned);\n};\nLongPrototype.shru = LongPrototype.shiftRightUnsigned;\nLongPrototype.shr_u = LongPrototype.shiftRightUnsigned;\nLongPrototype.rotateLeft = function rotateLeft(numBits) {\n  var b;\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  if (numBits === 32)\n    return fromBits(this.high, this.low, this.unsigned);\n  if (numBits < 32) {\n    b = 32 - numBits;\n    return fromBits(this.low << numBits | this.high >>> b, this.high << numBits | this.low >>> b, this.unsigned);\n  }\n  numBits -= 32;\n  b = 32 - numBits;\n  return fromBits(this.high << numBits | this.low >>> b, this.low << numBits | this.high >>> b, this.unsigned);\n};\nLongPrototype.rotl = LongPrototype.rotateLeft;\nLongPrototype.rotateRight = function rotateRight(numBits) {\n  var b;\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  if (numBits === 32)\n    return fromBits(this.high, this.low, this.unsigned);\n  if (numBits < 32) {\n    b = 32 - numBits;\n    return fromBits(this.high << b | this.low >>> numBits, this.low << b | this.high >>> numBits, this.unsigned);\n  }\n  numBits -= 32;\n  b = 32 - numBits;\n  return fromBits(this.low << b | this.high >>> numBits, this.high << b | this.low >>> numBits, this.unsigned);\n};\nLongPrototype.rotr = LongPrototype.rotateRight;\nLongPrototype.toSigned = function toSigned() {\n  if (!this.unsigned)\n    return this;\n  return fromBits(this.low, this.high, false);\n};\nLongPrototype.toUnsigned = function toUnsigned() {\n  if (this.unsigned)\n    return this;\n  return fromBits(this.low, this.high, true);\n};\nLongPrototype.toBytes = function toBytes(le) {\n  return le ? this.toBytesLE() : this.toBytesBE();\n};\nLongPrototype.toBytesLE = function toBytesLE() {\n  var hi = this.high, lo = this.low;\n  return [\n    lo & 255,\n    lo >>> 8 & 255,\n    lo >>> 16 & 255,\n    lo >>> 24,\n    hi & 255,\n    hi >>> 8 & 255,\n    hi >>> 16 & 255,\n    hi >>> 24\n  ];\n};\nLongPrototype.toBytesBE = function toBytesBE() {\n  var hi = this.high, lo = this.low;\n  return [\n    hi >>> 24,\n    hi >>> 16 & 255,\n    hi >>> 8 & 255,\n    hi & 255,\n    lo >>> 24,\n    lo >>> 16 & 255,\n    lo >>> 8 & 255,\n    lo & 255\n  ];\n};\nLong.fromBytes = function fromBytes(bytes, unsigned, le) {\n  return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\n};\nLong.fromBytesLE = function fromBytesLE(bytes, unsigned) {\n  return new Long(\n    bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24,\n    bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24,\n    unsigned\n  );\n};\nLong.fromBytesBE = function fromBytesBE(bytes, unsigned) {\n  return new Long(\n    bytes[4] << 24 | bytes[5] << 16 | bytes[6] << 8 | bytes[7],\n    bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3],\n    unsigned\n  );\n};\nvar long_default = Long;\n\n// src/farcaster/generated/username_proof.ts\n\nvar UserNameType = /* @__PURE__ */ ((UserNameType2) => {\n  UserNameType2[UserNameType2[\"USERNAME_TYPE_NONE\"] = 0] = \"USERNAME_TYPE_NONE\";\n  UserNameType2[UserNameType2[\"USERNAME_TYPE_FNAME\"] = 1] = \"USERNAME_TYPE_FNAME\";\n  UserNameType2[UserNameType2[\"USERNAME_TYPE_ENS_L1\"] = 2] = \"USERNAME_TYPE_ENS_L1\";\n  return UserNameType2;\n})(UserNameType || {});\nfunction userNameTypeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"USERNAME_TYPE_NONE\":\n      return 0 /* USERNAME_TYPE_NONE */;\n    case 1:\n    case \"USERNAME_TYPE_FNAME\":\n      return 1 /* USERNAME_TYPE_FNAME */;\n    case 2:\n    case \"USERNAME_TYPE_ENS_L1\":\n      return 2 /* USERNAME_TYPE_ENS_L1 */;\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum UserNameType\"\n      );\n  }\n}\nfunction userNameTypeToJSON(object) {\n  switch (object) {\n    case 0 /* USERNAME_TYPE_NONE */:\n      return \"USERNAME_TYPE_NONE\";\n    case 1 /* USERNAME_TYPE_FNAME */:\n      return \"USERNAME_TYPE_FNAME\";\n    case 2 /* USERNAME_TYPE_ENS_L1 */:\n      return \"USERNAME_TYPE_ENS_L1\";\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum UserNameType\"\n      );\n  }\n}\nfunction createBaseUserNameProof() {\n  return {\n    timestamp: 0,\n    name: new Uint8Array(),\n    owner: new Uint8Array(),\n    signature: new Uint8Array(),\n    fid: 0,\n    type: 0\n  };\n}\nvar UserNameProof = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.Writer.create()) {\n    if (message.timestamp !== 0) {\n      writer.uint32(8).uint64(message.timestamp);\n    }\n    if (message.name.length !== 0) {\n      writer.uint32(18).bytes(message.name);\n    }\n    if (message.owner.length !== 0) {\n      writer.uint32(26).bytes(message.owner);\n    }\n    if (message.signature.length !== 0) {\n      writer.uint32(34).bytes(message.signature);\n    }\n    if (message.fid !== 0) {\n      writer.uint32(40).uint64(message.fid);\n    }\n    if (message.type !== 0) {\n      writer.uint32(48).int32(message.type);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseUserNameProof();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.timestamp = longToNumber(reader.uint64());\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.name = reader.bytes();\n          continue;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.owner = reader.bytes();\n          continue;\n        case 4:\n          if (tag != 34) {\n            break;\n          }\n          message.signature = reader.bytes();\n          continue;\n        case 5:\n          if (tag != 40) {\n            break;\n          }\n          message.fid = longToNumber(reader.uint64());\n          continue;\n        case 6:\n          if (tag != 48) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      timestamp: isSet(object.timestamp) ? Number(object.timestamp) : 0,\n      name: isSet(object.name) ? bytesFromBase64(object.name) : new Uint8Array(),\n      owner: isSet(object.owner) ? bytesFromBase64(object.owner) : new Uint8Array(),\n      signature: isSet(object.signature) ? bytesFromBase64(object.signature) : new Uint8Array(),\n      fid: isSet(object.fid) ? Number(object.fid) : 0,\n      type: isSet(object.type) ? userNameTypeFromJSON(object.type) : 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.timestamp !== void 0 && (obj.timestamp = Math.round(message.timestamp));\n    message.name !== void 0 && (obj.name = base64FromBytes(\n      message.name !== void 0 ? message.name : new Uint8Array()\n    ));\n    message.owner !== void 0 && (obj.owner = base64FromBytes(\n      message.owner !== void 0 ? message.owner : new Uint8Array()\n    ));\n    message.signature !== void 0 && (obj.signature = base64FromBytes(\n      message.signature !== void 0 ? message.signature : new Uint8Array()\n    ));\n    message.fid !== void 0 && (obj.fid = Math.round(message.fid));\n    message.type !== void 0 && (obj.type = userNameTypeToJSON(message.type));\n    return obj;\n  },\n  create(base) {\n    return UserNameProof.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseUserNameProof();\n    message.timestamp = object.timestamp ?? 0;\n    message.name = object.name ?? new Uint8Array();\n    message.owner = object.owner ?? new Uint8Array();\n    message.signature = object.signature ?? new Uint8Array();\n    message.fid = object.fid ?? 0;\n    message.type = object.type ?? 0;\n    return message;\n  }\n};\nvar tsProtoGlobalThis = (() => {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  throw \"Unable to locate global object\";\n})();\nfunction bytesFromBase64(b64) {\n  if (tsProtoGlobalThis.Buffer) {\n    return Uint8Array.from(tsProtoGlobalThis.Buffer.from(b64, \"base64\"));\n  } else {\n    const bin = tsProtoGlobalThis.atob(b64);\n    const arr = new Uint8Array(bin.length);\n    for (let i = 0; i < bin.length; ++i) {\n      arr[i] = bin.charCodeAt(i);\n    }\n    return arr;\n  }\n}\nfunction base64FromBytes(arr) {\n  if (tsProtoGlobalThis.Buffer) {\n    return tsProtoGlobalThis.Buffer.from(arr).toString(\"base64\");\n  } else {\n    const bin = [];\n    arr.forEach((byte) => {\n      bin.push(String.fromCharCode(byte));\n    });\n    return tsProtoGlobalThis.btoa(bin.join(\"\"));\n  }\n}\nfunction longToNumber(long) {\n  if (long.gt(Number.MAX_SAFE_INTEGER)) {\n    throw new tsProtoGlobalThis.Error(\n      \"Value is larger than Number.MAX_SAFE_INTEGER\"\n    );\n  }\n  return long.toNumber();\n}\nif (protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.util.Long !== long_default) {\n  protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.util.Long = long_default;\n  protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.configure();\n}\nfunction isSet(value) {\n  return value !== null && value !== void 0;\n}\n\n\n/*! Bundled license information:\n\nlong/index.js:\n  (**\n   * @license\n   * Copyright 2009 The Closure Library Authors\n   * Copyright 2020 Daniel Wirtz / The long.js Authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   * SPDX-License-Identifier: Apache-2.0\n   *)\n*/\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSkdUSDJBTkMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsYUFBYTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseURBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MseURBQVUsV0FBVyx5REFBVTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLCtDQUErQztBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVEQUFRO0FBQ1osRUFBRSx1REFBUTtBQUNWLEVBQUUsNERBQWE7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFRRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSkdUSDJBTkMuanM/OWE0YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAuLi8uLi9ub2RlX21vZHVsZXMvbG9uZy9pbmRleC5qc1xudmFyIHdhc20gPSBudWxsO1xudHJ5IHtcbiAgd2FzbSA9IG5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZShuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKG5ldyBVaW50OEFycmF5KFtcbiAgICAwLFxuICAgIDk3LFxuICAgIDExNSxcbiAgICAxMDksXG4gICAgMSxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAxLFxuICAgIDEzLFxuICAgIDIsXG4gICAgOTYsXG4gICAgMCxcbiAgICAxLFxuICAgIDEyNyxcbiAgICA5NixcbiAgICA0LFxuICAgIDEyNyxcbiAgICAxMjcsXG4gICAgMTI3LFxuICAgIDEyNyxcbiAgICAxLFxuICAgIDEyNyxcbiAgICAzLFxuICAgIDcsXG4gICAgNixcbiAgICAwLFxuICAgIDEsXG4gICAgMSxcbiAgICAxLFxuICAgIDEsXG4gICAgMSxcbiAgICA2LFxuICAgIDYsXG4gICAgMSxcbiAgICAxMjcsXG4gICAgMSxcbiAgICA2NSxcbiAgICAwLFxuICAgIDExLFxuICAgIDcsXG4gICAgNTAsXG4gICAgNixcbiAgICAzLFxuICAgIDEwOSxcbiAgICAxMTcsXG4gICAgMTA4LFxuICAgIDAsXG4gICAgMSxcbiAgICA1LFxuICAgIDEwMCxcbiAgICAxMDUsXG4gICAgMTE4LFxuICAgIDk1LFxuICAgIDExNSxcbiAgICAwLFxuICAgIDIsXG4gICAgNSxcbiAgICAxMDAsXG4gICAgMTA1LFxuICAgIDExOCxcbiAgICA5NSxcbiAgICAxMTcsXG4gICAgMCxcbiAgICAzLFxuICAgIDUsXG4gICAgMTE0LFxuICAgIDEwMSxcbiAgICAxMDksXG4gICAgOTUsXG4gICAgMTE1LFxuICAgIDAsXG4gICAgNCxcbiAgICA1LFxuICAgIDExNCxcbiAgICAxMDEsXG4gICAgMTA5LFxuICAgIDk1LFxuICAgIDExNyxcbiAgICAwLFxuICAgIDUsXG4gICAgOCxcbiAgICAxMDMsXG4gICAgMTAxLFxuICAgIDExNixcbiAgICA5NSxcbiAgICAxMDQsXG4gICAgMTA1LFxuICAgIDEwMyxcbiAgICAxMDQsXG4gICAgMCxcbiAgICAwLFxuICAgIDEwLFxuICAgIDE5MSxcbiAgICAxLFxuICAgIDYsXG4gICAgNCxcbiAgICAwLFxuICAgIDM1LFxuICAgIDAsXG4gICAgMTEsXG4gICAgMzYsXG4gICAgMSxcbiAgICAxLFxuICAgIDEyNixcbiAgICAzMixcbiAgICAwLFxuICAgIDE3MyxcbiAgICAzMixcbiAgICAxLFxuICAgIDE3MyxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzQsXG4gICAgMTMyLFxuICAgIDMyLFxuICAgIDIsXG4gICAgMTczLFxuICAgIDMyLFxuICAgIDMsXG4gICAgMTczLFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNCxcbiAgICAxMzIsXG4gICAgMTI2LFxuICAgIDM0LFxuICAgIDQsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM1LFxuICAgIDE2NyxcbiAgICAzNixcbiAgICAwLFxuICAgIDMyLFxuICAgIDQsXG4gICAgMTY3LFxuICAgIDExLFxuICAgIDM2LFxuICAgIDEsXG4gICAgMSxcbiAgICAxMjYsXG4gICAgMzIsXG4gICAgMCxcbiAgICAxNzMsXG4gICAgMzIsXG4gICAgMSxcbiAgICAxNzMsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM0LFxuICAgIDEzMixcbiAgICAzMixcbiAgICAyLFxuICAgIDE3MyxcbiAgICAzMixcbiAgICAzLFxuICAgIDE3MyxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzQsXG4gICAgMTMyLFxuICAgIDEyNyxcbiAgICAzNCxcbiAgICA0LFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNSxcbiAgICAxNjcsXG4gICAgMzYsXG4gICAgMCxcbiAgICAzMixcbiAgICA0LFxuICAgIDE2NyxcbiAgICAxMSxcbiAgICAzNixcbiAgICAxLFxuICAgIDEsXG4gICAgMTI2LFxuICAgIDMyLFxuICAgIDAsXG4gICAgMTczLFxuICAgIDMyLFxuICAgIDEsXG4gICAgMTczLFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNCxcbiAgICAxMzIsXG4gICAgMzIsXG4gICAgMixcbiAgICAxNzMsXG4gICAgMzIsXG4gICAgMyxcbiAgICAxNzMsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM0LFxuICAgIDEzMixcbiAgICAxMjgsXG4gICAgMzQsXG4gICAgNCxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzUsXG4gICAgMTY3LFxuICAgIDM2LFxuICAgIDAsXG4gICAgMzIsXG4gICAgNCxcbiAgICAxNjcsXG4gICAgMTEsXG4gICAgMzYsXG4gICAgMSxcbiAgICAxLFxuICAgIDEyNixcbiAgICAzMixcbiAgICAwLFxuICAgIDE3MyxcbiAgICAzMixcbiAgICAxLFxuICAgIDE3MyxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzQsXG4gICAgMTMyLFxuICAgIDMyLFxuICAgIDIsXG4gICAgMTczLFxuICAgIDMyLFxuICAgIDMsXG4gICAgMTczLFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNCxcbiAgICAxMzIsXG4gICAgMTI5LFxuICAgIDM0LFxuICAgIDQsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM1LFxuICAgIDE2NyxcbiAgICAzNixcbiAgICAwLFxuICAgIDMyLFxuICAgIDQsXG4gICAgMTY3LFxuICAgIDExLFxuICAgIDM2LFxuICAgIDEsXG4gICAgMSxcbiAgICAxMjYsXG4gICAgMzIsXG4gICAgMCxcbiAgICAxNzMsXG4gICAgMzIsXG4gICAgMSxcbiAgICAxNzMsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM0LFxuICAgIDEzMixcbiAgICAzMixcbiAgICAyLFxuICAgIDE3MyxcbiAgICAzMixcbiAgICAzLFxuICAgIDE3MyxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzQsXG4gICAgMTMyLFxuICAgIDEzMCxcbiAgICAzNCxcbiAgICA0LFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNSxcbiAgICAxNjcsXG4gICAgMzYsXG4gICAgMCxcbiAgICAzMixcbiAgICA0LFxuICAgIDE2NyxcbiAgICAxMVxuICBdKSksIHt9KS5leHBvcnRzO1xufSBjYXRjaCAoZSkge1xufVxuZnVuY3Rpb24gTG9uZyhsb3csIGhpZ2gsIHVuc2lnbmVkKSB7XG4gIHRoaXMubG93ID0gbG93IHwgMDtcbiAgdGhpcy5oaWdoID0gaGlnaCB8IDA7XG4gIHRoaXMudW5zaWduZWQgPSAhIXVuc2lnbmVkO1xufVxuTG9uZy5wcm90b3R5cGUuX19pc0xvbmdfXztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb25nLnByb3RvdHlwZSwgXCJfX2lzTG9uZ19fXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBpc0xvbmcob2JqKSB7XG4gIHJldHVybiAob2JqICYmIG9ialtcIl9faXNMb25nX19cIl0pID09PSB0cnVlO1xufVxuZnVuY3Rpb24gY3R6MzIodmFsdWUpIHtcbiAgdmFyIGMgPSBNYXRoLmNsejMyKHZhbHVlICYgLXZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlID8gMzEgLSBjIDogYztcbn1cbkxvbmcuaXNMb25nID0gaXNMb25nO1xudmFyIElOVF9DQUNIRSA9IHt9O1xudmFyIFVJTlRfQ0FDSEUgPSB7fTtcbmZ1bmN0aW9uIGZyb21JbnQodmFsdWUsIHVuc2lnbmVkKSB7XG4gIHZhciBvYmosIGNhY2hlZE9iaiwgY2FjaGU7XG4gIGlmICh1bnNpZ25lZCkge1xuICAgIHZhbHVlID4+Pj0gMDtcbiAgICBpZiAoY2FjaGUgPSAwIDw9IHZhbHVlICYmIHZhbHVlIDwgMjU2KSB7XG4gICAgICBjYWNoZWRPYmogPSBVSU5UX0NBQ0hFW3ZhbHVlXTtcbiAgICAgIGlmIChjYWNoZWRPYmopXG4gICAgICAgIHJldHVybiBjYWNoZWRPYmo7XG4gICAgfVxuICAgIG9iaiA9IGZyb21CaXRzKHZhbHVlLCAwLCB0cnVlKTtcbiAgICBpZiAoY2FjaGUpXG4gICAgICBVSU5UX0NBQ0hFW3ZhbHVlXSA9IG9iajtcbiAgICByZXR1cm4gb2JqO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlIHw9IDA7XG4gICAgaWYgKGNhY2hlID0gLTEyOCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDEyOCkge1xuICAgICAgY2FjaGVkT2JqID0gSU5UX0NBQ0hFW3ZhbHVlXTtcbiAgICAgIGlmIChjYWNoZWRPYmopXG4gICAgICAgIHJldHVybiBjYWNoZWRPYmo7XG4gICAgfVxuICAgIG9iaiA9IGZyb21CaXRzKHZhbHVlLCB2YWx1ZSA8IDAgPyAtMSA6IDAsIGZhbHNlKTtcbiAgICBpZiAoY2FjaGUpXG4gICAgICBJTlRfQ0FDSEVbdmFsdWVdID0gb2JqO1xuICAgIHJldHVybiBvYmo7XG4gIH1cbn1cbkxvbmcuZnJvbUludCA9IGZyb21JbnQ7XG5mdW5jdGlvbiBmcm9tTnVtYmVyKHZhbHVlLCB1bnNpZ25lZCkge1xuICBpZiAoaXNOYU4odmFsdWUpKVxuICAgIHJldHVybiB1bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgaWYgKHVuc2lnbmVkKSB7XG4gICAgaWYgKHZhbHVlIDwgMClcbiAgICAgIHJldHVybiBVWkVSTztcbiAgICBpZiAodmFsdWUgPj0gVFdPX1BXUl82NF9EQkwpXG4gICAgICByZXR1cm4gTUFYX1VOU0lHTkVEX1ZBTFVFO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA8PSAtVFdPX1BXUl82M19EQkwpXG4gICAgICByZXR1cm4gTUlOX1ZBTFVFO1xuICAgIGlmICh2YWx1ZSArIDEgPj0gVFdPX1BXUl82M19EQkwpXG4gICAgICByZXR1cm4gTUFYX1ZBTFVFO1xuICB9XG4gIGlmICh2YWx1ZSA8IDApXG4gICAgcmV0dXJuIGZyb21OdW1iZXIoLXZhbHVlLCB1bnNpZ25lZCkubmVnKCk7XG4gIHJldHVybiBmcm9tQml0cyh2YWx1ZSAlIFRXT19QV1JfMzJfREJMIHwgMCwgdmFsdWUgLyBUV09fUFdSXzMyX0RCTCB8IDAsIHVuc2lnbmVkKTtcbn1cbkxvbmcuZnJvbU51bWJlciA9IGZyb21OdW1iZXI7XG5mdW5jdGlvbiBmcm9tQml0cyhsb3dCaXRzLCBoaWdoQml0cywgdW5zaWduZWQpIHtcbiAgcmV0dXJuIG5ldyBMb25nKGxvd0JpdHMsIGhpZ2hCaXRzLCB1bnNpZ25lZCk7XG59XG5Mb25nLmZyb21CaXRzID0gZnJvbUJpdHM7XG52YXIgcG93X2RibCA9IE1hdGgucG93O1xuZnVuY3Rpb24gZnJvbVN0cmluZyhzdHIsIHVuc2lnbmVkLCByYWRpeCkge1xuICBpZiAoc3RyLmxlbmd0aCA9PT0gMClcbiAgICB0aHJvdyBFcnJvcihcImVtcHR5IHN0cmluZ1wiKTtcbiAgaWYgKHR5cGVvZiB1bnNpZ25lZCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJhZGl4ID0gdW5zaWduZWQ7XG4gICAgdW5zaWduZWQgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB1bnNpZ25lZCA9ICEhdW5zaWduZWQ7XG4gIH1cbiAgaWYgKHN0ciA9PT0gXCJOYU5cIiB8fCBzdHIgPT09IFwiSW5maW5pdHlcIiB8fCBzdHIgPT09IFwiK0luZmluaXR5XCIgfHwgc3RyID09PSBcIi1JbmZpbml0eVwiKVxuICAgIHJldHVybiB1bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgcmFkaXggPSByYWRpeCB8fCAxMDtcbiAgaWYgKHJhZGl4IDwgMiB8fCAzNiA8IHJhZGl4KVxuICAgIHRocm93IFJhbmdlRXJyb3IoXCJyYWRpeFwiKTtcbiAgdmFyIHA7XG4gIGlmICgocCA9IHN0ci5pbmRleE9mKFwiLVwiKSkgPiAwKVxuICAgIHRocm93IEVycm9yKFwiaW50ZXJpb3IgaHlwaGVuXCIpO1xuICBlbHNlIGlmIChwID09PSAwKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcoc3RyLnN1YnN0cmluZygxKSwgdW5zaWduZWQsIHJhZGl4KS5uZWcoKTtcbiAgfVxuICB2YXIgcmFkaXhUb1Bvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCA4KSk7XG4gIHZhciByZXN1bHQgPSBaRVJPO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkgKz0gOCkge1xuICAgIHZhciBzaXplID0gTWF0aC5taW4oOCwgc3RyLmxlbmd0aCAtIGkpLCB2YWx1ZSA9IHBhcnNlSW50KHN0ci5zdWJzdHJpbmcoaSwgaSArIHNpemUpLCByYWRpeCk7XG4gICAgaWYgKHNpemUgPCA4KSB7XG4gICAgICB2YXIgcG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIHNpemUpKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWwocG93ZXIpLmFkZChmcm9tTnVtYmVyKHZhbHVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWwocmFkaXhUb1Bvd2VyKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5hZGQoZnJvbU51bWJlcih2YWx1ZSkpO1xuICAgIH1cbiAgfVxuICByZXN1bHQudW5zaWduZWQgPSB1bnNpZ25lZDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbkxvbmcuZnJvbVN0cmluZyA9IGZyb21TdHJpbmc7XG5mdW5jdGlvbiBmcm9tVmFsdWUodmFsLCB1bnNpZ25lZCkge1xuICBpZiAodHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIilcbiAgICByZXR1cm4gZnJvbU51bWJlcih2YWwsIHVuc2lnbmVkKTtcbiAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIGZyb21TdHJpbmcodmFsLCB1bnNpZ25lZCk7XG4gIHJldHVybiBmcm9tQml0cyh2YWwubG93LCB2YWwuaGlnaCwgdHlwZW9mIHVuc2lnbmVkID09PSBcImJvb2xlYW5cIiA/IHVuc2lnbmVkIDogdmFsLnVuc2lnbmVkKTtcbn1cbkxvbmcuZnJvbVZhbHVlID0gZnJvbVZhbHVlO1xudmFyIFRXT19QV1JfMTZfREJMID0gMSA8PCAxNjtcbnZhciBUV09fUFdSXzI0X0RCTCA9IDEgPDwgMjQ7XG52YXIgVFdPX1BXUl8zMl9EQkwgPSBUV09fUFdSXzE2X0RCTCAqIFRXT19QV1JfMTZfREJMO1xudmFyIFRXT19QV1JfNjRfREJMID0gVFdPX1BXUl8zMl9EQkwgKiBUV09fUFdSXzMyX0RCTDtcbnZhciBUV09fUFdSXzYzX0RCTCA9IFRXT19QV1JfNjRfREJMIC8gMjtcbnZhciBUV09fUFdSXzI0ID0gZnJvbUludChUV09fUFdSXzI0X0RCTCk7XG52YXIgWkVSTyA9IGZyb21JbnQoMCk7XG5Mb25nLlpFUk8gPSBaRVJPO1xudmFyIFVaRVJPID0gZnJvbUludCgwLCB0cnVlKTtcbkxvbmcuVVpFUk8gPSBVWkVSTztcbnZhciBPTkUgPSBmcm9tSW50KDEpO1xuTG9uZy5PTkUgPSBPTkU7XG52YXIgVU9ORSA9IGZyb21JbnQoMSwgdHJ1ZSk7XG5Mb25nLlVPTkUgPSBVT05FO1xudmFyIE5FR19PTkUgPSBmcm9tSW50KC0xKTtcbkxvbmcuTkVHX09ORSA9IE5FR19PTkU7XG52YXIgTUFYX1ZBTFVFID0gZnJvbUJpdHMoNDI5NDk2NzI5NSB8IDAsIDIxNDc0ODM2NDcgfCAwLCBmYWxzZSk7XG5Mb25nLk1BWF9WQUxVRSA9IE1BWF9WQUxVRTtcbnZhciBNQVhfVU5TSUdORURfVkFMVUUgPSBmcm9tQml0cyg0Mjk0OTY3Mjk1IHwgMCwgNDI5NDk2NzI5NSB8IDAsIHRydWUpO1xuTG9uZy5NQVhfVU5TSUdORURfVkFMVUUgPSBNQVhfVU5TSUdORURfVkFMVUU7XG52YXIgTUlOX1ZBTFVFID0gZnJvbUJpdHMoMCwgMjE0NzQ4MzY0OCB8IDAsIGZhbHNlKTtcbkxvbmcuTUlOX1ZBTFVFID0gTUlOX1ZBTFVFO1xudmFyIExvbmdQcm90b3R5cGUgPSBMb25nLnByb3RvdHlwZTtcbkxvbmdQcm90b3R5cGUudG9JbnQgPSBmdW5jdGlvbiB0b0ludCgpIHtcbiAgcmV0dXJuIHRoaXMudW5zaWduZWQgPyB0aGlzLmxvdyA+Pj4gMCA6IHRoaXMubG93O1xufTtcbkxvbmdQcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcigpIHtcbiAgaWYgKHRoaXMudW5zaWduZWQpXG4gICAgcmV0dXJuICh0aGlzLmhpZ2ggPj4+IDApICogVFdPX1BXUl8zMl9EQkwgKyAodGhpcy5sb3cgPj4+IDApO1xuICByZXR1cm4gdGhpcy5oaWdoICogVFdPX1BXUl8zMl9EQkwgKyAodGhpcy5sb3cgPj4+IDApO1xufTtcbkxvbmdQcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhyYWRpeCkge1xuICByYWRpeCA9IHJhZGl4IHx8IDEwO1xuICBpZiAocmFkaXggPCAyIHx8IDM2IDwgcmFkaXgpXG4gICAgdGhyb3cgUmFuZ2VFcnJvcihcInJhZGl4XCIpO1xuICBpZiAodGhpcy5pc1plcm8oKSlcbiAgICByZXR1cm4gXCIwXCI7XG4gIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xuICAgIGlmICh0aGlzLmVxKE1JTl9WQUxVRSkpIHtcbiAgICAgIHZhciByYWRpeExvbmcgPSBmcm9tTnVtYmVyKHJhZGl4KSwgZGl2ID0gdGhpcy5kaXYocmFkaXhMb25nKSwgcmVtMSA9IGRpdi5tdWwocmFkaXhMb25nKS5zdWIodGhpcyk7XG4gICAgICByZXR1cm4gZGl2LnRvU3RyaW5nKHJhZGl4KSArIHJlbTEudG9JbnQoKS50b1N0cmluZyhyYWRpeCk7XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm4gXCItXCIgKyB0aGlzLm5lZygpLnRvU3RyaW5nKHJhZGl4KTtcbiAgfVxuICB2YXIgcmFkaXhUb1Bvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCA2KSwgdGhpcy51bnNpZ25lZCksIHJlbSA9IHRoaXM7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciByZW1EaXYgPSByZW0uZGl2KHJhZGl4VG9Qb3dlciksIGludHZhbCA9IHJlbS5zdWIocmVtRGl2Lm11bChyYWRpeFRvUG93ZXIpKS50b0ludCgpID4+PiAwLCBkaWdpdHMgPSBpbnR2YWwudG9TdHJpbmcocmFkaXgpO1xuICAgIHJlbSA9IHJlbURpdjtcbiAgICBpZiAocmVtLmlzWmVybygpKVxuICAgICAgcmV0dXJuIGRpZ2l0cyArIHJlc3VsdDtcbiAgICBlbHNlIHtcbiAgICAgIHdoaWxlIChkaWdpdHMubGVuZ3RoIDwgNilcbiAgICAgICAgZGlnaXRzID0gXCIwXCIgKyBkaWdpdHM7XG4gICAgICByZXN1bHQgPSBcIlwiICsgZGlnaXRzICsgcmVzdWx0O1xuICAgIH1cbiAgfVxufTtcbkxvbmdQcm90b3R5cGUuZ2V0SGlnaEJpdHMgPSBmdW5jdGlvbiBnZXRIaWdoQml0cygpIHtcbiAgcmV0dXJuIHRoaXMuaGlnaDtcbn07XG5Mb25nUHJvdG90eXBlLmdldEhpZ2hCaXRzVW5zaWduZWQgPSBmdW5jdGlvbiBnZXRIaWdoQml0c1Vuc2lnbmVkKCkge1xuICByZXR1cm4gdGhpcy5oaWdoID4+PiAwO1xufTtcbkxvbmdQcm90b3R5cGUuZ2V0TG93Qml0cyA9IGZ1bmN0aW9uIGdldExvd0JpdHMoKSB7XG4gIHJldHVybiB0aGlzLmxvdztcbn07XG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHNVbnNpZ25lZCA9IGZ1bmN0aW9uIGdldExvd0JpdHNVbnNpZ25lZCgpIHtcbiAgcmV0dXJuIHRoaXMubG93ID4+PiAwO1xufTtcbkxvbmdQcm90b3R5cGUuZ2V0TnVtQml0c0FicyA9IGZ1bmN0aW9uIGdldE51bUJpdHNBYnMoKSB7XG4gIGlmICh0aGlzLmlzTmVnYXRpdmUoKSlcbiAgICByZXR1cm4gdGhpcy5lcShNSU5fVkFMVUUpID8gNjQgOiB0aGlzLm5lZygpLmdldE51bUJpdHNBYnMoKTtcbiAgdmFyIHZhbCA9IHRoaXMuaGlnaCAhPSAwID8gdGhpcy5oaWdoIDogdGhpcy5sb3c7XG4gIGZvciAodmFyIGJpdCA9IDMxOyBiaXQgPiAwOyBiaXQtLSlcbiAgICBpZiAoKHZhbCAmIDEgPDwgYml0KSAhPSAwKVxuICAgICAgYnJlYWs7XG4gIHJldHVybiB0aGlzLmhpZ2ggIT0gMCA/IGJpdCArIDMzIDogYml0ICsgMTtcbn07XG5Mb25nUHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uIGlzWmVybygpIHtcbiAgcmV0dXJuIHRoaXMuaGlnaCA9PT0gMCAmJiB0aGlzLmxvdyA9PT0gMDtcbn07XG5Mb25nUHJvdG90eXBlLmVxeiA9IExvbmdQcm90b3R5cGUuaXNaZXJvO1xuTG9uZ1Byb3RvdHlwZS5pc05lZ2F0aXZlID0gZnVuY3Rpb24gaXNOZWdhdGl2ZSgpIHtcbiAgcmV0dXJuICF0aGlzLnVuc2lnbmVkICYmIHRoaXMuaGlnaCA8IDA7XG59O1xuTG9uZ1Byb3RvdHlwZS5pc1Bvc2l0aXZlID0gZnVuY3Rpb24gaXNQb3NpdGl2ZSgpIHtcbiAgcmV0dXJuIHRoaXMudW5zaWduZWQgfHwgdGhpcy5oaWdoID49IDA7XG59O1xuTG9uZ1Byb3RvdHlwZS5pc09kZCA9IGZ1bmN0aW9uIGlzT2RkKCkge1xuICByZXR1cm4gKHRoaXMubG93ICYgMSkgPT09IDE7XG59O1xuTG9uZ1Byb3RvdHlwZS5pc0V2ZW4gPSBmdW5jdGlvbiBpc0V2ZW4oKSB7XG4gIHJldHVybiAodGhpcy5sb3cgJiAxKSA9PT0gMDtcbn07XG5Mb25nUHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpXG4gICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xuICBpZiAodGhpcy51bnNpZ25lZCAhPT0gb3RoZXIudW5zaWduZWQgJiYgdGhpcy5oaWdoID4+PiAzMSA9PT0gMSAmJiBvdGhlci5oaWdoID4+PiAzMSA9PT0gMSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0aGlzLmhpZ2ggPT09IG90aGVyLmhpZ2ggJiYgdGhpcy5sb3cgPT09IG90aGVyLmxvdztcbn07XG5Mb25nUHJvdG90eXBlLmVxID0gTG9uZ1Byb3RvdHlwZS5lcXVhbHM7XG5Mb25nUHJvdG90eXBlLm5vdEVxdWFscyA9IGZ1bmN0aW9uIG5vdEVxdWFscyhvdGhlcikge1xuICByZXR1cm4gIXRoaXMuZXEoXG4gICAgLyogdmFsaWRhdGVzICovXG4gICAgb3RoZXJcbiAgKTtcbn07XG5Mb25nUHJvdG90eXBlLm5lcSA9IExvbmdQcm90b3R5cGUubm90RXF1YWxzO1xuTG9uZ1Byb3RvdHlwZS5uZSA9IExvbmdQcm90b3R5cGUubm90RXF1YWxzO1xuTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbiA9IGZ1bmN0aW9uIGxlc3NUaGFuKG90aGVyKSB7XG4gIHJldHVybiB0aGlzLmNvbXAoXG4gICAgLyogdmFsaWRhdGVzICovXG4gICAgb3RoZXJcbiAgKSA8IDA7XG59O1xuTG9uZ1Byb3RvdHlwZS5sdCA9IExvbmdQcm90b3R5cGUubGVzc1RoYW47XG5Mb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbCA9IGZ1bmN0aW9uIGxlc3NUaGFuT3JFcXVhbChvdGhlcikge1xuICByZXR1cm4gdGhpcy5jb21wKFxuICAgIC8qIHZhbGlkYXRlcyAqL1xuICAgIG90aGVyXG4gICkgPD0gMDtcbn07XG5Mb25nUHJvdG90eXBlLmx0ZSA9IExvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsO1xuTG9uZ1Byb3RvdHlwZS5sZSA9IExvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsO1xuTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbiA9IGZ1bmN0aW9uIGdyZWF0ZXJUaGFuKG90aGVyKSB7XG4gIHJldHVybiB0aGlzLmNvbXAoXG4gICAgLyogdmFsaWRhdGVzICovXG4gICAgb3RoZXJcbiAgKSA+IDA7XG59O1xuTG9uZ1Byb3RvdHlwZS5ndCA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW47XG5Mb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbCA9IGZ1bmN0aW9uIGdyZWF0ZXJUaGFuT3JFcXVhbChvdGhlcikge1xuICByZXR1cm4gdGhpcy5jb21wKFxuICAgIC8qIHZhbGlkYXRlcyAqL1xuICAgIG90aGVyXG4gICkgPj0gMDtcbn07XG5Mb25nUHJvdG90eXBlLmd0ZSA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsO1xuTG9uZ1Byb3RvdHlwZS5nZSA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsO1xuTG9uZ1Byb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZShvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpXG4gICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xuICBpZiAodGhpcy5lcShvdGhlcikpXG4gICAgcmV0dXJuIDA7XG4gIHZhciB0aGlzTmVnID0gdGhpcy5pc05lZ2F0aXZlKCksIG90aGVyTmVnID0gb3RoZXIuaXNOZWdhdGl2ZSgpO1xuICBpZiAodGhpc05lZyAmJiAhb3RoZXJOZWcpXG4gICAgcmV0dXJuIC0xO1xuICBpZiAoIXRoaXNOZWcgJiYgb3RoZXJOZWcpXG4gICAgcmV0dXJuIDE7XG4gIGlmICghdGhpcy51bnNpZ25lZClcbiAgICByZXR1cm4gdGhpcy5zdWIob3RoZXIpLmlzTmVnYXRpdmUoKSA/IC0xIDogMTtcbiAgcmV0dXJuIG90aGVyLmhpZ2ggPj4+IDAgPiB0aGlzLmhpZ2ggPj4+IDAgfHwgb3RoZXIuaGlnaCA9PT0gdGhpcy5oaWdoICYmIG90aGVyLmxvdyA+Pj4gMCA+IHRoaXMubG93ID4+PiAwID8gLTEgOiAxO1xufTtcbkxvbmdQcm90b3R5cGUuY29tcCA9IExvbmdQcm90b3R5cGUuY29tcGFyZTtcbkxvbmdQcm90b3R5cGUubmVnYXRlID0gZnVuY3Rpb24gbmVnYXRlKCkge1xuICBpZiAoIXRoaXMudW5zaWduZWQgJiYgdGhpcy5lcShNSU5fVkFMVUUpKVxuICAgIHJldHVybiBNSU5fVkFMVUU7XG4gIHJldHVybiB0aGlzLm5vdCgpLmFkZChPTkUpO1xufTtcbkxvbmdQcm90b3R5cGUubmVnID0gTG9uZ1Byb3RvdHlwZS5uZWdhdGU7XG5Mb25nUHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChhZGRlbmQpIHtcbiAgaWYgKCFpc0xvbmcoYWRkZW5kKSlcbiAgICBhZGRlbmQgPSBmcm9tVmFsdWUoYWRkZW5kKTtcbiAgdmFyIGE0OCA9IHRoaXMuaGlnaCA+Pj4gMTY7XG4gIHZhciBhMzIgPSB0aGlzLmhpZ2ggJiA2NTUzNTtcbiAgdmFyIGExNiA9IHRoaXMubG93ID4+PiAxNjtcbiAgdmFyIGEwMCA9IHRoaXMubG93ICYgNjU1MzU7XG4gIHZhciBiNDggPSBhZGRlbmQuaGlnaCA+Pj4gMTY7XG4gIHZhciBiMzIgPSBhZGRlbmQuaGlnaCAmIDY1NTM1O1xuICB2YXIgYjE2ID0gYWRkZW5kLmxvdyA+Pj4gMTY7XG4gIHZhciBiMDAgPSBhZGRlbmQubG93ICYgNjU1MzU7XG4gIHZhciBjNDggPSAwLCBjMzIgPSAwLCBjMTYgPSAwLCBjMDAgPSAwO1xuICBjMDAgKz0gYTAwICsgYjAwO1xuICBjMTYgKz0gYzAwID4+PiAxNjtcbiAgYzAwICY9IDY1NTM1O1xuICBjMTYgKz0gYTE2ICsgYjE2O1xuICBjMzIgKz0gYzE2ID4+PiAxNjtcbiAgYzE2ICY9IDY1NTM1O1xuICBjMzIgKz0gYTMyICsgYjMyO1xuICBjNDggKz0gYzMyID4+PiAxNjtcbiAgYzMyICY9IDY1NTM1O1xuICBjNDggKz0gYTQ4ICsgYjQ4O1xuICBjNDggJj0gNjU1MzU7XG4gIHJldHVybiBmcm9tQml0cyhjMTYgPDwgMTYgfCBjMDAsIGM0OCA8PCAxNiB8IGMzMiwgdGhpcy51bnNpZ25lZCk7XG59O1xuTG9uZ1Byb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0KHN1YnRyYWhlbmQpIHtcbiAgaWYgKCFpc0xvbmcoc3VidHJhaGVuZCkpXG4gICAgc3VidHJhaGVuZCA9IGZyb21WYWx1ZShzdWJ0cmFoZW5kKTtcbiAgcmV0dXJuIHRoaXMuYWRkKHN1YnRyYWhlbmQubmVnKCkpO1xufTtcbkxvbmdQcm90b3R5cGUuc3ViID0gTG9uZ1Byb3RvdHlwZS5zdWJ0cmFjdDtcbkxvbmdQcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiBtdWx0aXBseShtdWx0aXBsaWVyKSB7XG4gIGlmICh0aGlzLmlzWmVybygpKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAoIWlzTG9uZyhtdWx0aXBsaWVyKSlcbiAgICBtdWx0aXBsaWVyID0gZnJvbVZhbHVlKG11bHRpcGxpZXIpO1xuICBpZiAod2FzbSkge1xuICAgIHZhciBsb3cgPSB3YXNtW1wibXVsXCJdKFxuICAgICAgdGhpcy5sb3csXG4gICAgICB0aGlzLmhpZ2gsXG4gICAgICBtdWx0aXBsaWVyLmxvdyxcbiAgICAgIG11bHRpcGxpZXIuaGlnaFxuICAgICk7XG4gICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbVtcImdldF9oaWdoXCJdKCksIHRoaXMudW5zaWduZWQpO1xuICB9XG4gIGlmIChtdWx0aXBsaWVyLmlzWmVybygpKVxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKVxuICAgIHJldHVybiBtdWx0aXBsaWVyLmlzT2RkKCkgPyBNSU5fVkFMVUUgOiBaRVJPO1xuICBpZiAobXVsdGlwbGllci5lcShNSU5fVkFMVUUpKVxuICAgIHJldHVybiB0aGlzLmlzT2RkKCkgPyBNSU5fVkFMVUUgOiBaRVJPO1xuICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpXG4gICAgICByZXR1cm4gdGhpcy5uZWcoKS5tdWwobXVsdGlwbGllci5uZWcoKSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIHRoaXMubmVnKCkubXVsKG11bHRpcGxpZXIpLm5lZygpO1xuICB9IGVsc2UgaWYgKG11bHRpcGxpZXIuaXNOZWdhdGl2ZSgpKVxuICAgIHJldHVybiB0aGlzLm11bChtdWx0aXBsaWVyLm5lZygpKS5uZWcoKTtcbiAgaWYgKHRoaXMubHQoVFdPX1BXUl8yNCkgJiYgbXVsdGlwbGllci5sdChUV09fUFdSXzI0KSlcbiAgICByZXR1cm4gZnJvbU51bWJlcih0aGlzLnRvTnVtYmVyKCkgKiBtdWx0aXBsaWVyLnRvTnVtYmVyKCksIHRoaXMudW5zaWduZWQpO1xuICB2YXIgYTQ4ID0gdGhpcy5oaWdoID4+PiAxNjtcbiAgdmFyIGEzMiA9IHRoaXMuaGlnaCAmIDY1NTM1O1xuICB2YXIgYTE2ID0gdGhpcy5sb3cgPj4+IDE2O1xuICB2YXIgYTAwID0gdGhpcy5sb3cgJiA2NTUzNTtcbiAgdmFyIGI0OCA9IG11bHRpcGxpZXIuaGlnaCA+Pj4gMTY7XG4gIHZhciBiMzIgPSBtdWx0aXBsaWVyLmhpZ2ggJiA2NTUzNTtcbiAgdmFyIGIxNiA9IG11bHRpcGxpZXIubG93ID4+PiAxNjtcbiAgdmFyIGIwMCA9IG11bHRpcGxpZXIubG93ICYgNjU1MzU7XG4gIHZhciBjNDggPSAwLCBjMzIgPSAwLCBjMTYgPSAwLCBjMDAgPSAwO1xuICBjMDAgKz0gYTAwICogYjAwO1xuICBjMTYgKz0gYzAwID4+PiAxNjtcbiAgYzAwICY9IDY1NTM1O1xuICBjMTYgKz0gYTE2ICogYjAwO1xuICBjMzIgKz0gYzE2ID4+PiAxNjtcbiAgYzE2ICY9IDY1NTM1O1xuICBjMTYgKz0gYTAwICogYjE2O1xuICBjMzIgKz0gYzE2ID4+PiAxNjtcbiAgYzE2ICY9IDY1NTM1O1xuICBjMzIgKz0gYTMyICogYjAwO1xuICBjNDggKz0gYzMyID4+PiAxNjtcbiAgYzMyICY9IDY1NTM1O1xuICBjMzIgKz0gYTE2ICogYjE2O1xuICBjNDggKz0gYzMyID4+PiAxNjtcbiAgYzMyICY9IDY1NTM1O1xuICBjMzIgKz0gYTAwICogYjMyO1xuICBjNDggKz0gYzMyID4+PiAxNjtcbiAgYzMyICY9IDY1NTM1O1xuICBjNDggKz0gYTQ4ICogYjAwICsgYTMyICogYjE2ICsgYTE2ICogYjMyICsgYTAwICogYjQ4O1xuICBjNDggJj0gNjU1MzU7XG4gIHJldHVybiBmcm9tQml0cyhjMTYgPDwgMTYgfCBjMDAsIGM0OCA8PCAxNiB8IGMzMiwgdGhpcy51bnNpZ25lZCk7XG59O1xuTG9uZ1Byb3RvdHlwZS5tdWwgPSBMb25nUHJvdG90eXBlLm11bHRpcGx5O1xuTG9uZ1Byb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUoZGl2aXNvcikge1xuICBpZiAoIWlzTG9uZyhkaXZpc29yKSlcbiAgICBkaXZpc29yID0gZnJvbVZhbHVlKGRpdmlzb3IpO1xuICBpZiAoZGl2aXNvci5pc1plcm8oKSlcbiAgICB0aHJvdyBFcnJvcihcImRpdmlzaW9uIGJ5IHplcm9cIik7XG4gIGlmICh3YXNtKSB7XG4gICAgaWYgKCF0aGlzLnVuc2lnbmVkICYmIHRoaXMuaGlnaCA9PT0gLTIxNDc0ODM2NDggJiYgZGl2aXNvci5sb3cgPT09IC0xICYmIGRpdmlzb3IuaGlnaCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgbG93ID0gKHRoaXMudW5zaWduZWQgPyB3YXNtW1wiZGl2X3VcIl0gOiB3YXNtW1wiZGl2X3NcIl0pKFxuICAgICAgdGhpcy5sb3csXG4gICAgICB0aGlzLmhpZ2gsXG4gICAgICBkaXZpc29yLmxvdyxcbiAgICAgIGRpdmlzb3IuaGlnaFxuICAgICk7XG4gICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbVtcImdldF9oaWdoXCJdKCksIHRoaXMudW5zaWduZWQpO1xuICB9XG4gIGlmICh0aGlzLmlzWmVybygpKVxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICB2YXIgYXBwcm94LCByZW0sIHJlcztcbiAgaWYgKCF0aGlzLnVuc2lnbmVkKSB7XG4gICAgaWYgKHRoaXMuZXEoTUlOX1ZBTFVFKSkge1xuICAgICAgaWYgKGRpdmlzb3IuZXEoT05FKSB8fCBkaXZpc29yLmVxKE5FR19PTkUpKVxuICAgICAgICByZXR1cm4gTUlOX1ZBTFVFO1xuICAgICAgZWxzZSBpZiAoZGl2aXNvci5lcShNSU5fVkFMVUUpKVxuICAgICAgICByZXR1cm4gT05FO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBoYWxmVGhpcyA9IHRoaXMuc2hyKDEpO1xuICAgICAgICBhcHByb3ggPSBoYWxmVGhpcy5kaXYoZGl2aXNvcikuc2hsKDEpO1xuICAgICAgICBpZiAoYXBwcm94LmVxKFpFUk8pKSB7XG4gICAgICAgICAgcmV0dXJuIGRpdmlzb3IuaXNOZWdhdGl2ZSgpID8gT05FIDogTkVHX09ORTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW0gPSB0aGlzLnN1YihkaXZpc29yLm11bChhcHByb3gpKTtcbiAgICAgICAgICByZXMgPSBhcHByb3guYWRkKHJlbS5kaXYoZGl2aXNvcikpO1xuICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpdmlzb3IuZXEoTUlOX1ZBTFVFKSlcbiAgICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xuICAgICAgaWYgKGRpdmlzb3IuaXNOZWdhdGl2ZSgpKVxuICAgICAgICByZXR1cm4gdGhpcy5uZWcoKS5kaXYoZGl2aXNvci5uZWcoKSk7XG4gICAgICByZXR1cm4gdGhpcy5uZWcoKS5kaXYoZGl2aXNvcikubmVnKCk7XG4gICAgfSBlbHNlIGlmIChkaXZpc29yLmlzTmVnYXRpdmUoKSlcbiAgICAgIHJldHVybiB0aGlzLmRpdihkaXZpc29yLm5lZygpKS5uZWcoKTtcbiAgICByZXMgPSBaRVJPO1xuICB9IGVsc2Uge1xuICAgIGlmICghZGl2aXNvci51bnNpZ25lZClcbiAgICAgIGRpdmlzb3IgPSBkaXZpc29yLnRvVW5zaWduZWQoKTtcbiAgICBpZiAoZGl2aXNvci5ndCh0aGlzKSlcbiAgICAgIHJldHVybiBVWkVSTztcbiAgICBpZiAoZGl2aXNvci5ndCh0aGlzLnNocnUoMSkpKVxuICAgICAgcmV0dXJuIFVPTkU7XG4gICAgcmVzID0gVVpFUk87XG4gIH1cbiAgcmVtID0gdGhpcztcbiAgd2hpbGUgKHJlbS5ndGUoZGl2aXNvcikpIHtcbiAgICBhcHByb3ggPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHJlbS50b051bWJlcigpIC8gZGl2aXNvci50b051bWJlcigpKSk7XG4gICAgdmFyIGxvZzIgPSBNYXRoLmNlaWwoTWF0aC5sb2coYXBwcm94KSAvIE1hdGguTE4yKSwgZGVsdGEgPSBsb2cyIDw9IDQ4ID8gMSA6IHBvd19kYmwoMiwgbG9nMiAtIDQ4KSwgYXBwcm94UmVzID0gZnJvbU51bWJlcihhcHByb3gpLCBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xuICAgIHdoaWxlIChhcHByb3hSZW0uaXNOZWdhdGl2ZSgpIHx8IGFwcHJveFJlbS5ndChyZW0pKSB7XG4gICAgICBhcHByb3ggLT0gZGVsdGE7XG4gICAgICBhcHByb3hSZXMgPSBmcm9tTnVtYmVyKGFwcHJveCwgdGhpcy51bnNpZ25lZCk7XG4gICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xuICAgIH1cbiAgICBpZiAoYXBwcm94UmVzLmlzWmVybygpKVxuICAgICAgYXBwcm94UmVzID0gT05FO1xuICAgIHJlcyA9IHJlcy5hZGQoYXBwcm94UmVzKTtcbiAgICByZW0gPSByZW0uc3ViKGFwcHJveFJlbSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5Mb25nUHJvdG90eXBlLmRpdiA9IExvbmdQcm90b3R5cGUuZGl2aWRlO1xuTG9uZ1Byb3RvdHlwZS5tb2R1bG8gPSBmdW5jdGlvbiBtb2R1bG8oZGl2aXNvcikge1xuICBpZiAoIWlzTG9uZyhkaXZpc29yKSlcbiAgICBkaXZpc29yID0gZnJvbVZhbHVlKGRpdmlzb3IpO1xuICBpZiAod2FzbSkge1xuICAgIHZhciBsb3cgPSAodGhpcy51bnNpZ25lZCA/IHdhc21bXCJyZW1fdVwiXSA6IHdhc21bXCJyZW1fc1wiXSkoXG4gICAgICB0aGlzLmxvdyxcbiAgICAgIHRoaXMuaGlnaCxcbiAgICAgIGRpdmlzb3IubG93LFxuICAgICAgZGl2aXNvci5oaWdoXG4gICAgKTtcbiAgICByZXR1cm4gZnJvbUJpdHMobG93LCB3YXNtW1wiZ2V0X2hpZ2hcIl0oKSwgdGhpcy51bnNpZ25lZCk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuc3ViKHRoaXMuZGl2KGRpdmlzb3IpLm11bChkaXZpc29yKSk7XG59O1xuTG9uZ1Byb3RvdHlwZS5tb2QgPSBMb25nUHJvdG90eXBlLm1vZHVsbztcbkxvbmdQcm90b3R5cGUucmVtID0gTG9uZ1Byb3RvdHlwZS5tb2R1bG87XG5Mb25nUHJvdG90eXBlLm5vdCA9IGZ1bmN0aW9uIG5vdCgpIHtcbiAgcmV0dXJuIGZyb21CaXRzKH50aGlzLmxvdywgfnRoaXMuaGlnaCwgdGhpcy51bnNpZ25lZCk7XG59O1xuTG9uZ1Byb3RvdHlwZS5jb3VudExlYWRpbmdaZXJvcyA9IGZ1bmN0aW9uIGNvdW50TGVhZGluZ1plcm9zKCkge1xuICByZXR1cm4gdGhpcy5oaWdoID8gTWF0aC5jbHozMih0aGlzLmhpZ2gpIDogTWF0aC5jbHozMih0aGlzLmxvdykgKyAzMjtcbn07XG5Mb25nUHJvdG90eXBlLmNseiA9IExvbmdQcm90b3R5cGUuY291bnRMZWFkaW5nWmVyb3M7XG5Mb25nUHJvdG90eXBlLmNvdW50VHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIGNvdW50VHJhaWxpbmdaZXJvcygpIHtcbiAgcmV0dXJuIHRoaXMubG93ID8gY3R6MzIodGhpcy5sb3cpIDogY3R6MzIodGhpcy5oaWdoKSArIDMyO1xufTtcbkxvbmdQcm90b3R5cGUuY3R6ID0gTG9uZ1Byb3RvdHlwZS5jb3VudFRyYWlsaW5nWmVyb3M7XG5Mb25nUHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uIGFuZChvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpXG4gICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgJiBvdGhlci5sb3csIHRoaXMuaGlnaCAmIG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xufTtcbkxvbmdQcm90b3R5cGUub3IgPSBmdW5jdGlvbiBvcihvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpXG4gICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgfCBvdGhlci5sb3csIHRoaXMuaGlnaCB8IG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xufTtcbkxvbmdQcm90b3R5cGUueG9yID0gZnVuY3Rpb24geG9yKG90aGVyKSB7XG4gIGlmICghaXNMb25nKG90aGVyKSlcbiAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XG4gIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyBeIG90aGVyLmxvdywgdGhpcy5oaWdoIF4gb3RoZXIuaGlnaCwgdGhpcy51bnNpZ25lZCk7XG59O1xuTG9uZ1Byb3RvdHlwZS5zaGlmdExlZnQgPSBmdW5jdGlvbiBzaGlmdExlZnQobnVtQml0cykge1xuICBpZiAoaXNMb25nKG51bUJpdHMpKVxuICAgIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XG4gIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApXG4gICAgcmV0dXJuIHRoaXM7XG4gIGVsc2UgaWYgKG51bUJpdHMgPCAzMilcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgPDwgbnVtQml0cywgdGhpcy5oaWdoIDw8IG51bUJpdHMgfCB0aGlzLmxvdyA+Pj4gMzIgLSBudW1CaXRzLCB0aGlzLnVuc2lnbmVkKTtcbiAgZWxzZVxuICAgIHJldHVybiBmcm9tQml0cygwLCB0aGlzLmxvdyA8PCBudW1CaXRzIC0gMzIsIHRoaXMudW5zaWduZWQpO1xufTtcbkxvbmdQcm90b3R5cGUuc2hsID0gTG9uZ1Byb3RvdHlwZS5zaGlmdExlZnQ7XG5Mb25nUHJvdG90eXBlLnNoaWZ0UmlnaHQgPSBmdW5jdGlvbiBzaGlmdFJpZ2h0KG51bUJpdHMpIHtcbiAgaWYgKGlzTG9uZyhudW1CaXRzKSlcbiAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKVxuICAgIHJldHVybiB0aGlzO1xuICBlbHNlIGlmIChudW1CaXRzIDwgMzIpXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93ID4+PiBudW1CaXRzIHwgdGhpcy5oaWdoIDw8IDMyIC0gbnVtQml0cywgdGhpcy5oaWdoID4+IG51bUJpdHMsIHRoaXMudW5zaWduZWQpO1xuICBlbHNlXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCA+PiBudW1CaXRzIC0gMzIsIHRoaXMuaGlnaCA+PSAwID8gMCA6IC0xLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5Mb25nUHJvdG90eXBlLnNociA9IExvbmdQcm90b3R5cGUuc2hpZnRSaWdodDtcbkxvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkID0gZnVuY3Rpb24gc2hpZnRSaWdodFVuc2lnbmVkKG51bUJpdHMpIHtcbiAgaWYgKGlzTG9uZyhudW1CaXRzKSlcbiAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAobnVtQml0cyA8IDMyKVxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyA+Pj4gbnVtQml0cyB8IHRoaXMuaGlnaCA8PCAzMiAtIG51bUJpdHMsIHRoaXMuaGlnaCA+Pj4gbnVtQml0cywgdGhpcy51bnNpZ25lZCk7XG4gIGlmIChudW1CaXRzID09PSAzMilcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5oaWdoLCAwLCB0aGlzLnVuc2lnbmVkKTtcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCA+Pj4gbnVtQml0cyAtIDMyLCAwLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5Mb25nUHJvdG90eXBlLnNocnUgPSBMb25nUHJvdG90eXBlLnNoaWZ0UmlnaHRVbnNpZ25lZDtcbkxvbmdQcm90b3R5cGUuc2hyX3UgPSBMb25nUHJvdG90eXBlLnNoaWZ0UmlnaHRVbnNpZ25lZDtcbkxvbmdQcm90b3R5cGUucm90YXRlTGVmdCA9IGZ1bmN0aW9uIHJvdGF0ZUxlZnQobnVtQml0cykge1xuICB2YXIgYjtcbiAgaWYgKGlzTG9uZyhudW1CaXRzKSlcbiAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAobnVtQml0cyA9PT0gMzIpXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCwgdGhpcy5sb3csIHRoaXMudW5zaWduZWQpO1xuICBpZiAobnVtQml0cyA8IDMyKSB7XG4gICAgYiA9IDMyIC0gbnVtQml0cztcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgPDwgbnVtQml0cyB8IHRoaXMuaGlnaCA+Pj4gYiwgdGhpcy5oaWdoIDw8IG51bUJpdHMgfCB0aGlzLmxvdyA+Pj4gYiwgdGhpcy51bnNpZ25lZCk7XG4gIH1cbiAgbnVtQml0cyAtPSAzMjtcbiAgYiA9IDMyIC0gbnVtQml0cztcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCA8PCBudW1CaXRzIHwgdGhpcy5sb3cgPj4+IGIsIHRoaXMubG93IDw8IG51bUJpdHMgfCB0aGlzLmhpZ2ggPj4+IGIsIHRoaXMudW5zaWduZWQpO1xufTtcbkxvbmdQcm90b3R5cGUucm90bCA9IExvbmdQcm90b3R5cGUucm90YXRlTGVmdDtcbkxvbmdQcm90b3R5cGUucm90YXRlUmlnaHQgPSBmdW5jdGlvbiByb3RhdGVSaWdodChudW1CaXRzKSB7XG4gIHZhciBiO1xuICBpZiAoaXNMb25nKG51bUJpdHMpKVxuICAgIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XG4gIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmIChudW1CaXRzID09PSAzMilcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5oaWdoLCB0aGlzLmxvdywgdGhpcy51bnNpZ25lZCk7XG4gIGlmIChudW1CaXRzIDwgMzIpIHtcbiAgICBiID0gMzIgLSBudW1CaXRzO1xuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2ggPDwgYiB8IHRoaXMubG93ID4+PiBudW1CaXRzLCB0aGlzLmxvdyA8PCBiIHwgdGhpcy5oaWdoID4+PiBudW1CaXRzLCB0aGlzLnVuc2lnbmVkKTtcbiAgfVxuICBudW1CaXRzIC09IDMyO1xuICBiID0gMzIgLSBudW1CaXRzO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgPDwgYiB8IHRoaXMuaGlnaCA+Pj4gbnVtQml0cywgdGhpcy5oaWdoIDw8IGIgfCB0aGlzLmxvdyA+Pj4gbnVtQml0cywgdGhpcy51bnNpZ25lZCk7XG59O1xuTG9uZ1Byb3RvdHlwZS5yb3RyID0gTG9uZ1Byb3RvdHlwZS5yb3RhdGVSaWdodDtcbkxvbmdQcm90b3R5cGUudG9TaWduZWQgPSBmdW5jdGlvbiB0b1NpZ25lZCgpIHtcbiAgaWYgKCF0aGlzLnVuc2lnbmVkKVxuICAgIHJldHVybiB0aGlzO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3csIHRoaXMuaGlnaCwgZmFsc2UpO1xufTtcbkxvbmdQcm90b3R5cGUudG9VbnNpZ25lZCA9IGZ1bmN0aW9uIHRvVW5zaWduZWQoKSB7XG4gIGlmICh0aGlzLnVuc2lnbmVkKVxuICAgIHJldHVybiB0aGlzO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3csIHRoaXMuaGlnaCwgdHJ1ZSk7XG59O1xuTG9uZ1Byb3RvdHlwZS50b0J5dGVzID0gZnVuY3Rpb24gdG9CeXRlcyhsZSkge1xuICByZXR1cm4gbGUgPyB0aGlzLnRvQnl0ZXNMRSgpIDogdGhpcy50b0J5dGVzQkUoKTtcbn07XG5Mb25nUHJvdG90eXBlLnRvQnl0ZXNMRSA9IGZ1bmN0aW9uIHRvQnl0ZXNMRSgpIHtcbiAgdmFyIGhpID0gdGhpcy5oaWdoLCBsbyA9IHRoaXMubG93O1xuICByZXR1cm4gW1xuICAgIGxvICYgMjU1LFxuICAgIGxvID4+PiA4ICYgMjU1LFxuICAgIGxvID4+PiAxNiAmIDI1NSxcbiAgICBsbyA+Pj4gMjQsXG4gICAgaGkgJiAyNTUsXG4gICAgaGkgPj4+IDggJiAyNTUsXG4gICAgaGkgPj4+IDE2ICYgMjU1LFxuICAgIGhpID4+PiAyNFxuICBdO1xufTtcbkxvbmdQcm90b3R5cGUudG9CeXRlc0JFID0gZnVuY3Rpb24gdG9CeXRlc0JFKCkge1xuICB2YXIgaGkgPSB0aGlzLmhpZ2gsIGxvID0gdGhpcy5sb3c7XG4gIHJldHVybiBbXG4gICAgaGkgPj4+IDI0LFxuICAgIGhpID4+PiAxNiAmIDI1NSxcbiAgICBoaSA+Pj4gOCAmIDI1NSxcbiAgICBoaSAmIDI1NSxcbiAgICBsbyA+Pj4gMjQsXG4gICAgbG8gPj4+IDE2ICYgMjU1LFxuICAgIGxvID4+PiA4ICYgMjU1LFxuICAgIGxvICYgMjU1XG4gIF07XG59O1xuTG9uZy5mcm9tQnl0ZXMgPSBmdW5jdGlvbiBmcm9tQnl0ZXMoYnl0ZXMsIHVuc2lnbmVkLCBsZSkge1xuICByZXR1cm4gbGUgPyBMb25nLmZyb21CeXRlc0xFKGJ5dGVzLCB1bnNpZ25lZCkgOiBMb25nLmZyb21CeXRlc0JFKGJ5dGVzLCB1bnNpZ25lZCk7XG59O1xuTG9uZy5mcm9tQnl0ZXNMRSA9IGZ1bmN0aW9uIGZyb21CeXRlc0xFKGJ5dGVzLCB1bnNpZ25lZCkge1xuICByZXR1cm4gbmV3IExvbmcoXG4gICAgYnl0ZXNbMF0gfCBieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMl0gPDwgMTYgfCBieXRlc1szXSA8PCAyNCxcbiAgICBieXRlc1s0XSB8IGJ5dGVzWzVdIDw8IDggfCBieXRlc1s2XSA8PCAxNiB8IGJ5dGVzWzddIDw8IDI0LFxuICAgIHVuc2lnbmVkXG4gICk7XG59O1xuTG9uZy5mcm9tQnl0ZXNCRSA9IGZ1bmN0aW9uIGZyb21CeXRlc0JFKGJ5dGVzLCB1bnNpZ25lZCkge1xuICByZXR1cm4gbmV3IExvbmcoXG4gICAgYnl0ZXNbNF0gPDwgMjQgfCBieXRlc1s1XSA8PCAxNiB8IGJ5dGVzWzZdIDw8IDggfCBieXRlc1s3XSxcbiAgICBieXRlc1swXSA8PCAyNCB8IGJ5dGVzWzFdIDw8IDE2IHwgYnl0ZXNbMl0gPDwgOCB8IGJ5dGVzWzNdLFxuICAgIHVuc2lnbmVkXG4gICk7XG59O1xudmFyIGxvbmdfZGVmYXVsdCA9IExvbmc7XG5cbi8vIHNyYy9mYXJjYXN0ZXIvZ2VuZXJhdGVkL3VzZXJuYW1lX3Byb29mLnRzXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWwuanNcIjtcbnZhciBVc2VyTmFtZVR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChVc2VyTmFtZVR5cGUyKSA9PiB7XG4gIFVzZXJOYW1lVHlwZTJbVXNlck5hbWVUeXBlMltcIlVTRVJOQU1FX1RZUEVfTk9ORVwiXSA9IDBdID0gXCJVU0VSTkFNRV9UWVBFX05PTkVcIjtcbiAgVXNlck5hbWVUeXBlMltVc2VyTmFtZVR5cGUyW1wiVVNFUk5BTUVfVFlQRV9GTkFNRVwiXSA9IDFdID0gXCJVU0VSTkFNRV9UWVBFX0ZOQU1FXCI7XG4gIFVzZXJOYW1lVHlwZTJbVXNlck5hbWVUeXBlMltcIlVTRVJOQU1FX1RZUEVfRU5TX0wxXCJdID0gMl0gPSBcIlVTRVJOQU1FX1RZUEVfRU5TX0wxXCI7XG4gIHJldHVybiBVc2VyTmFtZVR5cGUyO1xufSkoVXNlck5hbWVUeXBlIHx8IHt9KTtcbmZ1bmN0aW9uIHVzZXJOYW1lVHlwZUZyb21KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIFwiVVNFUk5BTUVfVFlQRV9OT05FXCI6XG4gICAgICByZXR1cm4gMCAvKiBVU0VSTkFNRV9UWVBFX05PTkUgKi87XG4gICAgY2FzZSAxOlxuICAgIGNhc2UgXCJVU0VSTkFNRV9UWVBFX0ZOQU1FXCI6XG4gICAgICByZXR1cm4gMSAvKiBVU0VSTkFNRV9UWVBFX0ZOQU1FICovO1xuICAgIGNhc2UgMjpcbiAgICBjYXNlIFwiVVNFUk5BTUVfVFlQRV9FTlNfTDFcIjpcbiAgICAgIHJldHVybiAyIC8qIFVTRVJOQU1FX1RZUEVfRU5TX0wxICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgIFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBVc2VyTmFtZVR5cGVcIlxuICAgICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gdXNlck5hbWVUeXBlVG9KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMCAvKiBVU0VSTkFNRV9UWVBFX05PTkUgKi86XG4gICAgICByZXR1cm4gXCJVU0VSTkFNRV9UWVBFX05PTkVcIjtcbiAgICBjYXNlIDEgLyogVVNFUk5BTUVfVFlQRV9GTkFNRSAqLzpcbiAgICAgIHJldHVybiBcIlVTRVJOQU1FX1RZUEVfRk5BTUVcIjtcbiAgICBjYXNlIDIgLyogVVNFUk5BTUVfVFlQRV9FTlNfTDEgKi86XG4gICAgICByZXR1cm4gXCJVU0VSTkFNRV9UWVBFX0VOU19MMVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgIFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBVc2VyTmFtZVR5cGVcIlxuICAgICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQmFzZVVzZXJOYW1lUHJvb2YoKSB7XG4gIHJldHVybiB7XG4gICAgdGltZXN0YW1wOiAwLFxuICAgIG5hbWU6IG5ldyBVaW50OEFycmF5KCksXG4gICAgb3duZXI6IG5ldyBVaW50OEFycmF5KCksXG4gICAgc2lnbmF0dXJlOiBuZXcgVWludDhBcnJheSgpLFxuICAgIGZpZDogMCxcbiAgICB0eXBlOiAwXG4gIH07XG59XG52YXIgVXNlck5hbWVQcm9vZiA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkudWludDY0KG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubmFtZS5sZW5ndGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UubmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm93bmVyLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNikuYnl0ZXMobWVzc2FnZS5vd25lcik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNpZ25hdHVyZS5sZW5ndGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzQpLmJ5dGVzKG1lc3NhZ2Uuc2lnbmF0dXJlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZmlkICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQwKS51aW50NjQobWVzc2FnZS5maWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50eXBlICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQ4KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVXNlck5hbWVQcm9vZigpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKHRhZyAhPSA4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSBsb25nVG9OdW1iZXIocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGlmICh0YWcgIT0gMjYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLm93bmVyID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBpZiAodGFnICE9IDM0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5zaWduYXR1cmUgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGlmICh0YWcgIT0gNDApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmZpZCA9IGxvbmdUb051bWJlcihyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgaWYgKHRhZyAhPSA0OCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PSA0IHx8IHRhZyA9PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWVzdGFtcDogaXNTZXQob2JqZWN0LnRpbWVzdGFtcCkgPyBOdW1iZXIob2JqZWN0LnRpbWVzdGFtcCkgOiAwLFxuICAgICAgbmFtZTogaXNTZXQob2JqZWN0Lm5hbWUpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5uYW1lKSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICBvd25lcjogaXNTZXQob2JqZWN0Lm93bmVyKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Qub3duZXIpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIHNpZ25hdHVyZTogaXNTZXQob2JqZWN0LnNpZ25hdHVyZSkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnNpZ25hdHVyZSkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgZmlkOiBpc1NldChvYmplY3QuZmlkKSA/IE51bWJlcihvYmplY3QuZmlkKSA6IDAsXG4gICAgICB0eXBlOiBpc1NldChvYmplY3QudHlwZSkgPyB1c2VyTmFtZVR5cGVGcm9tSlNPTihvYmplY3QudHlwZSkgOiAwXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLnRpbWVzdGFtcCAhPT0gdm9pZCAwICYmIChvYmoudGltZXN0YW1wID0gTWF0aC5yb3VuZChtZXNzYWdlLnRpbWVzdGFtcCkpO1xuICAgIG1lc3NhZ2UubmFtZSAhPT0gdm9pZCAwICYmIChvYmoubmFtZSA9IGJhc2U2NEZyb21CeXRlcyhcbiAgICAgIG1lc3NhZ2UubmFtZSAhPT0gdm9pZCAwID8gbWVzc2FnZS5uYW1lIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgICkpO1xuICAgIG1lc3NhZ2Uub3duZXIgIT09IHZvaWQgMCAmJiAob2JqLm93bmVyID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgbWVzc2FnZS5vd25lciAhPT0gdm9pZCAwID8gbWVzc2FnZS5vd25lciA6IG5ldyBVaW50OEFycmF5KClcbiAgICApKTtcbiAgICBtZXNzYWdlLnNpZ25hdHVyZSAhPT0gdm9pZCAwICYmIChvYmouc2lnbmF0dXJlID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgbWVzc2FnZS5zaWduYXR1cmUgIT09IHZvaWQgMCA/IG1lc3NhZ2Uuc2lnbmF0dXJlIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgICkpO1xuICAgIG1lc3NhZ2UuZmlkICE9PSB2b2lkIDAgJiYgKG9iai5maWQgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuZmlkKSk7XG4gICAgbWVzc2FnZS50eXBlICE9PSB2b2lkIDAgJiYgKG9iai50eXBlID0gdXNlck5hbWVUeXBlVG9KU09OKG1lc3NhZ2UudHlwZSkpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIFVzZXJOYW1lUHJvb2YuZnJvbVBhcnRpYWwoYmFzZSA/PyB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVXNlck5hbWVQcm9vZigpO1xuICAgIG1lc3NhZ2UudGltZXN0YW1wID0gb2JqZWN0LnRpbWVzdGFtcCA/PyAwO1xuICAgIG1lc3NhZ2UubmFtZSA9IG9iamVjdC5uYW1lID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5vd25lciA9IG9iamVjdC5vd25lciA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2Uuc2lnbmF0dXJlID0gb2JqZWN0LnNpZ25hdHVyZSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2UuZmlkID0gb2JqZWN0LmZpZCA/PyAwO1xuICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG52YXIgdHNQcm90b0dsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgfVxuICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZ2xvYmFsO1xuICB9XG4gIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGI2NCkge1xuICBpZiAodHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyKSB7XG4gICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbSh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBiaW4gPSB0c1Byb3RvR2xvYmFsVGhpcy5hdG9iKGI2NCk7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG59XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7XG4gIGlmICh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICByZXR1cm4gdHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyLmZyb20oYXJyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBiaW4gPSBbXTtcbiAgICBhcnIuZm9yRWFjaCgoYnl0ZSkgPT4ge1xuICAgICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRzUHJvdG9HbG9iYWxUaGlzLmJ0b2EoYmluLmpvaW4oXCJcIikpO1xuICB9XG59XG5mdW5jdGlvbiBsb25nVG9OdW1iZXIobG9uZykge1xuICBpZiAobG9uZy5ndChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpIHtcbiAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXG4gICAgICBcIlZhbHVlIGlzIGxhcmdlciB0aGFuIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBsb25nLnRvTnVtYmVyKCk7XG59XG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gbG9uZ19kZWZhdWx0KSB7XG4gIF9tMC51dGlsLkxvbmcgPSBsb25nX2RlZmF1bHQ7XG4gIF9tMC5jb25maWd1cmUoKTtcbn1cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwO1xufVxuXG5leHBvcnQge1xuICBsb25nX2RlZmF1bHQsXG4gIFVzZXJOYW1lVHlwZSxcbiAgdXNlck5hbWVUeXBlRnJvbUpTT04sXG4gIHVzZXJOYW1lVHlwZVRvSlNPTixcbiAgVXNlck5hbWVQcm9vZlxufTtcbi8qISBCdW5kbGVkIGxpY2Vuc2UgaW5mb3JtYXRpb246XG5cbmxvbmcvaW5kZXguanM6XG4gICgqKlxuICAgKiBAbGljZW5zZVxuICAgKiBDb3B5cmlnaHQgMjAwOSBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnNcbiAgICogQ29weXJpZ2h0IDIwMjAgRGFuaWVsIFdpcnR6IC8gVGhlIGxvbmcuanMgQXV0aG9ycy5cbiAgICpcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAgICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICAgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAgICpcbiAgICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICAgKlxuICAgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gICAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAgICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gICAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAgICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gICAqXG4gICAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gICAqKVxuKi9cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-JGTH2ANC.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-JO3OZDPS.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-JO3OZDPS.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   castAction: () => (/* binding */ castAction),\n/* harmony export */   castActionFrame: () => (/* binding */ castActionFrame),\n/* harmony export */   castActionMessage: () => (/* binding */ castActionMessage),\n/* harmony export */   composerAction: () => (/* binding */ composerAction),\n/* harmony export */   composerActionForm: () => (/* binding */ composerActionForm)\n/* harmony export */ });\n/* harmony import */ var _chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-7EKETE7Q.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-7EKETE7Q.js\");\n\n\n// src/core/cast-actions.ts\nfunction castAction(definition) {\n  if ((0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_0__.getByteLength)(definition.name) > 30) {\n    throw new Error(\"Cast action name must be at most 30 characters long\");\n  }\n  if ((0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_0__.getByteLength)(definition.description) > 80) {\n    throw new Error(\n      \"Cast action description must be at most 80 characters long\"\n    );\n  }\n  return Response.json(definition);\n}\nfunction composerAction(definition) {\n  if ((0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_0__.getByteLength)(definition.name) > 14) {\n    throw new Error(\"Composer action name must be at most 14 characters long\");\n  }\n  if ((0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_0__.getByteLength)(definition.description) > 20) {\n    throw new Error(\n      \"Composer action description must be at most 20 characters long\"\n    );\n  }\n  return Response.json({\n    ...definition,\n    type: \"composer\"\n  });\n}\nfunction castActionFrame(frameUrl) {\n  return Response.json({\n    type: \"frame\",\n    frameUrl\n  });\n}\nfunction castActionMessage(message, link) {\n  return Response.json({\n    type: \"message\",\n    message,\n    link\n  });\n}\nfunction composerActionForm(payload) {\n  return Response.json({\n    type: \"form\",\n    ...payload\n  });\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSk8zT1pEUFMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRTZCOztBQUU3QjtBQUNBO0FBQ0EsTUFBTSxpRUFBYTtBQUNuQjtBQUNBO0FBQ0EsTUFBTSxpRUFBYTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0saUVBQWE7QUFDbkI7QUFDQTtBQUNBLE1BQU0saUVBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFRRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSk8zT1pEUFMuanM/MzVlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBnZXRCeXRlTGVuZ3RoXG59IGZyb20gXCIuL2NodW5rLTdFS0VURTdRLmpzXCI7XG5cbi8vIHNyYy9jb3JlL2Nhc3QtYWN0aW9ucy50c1xuZnVuY3Rpb24gY2FzdEFjdGlvbihkZWZpbml0aW9uKSB7XG4gIGlmIChnZXRCeXRlTGVuZ3RoKGRlZmluaXRpb24ubmFtZSkgPiAzMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhc3QgYWN0aW9uIG5hbWUgbXVzdCBiZSBhdCBtb3N0IDMwIGNoYXJhY3RlcnMgbG9uZ1wiKTtcbiAgfVxuICBpZiAoZ2V0Qnl0ZUxlbmd0aChkZWZpbml0aW9uLmRlc2NyaXB0aW9uKSA+IDgwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDYXN0IGFjdGlvbiBkZXNjcmlwdGlvbiBtdXN0IGJlIGF0IG1vc3QgODAgY2hhcmFjdGVycyBsb25nXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBSZXNwb25zZS5qc29uKGRlZmluaXRpb24pO1xufVxuZnVuY3Rpb24gY29tcG9zZXJBY3Rpb24oZGVmaW5pdGlvbikge1xuICBpZiAoZ2V0Qnl0ZUxlbmd0aChkZWZpbml0aW9uLm5hbWUpID4gMTQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb21wb3NlciBhY3Rpb24gbmFtZSBtdXN0IGJlIGF0IG1vc3QgMTQgY2hhcmFjdGVycyBsb25nXCIpO1xuICB9XG4gIGlmIChnZXRCeXRlTGVuZ3RoKGRlZmluaXRpb24uZGVzY3JpcHRpb24pID4gMjApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvbXBvc2VyIGFjdGlvbiBkZXNjcmlwdGlvbiBtdXN0IGJlIGF0IG1vc3QgMjAgY2hhcmFjdGVycyBsb25nXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBSZXNwb25zZS5qc29uKHtcbiAgICAuLi5kZWZpbml0aW9uLFxuICAgIHR5cGU6IFwiY29tcG9zZXJcIlxuICB9KTtcbn1cbmZ1bmN0aW9uIGNhc3RBY3Rpb25GcmFtZShmcmFtZVVybCkge1xuICByZXR1cm4gUmVzcG9uc2UuanNvbih7XG4gICAgdHlwZTogXCJmcmFtZVwiLFxuICAgIGZyYW1lVXJsXG4gIH0pO1xufVxuZnVuY3Rpb24gY2FzdEFjdGlvbk1lc3NhZ2UobWVzc2FnZSwgbGluaykge1xuICByZXR1cm4gUmVzcG9uc2UuanNvbih7XG4gICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgbWVzc2FnZSxcbiAgICBsaW5rXG4gIH0pO1xufVxuZnVuY3Rpb24gY29tcG9zZXJBY3Rpb25Gb3JtKHBheWxvYWQpIHtcbiAgcmV0dXJuIFJlc3BvbnNlLmpzb24oe1xuICAgIHR5cGU6IFwiZm9ybVwiLFxuICAgIC4uLnBheWxvYWRcbiAgfSk7XG59XG5cbmV4cG9ydCB7XG4gIGNhc3RBY3Rpb24sXG4gIGNvbXBvc2VyQWN0aW9uLFxuICBjYXN0QWN0aW9uRnJhbWUsXG4gIGNhc3RBY3Rpb25NZXNzYWdlLFxuICBjb21wb3NlckFjdGlvbkZvcm1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-JO3OZDPS.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KKNJPZAT.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KKNJPZAT.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserDataForFid: () => (/* binding */ getUserDataForFid)\n/* harmony export */ });\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-T2UQQRTL.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-WYDZZYLM.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-WYDZZYLM.js\");\n\n\n// src/getUserDataForFid.ts\nasync function getUserDataForFid({ fid, options = {} }) {\n    const { hubHttpUrl = _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_URL, hubRequestOptions = {\n        headers: {\n            api_key: _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_KEY\n        }\n    } } = options;\n    const userDataResponse = await fetch(`${hubHttpUrl}/v1/userDataByFid?fid=${fid}`, hubRequestOptions);\n    const { messages } = await userDataResponse.clone().json().catch(async ()=>{\n        throw new Error(`Failed to parse response body as JSON because server hub returned response with status \"${userDataResponse.status}\" and body \"${await userDataResponse.clone().text()}\"`);\n    });\n    if (messages && messages.length > 0) {\n        const valuesByType = messages.reduce((acc, messageJson)=>{\n            try {\n                const message = _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_1__.Message.fromJSON(messageJson);\n                if (message.data?.type !== 11 /* USER_DATA_ADD */ ) {\n                    return acc;\n                }\n                if (!message.data.userDataBody) {\n                    return acc;\n                }\n                const timestamp = message.data.timestamp;\n                const { type, value } = message.data.userDataBody;\n                const foundValue = acc[type];\n                if (foundValue && foundValue.timestamp < timestamp) {\n                    acc[type] = {\n                        value,\n                        timestamp\n                    };\n                } else {\n                    acc[type] = {\n                        value,\n                        timestamp\n                    };\n                }\n            } catch (error) {\n                console.warn(`Failed to parse user data message for fid ${fid}`, messageJson, error);\n            }\n            return acc;\n        }, {});\n        return {\n            profileImage: valuesByType[1 /* PFP */ ]?.value,\n            displayName: valuesByType[2 /* DISPLAY */ ]?.value,\n            username: valuesByType[6 /* USERNAME */ ]?.value,\n            bio: valuesByType[3 /* BIO */ ]?.value,\n            location: valuesByType[7 /* LOCATION */ ]?.value\n        };\n    }\n    return null;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstS0tOSlBaQVQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRzZCO0FBR0E7QUFFN0IsMkJBQTJCO0FBQzNCLGVBQWVHLGtCQUFrQixFQUMvQkMsR0FBRyxFQUNIQyxVQUFVLENBQUMsQ0FBQyxFQUNiO0lBQ0MsTUFBTSxFQUNKQyxhQUFhTCxtRUFBbUIsRUFDaENNLG9CQUFvQjtRQUNsQkMsU0FBUztZQUNQQyxTQUFTVCxtRUFBbUJBO1FBQzlCO0lBQ0YsQ0FBQyxFQUNGLEdBQUdLO0lBQ0osTUFBTUssbUJBQW1CLE1BQU1DLE1BQzdCLENBQUMsRUFBRUwsV0FBVyxzQkFBc0IsRUFBRUYsSUFBSSxDQUFDLEVBQzNDRztJQUVGLE1BQU0sRUFBRUssUUFBUSxFQUFFLEdBQUcsTUFBTUYsaUJBQWlCRyxLQUFLLEdBQUdDLElBQUksR0FBR0MsS0FBSyxDQUFDO1FBQy9ELE1BQU0sSUFBSUMsTUFDUixDQUFDLHdGQUF3RixFQUFFTixpQkFBaUJPLE1BQU0sQ0FBQyxZQUFZLEVBQUUsTUFBTVAsaUJBQWlCRyxLQUFLLEdBQUdLLElBQUksR0FBRyxDQUFDLENBQUM7SUFFN0s7SUFDQSxJQUFJTixZQUFZQSxTQUFTTyxNQUFNLEdBQUcsR0FBRztRQUNuQyxNQUFNQyxlQUFlUixTQUFTUyxNQUFNLENBQUMsQ0FBQ0MsS0FBS0M7WUFDekMsSUFBSTtnQkFDRixNQUFNQyxVQUFVdEIsdURBQU9BLENBQUN1QixRQUFRLENBQUNGO2dCQUNqQyxJQUFJQyxRQUFRRSxJQUFJLEVBQUVDLFNBQVMsR0FBRyxpQkFBaUIsS0FBSTtvQkFDakQsT0FBT0w7Z0JBQ1Q7Z0JBQ0EsSUFBSSxDQUFDRSxRQUFRRSxJQUFJLENBQUNFLFlBQVksRUFBRTtvQkFDOUIsT0FBT047Z0JBQ1Q7Z0JBQ0EsTUFBTU8sWUFBWUwsUUFBUUUsSUFBSSxDQUFDRyxTQUFTO2dCQUN4QyxNQUFNLEVBQUVGLElBQUksRUFBRUcsS0FBSyxFQUFFLEdBQUdOLFFBQVFFLElBQUksQ0FBQ0UsWUFBWTtnQkFDakQsTUFBTUcsYUFBYVQsR0FBRyxDQUFDSyxLQUFLO2dCQUM1QixJQUFJSSxjQUFjQSxXQUFXRixTQUFTLEdBQUdBLFdBQVc7b0JBQ2xEUCxHQUFHLENBQUNLLEtBQUssR0FBRzt3QkFBRUc7d0JBQU9EO29CQUFVO2dCQUNqQyxPQUFPO29CQUNMUCxHQUFHLENBQUNLLEtBQUssR0FBRzt3QkFBRUc7d0JBQU9EO29CQUFVO2dCQUNqQztZQUNGLEVBQUUsT0FBT0csT0FBTztnQkFDZEMsUUFBUUMsSUFBSSxDQUNWLENBQUMsMENBQTBDLEVBQUU5QixJQUFJLENBQUMsRUFDbERtQixhQUNBUztZQUVKO1lBQ0EsT0FBT1Y7UUFDVCxHQUFHLENBQUM7UUFDSixPQUFPO1lBQ0xhLGNBQWNmLFlBQVksQ0FBQyxFQUFFLE9BQU8sSUFBRyxFQUFFVTtZQUN6Q00sYUFBYWhCLFlBQVksQ0FBQyxFQUFFLFdBQVcsSUFBRyxFQUFFVTtZQUM1Q08sVUFBVWpCLFlBQVksQ0FBQyxFQUFFLFlBQVksSUFBRyxFQUFFVTtZQUMxQ1EsS0FBS2xCLFlBQVksQ0FBQyxFQUFFLE9BQU8sSUFBRyxFQUFFVTtZQUNoQ1MsVUFBVW5CLFlBQVksQ0FBQyxFQUFFLFlBQVksSUFBRyxFQUFFVTtRQUM1QztJQUNGO0lBQ0EsT0FBTztBQUNUO0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUtLTkpQWkFULmpzP2NmZjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgREVGQVVMVF9IVUJfQVBJX0tFWSxcbiAgREVGQVVMVF9IVUJfQVBJX1VSTFxufSBmcm9tIFwiLi9jaHVuay1UMlVRUVJUTC5qc1wiO1xuaW1wb3J0IHtcbiAgTWVzc2FnZVxufSBmcm9tIFwiLi9jaHVuay1XWURaWllMTS5qc1wiO1xuXG4vLyBzcmMvZ2V0VXNlckRhdGFGb3JGaWQudHNcbmFzeW5jIGZ1bmN0aW9uIGdldFVzZXJEYXRhRm9yRmlkKHtcbiAgZmlkLFxuICBvcHRpb25zID0ge31cbn0pIHtcbiAgY29uc3Qge1xuICAgIGh1Ykh0dHBVcmwgPSBERUZBVUxUX0hVQl9BUElfVVJMLFxuICAgIGh1YlJlcXVlc3RPcHRpb25zID0ge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhcGlfa2V5OiBERUZBVUxUX0hVQl9BUElfS0VZXG4gICAgICB9XG4gICAgfVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgdXNlckRhdGFSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgIGAke2h1Ykh0dHBVcmx9L3YxL3VzZXJEYXRhQnlGaWQ/ZmlkPSR7ZmlkfWAsXG4gICAgaHViUmVxdWVzdE9wdGlvbnNcbiAgKTtcbiAgY29uc3QgeyBtZXNzYWdlcyB9ID0gYXdhaXQgdXNlckRhdGFSZXNwb25zZS5jbG9uZSgpLmpzb24oKS5jYXRjaChhc3luYyAoKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEZhaWxlZCB0byBwYXJzZSByZXNwb25zZSBib2R5IGFzIEpTT04gYmVjYXVzZSBzZXJ2ZXIgaHViIHJldHVybmVkIHJlc3BvbnNlIHdpdGggc3RhdHVzIFwiJHt1c2VyRGF0YVJlc3BvbnNlLnN0YXR1c31cIiBhbmQgYm9keSBcIiR7YXdhaXQgdXNlckRhdGFSZXNwb25zZS5jbG9uZSgpLnRleHQoKX1cImBcbiAgICApO1xuICB9KTtcbiAgaWYgKG1lc3NhZ2VzICYmIG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCB2YWx1ZXNCeVR5cGUgPSBtZXNzYWdlcy5yZWR1Y2UoKGFjYywgbWVzc2FnZUpzb24pID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBNZXNzYWdlLmZyb21KU09OKG1lc3NhZ2VKc29uKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YT8udHlwZSAhPT0gMTEgLyogVVNFUl9EQVRBX0FERCAqLykge1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtZXNzYWdlLmRhdGEudXNlckRhdGFCb2R5KSB7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBtZXNzYWdlLmRhdGEudGltZXN0YW1wO1xuICAgICAgICBjb25zdCB7IHR5cGUsIHZhbHVlIH0gPSBtZXNzYWdlLmRhdGEudXNlckRhdGFCb2R5O1xuICAgICAgICBjb25zdCBmb3VuZFZhbHVlID0gYWNjW3R5cGVdO1xuICAgICAgICBpZiAoZm91bmRWYWx1ZSAmJiBmb3VuZFZhbHVlLnRpbWVzdGFtcCA8IHRpbWVzdGFtcCkge1xuICAgICAgICAgIGFjY1t0eXBlXSA9IHsgdmFsdWUsIHRpbWVzdGFtcCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjY1t0eXBlXSA9IHsgdmFsdWUsIHRpbWVzdGFtcCB9O1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYEZhaWxlZCB0byBwYXJzZSB1c2VyIGRhdGEgbWVzc2FnZSBmb3IgZmlkICR7ZmlkfWAsXG4gICAgICAgICAgbWVzc2FnZUpzb24sXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIHJldHVybiB7XG4gICAgICBwcm9maWxlSW1hZ2U6IHZhbHVlc0J5VHlwZVsxIC8qIFBGUCAqL10/LnZhbHVlLFxuICAgICAgZGlzcGxheU5hbWU6IHZhbHVlc0J5VHlwZVsyIC8qIERJU1BMQVkgKi9dPy52YWx1ZSxcbiAgICAgIHVzZXJuYW1lOiB2YWx1ZXNCeVR5cGVbNiAvKiBVU0VSTkFNRSAqL10/LnZhbHVlLFxuICAgICAgYmlvOiB2YWx1ZXNCeVR5cGVbMyAvKiBCSU8gKi9dPy52YWx1ZSxcbiAgICAgIGxvY2F0aW9uOiB2YWx1ZXNCeVR5cGVbNyAvKiBMT0NBVElPTiAqL10/LnZhbHVlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHtcbiAgZ2V0VXNlckRhdGFGb3JGaWRcbn07XG4iXSwibmFtZXMiOlsiREVGQVVMVF9IVUJfQVBJX0tFWSIsIkRFRkFVTFRfSFVCX0FQSV9VUkwiLCJNZXNzYWdlIiwiZ2V0VXNlckRhdGFGb3JGaWQiLCJmaWQiLCJvcHRpb25zIiwiaHViSHR0cFVybCIsImh1YlJlcXVlc3RPcHRpb25zIiwiaGVhZGVycyIsImFwaV9rZXkiLCJ1c2VyRGF0YVJlc3BvbnNlIiwiZmV0Y2giLCJtZXNzYWdlcyIsImNsb25lIiwianNvbiIsImNhdGNoIiwiRXJyb3IiLCJzdGF0dXMiLCJ0ZXh0IiwibGVuZ3RoIiwidmFsdWVzQnlUeXBlIiwicmVkdWNlIiwiYWNjIiwibWVzc2FnZUpzb24iLCJtZXNzYWdlIiwiZnJvbUpTT04iLCJkYXRhIiwidHlwZSIsInVzZXJEYXRhQm9keSIsInRpbWVzdGFtcCIsInZhbHVlIiwiZm91bmRWYWx1ZSIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJwcm9maWxlSW1hZ2UiLCJkaXNwbGF5TmFtZSIsInVzZXJuYW1lIiwiYmlvIiwibG9jYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KKNJPZAT.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KOG3IAW5.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KOG3IAW5.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_FRAME_TITLE: () => (/* binding */ DEFAULT_FRAME_TITLE),\n/* harmony export */   FRAMESJS_DEBUG_INFO_IMAGE_KEY: () => (/* binding */ FRAMESJS_DEBUG_INFO_IMAGE_KEY)\n/* harmony export */ });\n// src/constants.ts\nvar FRAMESJS_DEBUG_INFO_IMAGE_KEY = \"frames.js:debug-info:image\";\nvar DEFAULT_FRAME_TITLE = \"Frames.js Frame\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstS09HM0lBVzUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBS0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUtPRzNJQVc1LmpzPzcxZTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbnN0YW50cy50c1xudmFyIEZSQU1FU0pTX0RFQlVHX0lORk9fSU1BR0VfS0VZID0gXCJmcmFtZXMuanM6ZGVidWctaW5mbzppbWFnZVwiO1xudmFyIERFRkFVTFRfRlJBTUVfVElUTEUgPSBcIkZyYW1lcy5qcyBGcmFtZVwiO1xuXG5leHBvcnQge1xuICBGUkFNRVNKU19ERUJVR19JTkZPX0lNQUdFX0tFWSxcbiAgREVGQVVMVF9GUkFNRV9USVRMRVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KOG3IAW5.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LHDFXW4M.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LHDFXW4M.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateFrameMessage: () => (/* binding */ validateFrameMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-T2UQQRTL.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-7EKETE7Q.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-7EKETE7Q.js\");\n/* harmony import */ var _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-WYDZZYLM.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-WYDZZYLM.js\");\n\n\n\n\n// src/validateFrameMessage.ts\nfunction isValidateMessageJson(value) {\n  if (typeof value !== \"object\" || !value) {\n    return false;\n  }\n  const validateMessageJson = value;\n  return typeof validateMessageJson.valid === \"boolean\" && validateMessageJson.valid && typeof validateMessageJson.message === \"object\";\n}\nasync function validateFrameMessage(body, {\n  hubHttpUrl = _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_URL,\n  hubRequestOptions = {\n    headers: {\n      api_key: _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_KEY\n    }\n  }\n} = {}) {\n  if (!body) {\n    throw new Error(\n      \"Tried to call validateFrameMessage with no frame action payload. You may be calling it incorrectly on the homeframe\"\n    );\n  }\n  const { headers, ...rest } = hubRequestOptions;\n  const validateMessageResponse = await fetch(\n    `${hubHttpUrl}/v1/validateMessage`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        ...headers\n      },\n      body: (0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_1__.hexStringToUint8Array)(body.trustedData.messageBytes),\n      ...rest\n    }\n  );\n  const validateMessageJson = await validateMessageResponse.json();\n  if (!isValidateMessageJson(validateMessageJson)) {\n    return {\n      isValid: false,\n      message: void 0\n    };\n  }\n  if (validateMessageJson.valid) {\n    return {\n      isValid: true,\n      message: _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_2__.Message.fromJSON(\n        validateMessageJson.message\n      )\n    };\n  }\n  return {\n    isValid: false,\n    message: void 0\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTEhERlhXNE0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUc2QjtBQUdBO0FBR0E7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUVBQW1CO0FBQ2xDO0FBQ0E7QUFDQSxlQUFlLG1FQUFtQjtBQUNsQztBQUNBO0FBQ0EsRUFBRSxJQUFJO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsbUJBQW1CO0FBQzdCO0FBQ0EsT0FBTyxXQUFXO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsWUFBWSx5RUFBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVEQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTEhERlhXNE0uanM/NmNkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBERUZBVUxUX0hVQl9BUElfS0VZLFxuICBERUZBVUxUX0hVQl9BUElfVVJMXG59IGZyb20gXCIuL2NodW5rLVQyVVFRUlRMLmpzXCI7XG5pbXBvcnQge1xuICBoZXhTdHJpbmdUb1VpbnQ4QXJyYXlcbn0gZnJvbSBcIi4vY2h1bmstN0VLRVRFN1EuanNcIjtcbmltcG9ydCB7XG4gIE1lc3NhZ2Vcbn0gZnJvbSBcIi4vY2h1bmstV1lEWlpZTE0uanNcIjtcblxuLy8gc3JjL3ZhbGlkYXRlRnJhbWVNZXNzYWdlLnRzXG5mdW5jdGlvbiBpc1ZhbGlkYXRlTWVzc2FnZUpzb24odmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhdmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgdmFsaWRhdGVNZXNzYWdlSnNvbiA9IHZhbHVlO1xuICByZXR1cm4gdHlwZW9mIHZhbGlkYXRlTWVzc2FnZUpzb24udmFsaWQgPT09IFwiYm9vbGVhblwiICYmIHZhbGlkYXRlTWVzc2FnZUpzb24udmFsaWQgJiYgdHlwZW9mIHZhbGlkYXRlTWVzc2FnZUpzb24ubWVzc2FnZSA9PT0gXCJvYmplY3RcIjtcbn1cbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlRnJhbWVNZXNzYWdlKGJvZHksIHtcbiAgaHViSHR0cFVybCA9IERFRkFVTFRfSFVCX0FQSV9VUkwsXG4gIGh1YlJlcXVlc3RPcHRpb25zID0ge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIGFwaV9rZXk6IERFRkFVTFRfSFVCX0FQSV9LRVlcbiAgICB9XG4gIH1cbn0gPSB7fSkge1xuICBpZiAoIWJvZHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRyaWVkIHRvIGNhbGwgdmFsaWRhdGVGcmFtZU1lc3NhZ2Ugd2l0aCBubyBmcmFtZSBhY3Rpb24gcGF5bG9hZC4gWW91IG1heSBiZSBjYWxsaW5nIGl0IGluY29ycmVjdGx5IG9uIHRoZSBob21lZnJhbWVcIlxuICAgICk7XG4gIH1cbiAgY29uc3QgeyBoZWFkZXJzLCAuLi5yZXN0IH0gPSBodWJSZXF1ZXN0T3B0aW9ucztcbiAgY29uc3QgdmFsaWRhdGVNZXNzYWdlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICBgJHtodWJIdHRwVXJsfS92MS92YWxpZGF0ZU1lc3NhZ2VgLFxuICAgIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsXG4gICAgICAgIC4uLmhlYWRlcnNcbiAgICAgIH0sXG4gICAgICBib2R5OiBoZXhTdHJpbmdUb1VpbnQ4QXJyYXkoYm9keS50cnVzdGVkRGF0YS5tZXNzYWdlQnl0ZXMpLFxuICAgICAgLi4ucmVzdFxuICAgIH1cbiAgKTtcbiAgY29uc3QgdmFsaWRhdGVNZXNzYWdlSnNvbiA9IGF3YWl0IHZhbGlkYXRlTWVzc2FnZVJlc3BvbnNlLmpzb24oKTtcbiAgaWYgKCFpc1ZhbGlkYXRlTWVzc2FnZUpzb24odmFsaWRhdGVNZXNzYWdlSnNvbikpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBtZXNzYWdlOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIGlmICh2YWxpZGF0ZU1lc3NhZ2VKc29uLnZhbGlkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlLmZyb21KU09OKFxuICAgICAgICB2YWxpZGF0ZU1lc3NhZ2VKc29uLm1lc3NhZ2VcbiAgICAgIClcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogZmFsc2UsXG4gICAgbWVzc2FnZTogdm9pZCAwXG4gIH07XG59XG5cbmV4cG9ydCB7XG4gIHZhbGlkYXRlRnJhbWVNZXNzYWdlXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LHDFXW4M.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LVMQ4PXS.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LVMQ4PXS.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   composeMiddleware: () => (/* binding */ composeMiddleware)\n/* harmony export */ });\n// src/core/composeMiddleware.ts\nfunction composeMiddleware(middleware) {\n  if (middleware.length === 0) {\n    throw new Error(\"Please provide at least one middleware function\");\n  }\n  const composedMiddleware = middleware.reduceRight(\n    (nextMiddlewareInChain, currentMiddleware) => {\n      return (ctx) => {\n        return currentMiddleware(ctx, function next(newCtx) {\n          return nextMiddlewareInChain({ ...ctx, ...newCtx }, next);\n        });\n      };\n    }\n  );\n  return (ctx) => {\n    return composedMiddleware(ctx, () => {\n      return void 0;\n    });\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTFZNUTRQWFMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxtQkFBbUI7QUFDNUQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1MVk1RNFBYUy5qcz9lYjg3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb3JlL2NvbXBvc2VNaWRkbGV3YXJlLnRzXG5mdW5jdGlvbiBjb21wb3NlTWlkZGxld2FyZShtaWRkbGV3YXJlKSB7XG4gIGlmIChtaWRkbGV3YXJlLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGF0IGxlYXN0IG9uZSBtaWRkbGV3YXJlIGZ1bmN0aW9uXCIpO1xuICB9XG4gIGNvbnN0IGNvbXBvc2VkTWlkZGxld2FyZSA9IG1pZGRsZXdhcmUucmVkdWNlUmlnaHQoXG4gICAgKG5leHRNaWRkbGV3YXJlSW5DaGFpbiwgY3VycmVudE1pZGRsZXdhcmUpID0+IHtcbiAgICAgIHJldHVybiAoY3R4KSA9PiB7XG4gICAgICAgIHJldHVybiBjdXJyZW50TWlkZGxld2FyZShjdHgsIGZ1bmN0aW9uIG5leHQobmV3Q3R4KSB7XG4gICAgICAgICAgcmV0dXJuIG5leHRNaWRkbGV3YXJlSW5DaGFpbih7IC4uLmN0eCwgLi4ubmV3Q3R4IH0sIG5leHQpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICApO1xuICByZXR1cm4gKGN0eCkgPT4ge1xuICAgIHJldHVybiBjb21wb3NlZE1pZGRsZXdhcmUoY3R4LCAoKSA9PiB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQge1xuICBjb21wb3NlTWlkZGxld2FyZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LVMQ4PXS.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LXYL66IJ.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LXYL66IJ.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createImagesWorkerRequestHandler: () => (/* binding */ createImagesWorkerRequestHandler)\n/* harmony export */ });\n/* harmony import */ var _chunk_4XN6T5YT_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-4XN6T5YT.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-4XN6T5YT.js\");\n/* harmony import */ var _chunk_ZFGMSS3C_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-ZFGMSS3C.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZFGMSS3C.js\");\n/* harmony import */ var _chunk_GHPJOFJY_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-GHPJOFJY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GHPJOFJY.js\");\n/* harmony import */ var _chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-25BDFC6X.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-25BDFC6X.js\");\n/* harmony import */ var _vercel_og__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @vercel/og */ \"(rsc)/../../node_modules/.pnpm/next@14.2.26_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/og/image-response.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/.pnpm/next@14.2.26_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n\n\n\n\n\n// src/middleware/images-worker/handler.tsx\n\n\nfunction createImagesWorkerRequestHandler({\n  secret,\n  jsxToResponse,\n  imageOptions\n} = {}) {\n  return async (req) => {\n    const url = new URL(req.url);\n    const imageUrl = url.searchParams.get(\"url\");\n    const serializedJsx = url.searchParams.get(\"jsx\");\n    if (serializedJsx) {\n      if (secret) {\n        const isValid = await (0,_chunk_GHPJOFJY_js__WEBPACK_IMPORTED_MODULE_2__.verifyHMACSignature)(\n          serializedJsx,\n          Buffer.from(url.searchParams.get(\"signature\") ?? \"\", \"hex\"),\n          secret\n        );\n        if (!isValid) {\n          return new Response(\"Unauthorized\", { status: 401 });\n        }\n      }\n      const json = JSON.parse(serializedJsx);\n      const jsx = (0,_chunk_ZFGMSS3C_js__WEBPACK_IMPORTED_MODULE_1__.deserializeJsx)(json);\n      const aspectRatio = url.searchParams.get(\"aspectRatio\") || \"1.91:1\";\n      const emoji = url.searchParams.get(\n        \"emoji\"\n      );\n      const headers = {\n        ...imageOptions?.headers || {},\n        ...JSON.parse(url.searchParams.get(\"headers\") || \"{}\")\n      };\n      if (aspectRatio !== \"1:1\" && aspectRatio !== \"1.91:1\") {\n        throw new Error(\"Invalid aspect ratio\");\n      }\n      if (jsxToResponse) {\n        const response = await jsxToResponse(jsx, { aspectRatio });\n        return response;\n      }\n      const defaultSizes = {\n        \"1:1\": { width: 1146, height: 1146 },\n        \"1.91:1\": { width: 1146, height: 600 }\n      };\n      const sizes = { ...defaultSizes, ...imageOptions?.sizes };\n      const debugEnabled = url.searchParams.get(_chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_3__.FRAMES_IMAGES_DEBUG_FLAG) === \"true\";\n      const imageResponse = new _vercel_og__WEBPACK_IMPORTED_MODULE_5__.ImageResponse(/* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(Scaffold, null, jsx), {\n        ...imageOptions,\n        emoji,\n        ...sizes[aspectRatio],\n        debug: imageOptions?.debug ?? debugEnabled\n      });\n      Object.entries(headers).forEach(([key, value]) => {\n        imageResponse.headers.set(key, value);\n      });\n      if (debugEnabled) {\n        imageResponse.headers.set(\"Cache-Control\", \"public, max-age: 0\");\n      }\n      return imageResponse;\n    }\n    if (imageUrl) {\n      if (secret) {\n        const isValid = await (0,_chunk_GHPJOFJY_js__WEBPACK_IMPORTED_MODULE_2__.verifyHMACSignature)(\n          imageUrl,\n          Buffer.from(url.searchParams.get(\"signature\") ?? \"\", \"hex\"),\n          secret\n        );\n        if (!isValid) {\n          return new Response(\"Unauthorized\", { status: 401 });\n        }\n      }\n      try {\n        const response = await fetch(imageUrl, {\n          cache: \"no-store\",\n          headers: {\n            Accept: \"image/*\",\n            [_chunk_4XN6T5YT_js__WEBPACK_IMPORTED_MODULE_0__.IMAGE_WORKER_DYNAMIC_IMAGE_FETCH_HEADER]: \"true\"\n          }\n        });\n        if (!response.ok) {\n          throw new Error(\n            `Image response returned a status code ${response.status}`\n          );\n        }\n        return response;\n      } catch (e) {\n        console.error(\"Error (frames.js): dynamic image fetch failed\", e);\n        return new Response(\"Internal Server Error\", {\n          status: 500,\n          headers: {\n            \"Content-Type\": \"text/plain\",\n            // do not cache errors\n            \"Cache-Control\": \"max-age=0\"\n          }\n        });\n      }\n    }\n    throw new Error('Either \"url\" or \"jsx\" query parameter must be provided');\n  };\n}\nfunction Scaffold({\n  children\n}) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(\"div\", { tw: \"flex flex-row items-stretch relative w-full h-screen bg-white overflow-hidden\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(\"div\", { tw: \"flex flex-col w-full justify-center items-center text-black text-[36px] overflow-hidden\" }, children));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTFhZTDY2SUouanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUU2QjtBQUdBO0FBR0E7QUFHQTs7QUFFN0I7QUFDMkM7QUFDakI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLElBQUk7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdUVBQW1CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsYUFBYTtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0VBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0Qyw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxhQUFhO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwyQkFBMkI7QUFDNUMsb0JBQW9CO0FBQ3BCO0FBQ0Esc0JBQXNCO0FBQ3RCLGdEQUFnRCx3RUFBd0I7QUFDeEUsZ0NBQWdDLHFEQUFhLGlCQUFpQixnREFBbUI7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix1RUFBbUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxhQUFhO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx1RkFBdUM7QUFDcEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHFEQUFxRCxnQkFBZ0I7QUFDckU7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QseUJBQXlCLGdEQUFtQixVQUFVLHFGQUFxRixrQkFBa0IsZ0RBQW1CLFVBQVUsK0ZBQStGO0FBQ3pSOztBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1MWFlMNjZJSi5qcz85OGZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIElNQUdFX1dPUktFUl9EWU5BTUlDX0lNQUdFX0ZFVENIX0hFQURFUlxufSBmcm9tIFwiLi9jaHVuay00WE42VDVZVC5qc1wiO1xuaW1wb3J0IHtcbiAgZGVzZXJpYWxpemVKc3hcbn0gZnJvbSBcIi4vY2h1bmstWkZHTVNTM0MuanNcIjtcbmltcG9ydCB7XG4gIHZlcmlmeUhNQUNTaWduYXR1cmVcbn0gZnJvbSBcIi4vY2h1bmstR0hQSk9GSlkuanNcIjtcbmltcG9ydCB7XG4gIEZSQU1FU19JTUFHRVNfREVCVUdfRkxBR1xufSBmcm9tIFwiLi9jaHVuay0yNUJERkM2WC5qc1wiO1xuXG4vLyBzcmMvbWlkZGxld2FyZS9pbWFnZXMtd29ya2VyL2hhbmRsZXIudHN4XG5pbXBvcnQgeyBJbWFnZVJlc3BvbnNlIH0gZnJvbSBcIkB2ZXJjZWwvb2dcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIGNyZWF0ZUltYWdlc1dvcmtlclJlcXVlc3RIYW5kbGVyKHtcbiAgc2VjcmV0LFxuICBqc3hUb1Jlc3BvbnNlLFxuICBpbWFnZU9wdGlvbnNcbn0gPSB7fSkge1xuICByZXR1cm4gYXN5bmMgKHJlcSkgPT4ge1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCk7XG4gICAgY29uc3QgaW1hZ2VVcmwgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcInVybFwiKTtcbiAgICBjb25zdCBzZXJpYWxpemVkSnN4ID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJqc3hcIik7XG4gICAgaWYgKHNlcmlhbGl6ZWRKc3gpIHtcbiAgICAgIGlmIChzZWNyZXQpIHtcbiAgICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IHZlcmlmeUhNQUNTaWduYXR1cmUoXG4gICAgICAgICAgc2VyaWFsaXplZEpzeCxcbiAgICAgICAgICBCdWZmZXIuZnJvbSh1cmwuc2VhcmNoUGFyYW1zLmdldChcInNpZ25hdHVyZVwiKSA/PyBcIlwiLCBcImhleFwiKSxcbiAgICAgICAgICBzZWNyZXRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIlVuYXV0aG9yaXplZFwiLCB7IHN0YXR1czogNDAxIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShzZXJpYWxpemVkSnN4KTtcbiAgICAgIGNvbnN0IGpzeCA9IGRlc2VyaWFsaXplSnN4KGpzb24pO1xuICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcImFzcGVjdFJhdGlvXCIpIHx8IFwiMS45MToxXCI7XG4gICAgICBjb25zdCBlbW9qaSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFxuICAgICAgICBcImVtb2ppXCJcbiAgICAgICk7XG4gICAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAuLi5pbWFnZU9wdGlvbnM/LmhlYWRlcnMgfHwge30sXG4gICAgICAgIC4uLkpTT04ucGFyc2UodXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJoZWFkZXJzXCIpIHx8IFwie31cIilcbiAgICAgIH07XG4gICAgICBpZiAoYXNwZWN0UmF0aW8gIT09IFwiMToxXCIgJiYgYXNwZWN0UmF0aW8gIT09IFwiMS45MToxXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhc3BlY3QgcmF0aW9cIik7XG4gICAgICB9XG4gICAgICBpZiAoanN4VG9SZXNwb25zZSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGpzeFRvUmVzcG9uc2UoanN4LCB7IGFzcGVjdFJhdGlvIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBkZWZhdWx0U2l6ZXMgPSB7XG4gICAgICAgIFwiMToxXCI6IHsgd2lkdGg6IDExNDYsIGhlaWdodDogMTE0NiB9LFxuICAgICAgICBcIjEuOTE6MVwiOiB7IHdpZHRoOiAxMTQ2LCBoZWlnaHQ6IDYwMCB9XG4gICAgICB9O1xuICAgICAgY29uc3Qgc2l6ZXMgPSB7IC4uLmRlZmF1bHRTaXplcywgLi4uaW1hZ2VPcHRpb25zPy5zaXplcyB9O1xuICAgICAgY29uc3QgZGVidWdFbmFibGVkID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoRlJBTUVTX0lNQUdFU19ERUJVR19GTEFHKSA9PT0gXCJ0cnVlXCI7XG4gICAgICBjb25zdCBpbWFnZVJlc3BvbnNlID0gbmV3IEltYWdlUmVzcG9uc2UoLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2NhZmZvbGQsIG51bGwsIGpzeCksIHtcbiAgICAgICAgLi4uaW1hZ2VPcHRpb25zLFxuICAgICAgICBlbW9qaSxcbiAgICAgICAgLi4uc2l6ZXNbYXNwZWN0UmF0aW9dLFxuICAgICAgICBkZWJ1ZzogaW1hZ2VPcHRpb25zPy5kZWJ1ZyA/PyBkZWJ1Z0VuYWJsZWRcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmVudHJpZXMoaGVhZGVycykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGltYWdlUmVzcG9uc2UuaGVhZGVycy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChkZWJ1Z0VuYWJsZWQpIHtcbiAgICAgICAgaW1hZ2VSZXNwb25zZS5oZWFkZXJzLnNldChcIkNhY2hlLUNvbnRyb2xcIiwgXCJwdWJsaWMsIG1heC1hZ2U6IDBcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW1hZ2VSZXNwb25zZTtcbiAgICB9XG4gICAgaWYgKGltYWdlVXJsKSB7XG4gICAgICBpZiAoc2VjcmV0KSB7XG4gICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB2ZXJpZnlITUFDU2lnbmF0dXJlKFxuICAgICAgICAgIGltYWdlVXJsLFxuICAgICAgICAgIEJ1ZmZlci5mcm9tKHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwic2lnbmF0dXJlXCIpID8/IFwiXCIsIFwiaGV4XCIpLFxuICAgICAgICAgIHNlY3JldFxuICAgICAgICApO1xuICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiVW5hdXRob3JpemVkXCIsIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goaW1hZ2VVcmwsIHtcbiAgICAgICAgICBjYWNoZTogXCJuby1zdG9yZVwiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEFjY2VwdDogXCJpbWFnZS8qXCIsXG4gICAgICAgICAgICBbSU1BR0VfV09SS0VSX0RZTkFNSUNfSU1BR0VfRkVUQ0hfSEVBREVSXTogXCJ0cnVlXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEltYWdlIHJlc3BvbnNlIHJldHVybmVkIGEgc3RhdHVzIGNvZGUgJHtyZXNwb25zZS5zdGF0dXN9YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgKGZyYW1lcy5qcyk6IGR5bmFtaWMgaW1hZ2UgZmV0Y2ggZmFpbGVkXCIsIGUpO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIsIHtcbiAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW5cIixcbiAgICAgICAgICAgIC8vIGRvIG5vdCBjYWNoZSBlcnJvcnNcbiAgICAgICAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm1heC1hZ2U9MFwiXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFaXRoZXIgXCJ1cmxcIiBvciBcImpzeFwiIHF1ZXJ5IHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gIH07XG59XG5mdW5jdGlvbiBTY2FmZm9sZCh7XG4gIGNoaWxkcmVuXG59KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHR3OiBcImZsZXggZmxleC1yb3cgaXRlbXMtc3RyZXRjaCByZWxhdGl2ZSB3LWZ1bGwgaC1zY3JlZW4gYmctd2hpdGUgb3ZlcmZsb3ctaGlkZGVuXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyB0dzogXCJmbGV4IGZsZXgtY29sIHctZnVsbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgdGV4dC1ibGFjayB0ZXh0LVszNnB4XSBvdmVyZmxvdy1oaWRkZW5cIiB9LCBjaGlsZHJlbikpO1xufVxuXG5leHBvcnQge1xuICBjcmVhdGVJbWFnZXNXb3JrZXJSZXF1ZXN0SGFuZGxlclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LXYL66IJ.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-M353EKQ7.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-M353EKQ7.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFrameHtml: () => (/* binding */ getFrameHtml),\n/* harmony export */   getFrameHtmlHead: () => (/* binding */ getFrameHtmlHead),\n/* harmony export */   getFrameV2HtmlHead: () => (/* binding */ getFrameV2HtmlHead)\n/* harmony export */ });\n/* harmony import */ var _chunk_KOG3IAW5_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-KOG3IAW5.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KOG3IAW5.js\");\n/* harmony import */ var _chunk_VYI5JOSS_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-VYI5JOSS.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VYI5JOSS.js\");\n/* harmony import */ var _chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-7EKETE7Q.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-7EKETE7Q.js\");\n\n\n\n\n// src/getFrameHtml.ts\nfunction getFrameHtml(frame, options = {}) {\n  const html = `<!DOCTYPE html>\n  <html>\n    <head>\n      <title>${options.title ?? frame.title ?? _chunk_KOG3IAW5_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_FRAME_TITLE}</title>\n      ${frame.title ?? options.og?.title ? `<meta property=\"og:title\" content=\"${frame.title ?? options.og?.title}\"/>` : \"\"}\n      ${getFrameHtmlHead(frame)}\n      ${options.htmlHead || \"\"}\n    </head>\n    <body>${options.htmlBody ? options.htmlBody : \"\"}</body>\n  </html>`;\n  return html;\n}\nfunction getFrameHtmlHead(frame, overrides) {\n  const flattened = (0,_chunk_VYI5JOSS_js__WEBPACK_IMPORTED_MODULE_1__.getFrameFlattened)(frame, overrides);\n  const tags = Object.entries(flattened).map(([key, value]) => {\n    return value ? `<meta name=\"${key}\" content=\"${(0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_2__.escapeHtmlAttributeValue)(value)}\"/>` : null;\n  }).filter(Boolean);\n  if (frame.title) {\n    tags.push(`<title>${(0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_2__.escapeHtmlAttributeValue)(frame.title)}</title>`);\n  }\n  return tags.join(\"\");\n}\nfunction getFrameV2HtmlHead(frame, overrides) {\n  const flattened = (0,_chunk_VYI5JOSS_js__WEBPACK_IMPORTED_MODULE_1__.getFrameV2Flattened)(frame, overrides);\n  const tagStrings = Object.entries(flattened).map(([key, value]) => {\n    return value ? `<meta name=\"${key}\" content=\"${(0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_2__.escapeHtmlAttributeValue)(value)}\"/>` : null;\n  }).filter(Boolean);\n  return tagStrings.join(\"\");\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTTM1M0VLUTcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRTZCO0FBSUE7QUFHQTs7QUFFN0I7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQ0FBZ0MsbUVBQW1CLENBQUM7QUFDbkUsUUFBUSx5RUFBeUUsaUNBQWlDO0FBQ2xILFFBQVE7QUFDUixRQUFRO0FBQ1I7QUFDQSxZQUFZLHlDQUF5QztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxRUFBaUI7QUFDckM7QUFDQSxrQ0FBa0MsSUFBSSxhQUFhLDRFQUF3QixRQUFRO0FBQ25GLEdBQUc7QUFDSDtBQUNBLHdCQUF3Qiw0RUFBd0IsY0FBYztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1RUFBbUI7QUFDdkM7QUFDQSxrQ0FBa0MsSUFBSSxhQUFhLDRFQUF3QixRQUFRO0FBQ25GLEdBQUc7QUFDSDtBQUNBOztBQU1FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1NMzUzRUtRNy5qcz9hNzgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERFRkFVTFRfRlJBTUVfVElUTEVcbn0gZnJvbSBcIi4vY2h1bmstS09HM0lBVzUuanNcIjtcbmltcG9ydCB7XG4gIGdldEZyYW1lRmxhdHRlbmVkLFxuICBnZXRGcmFtZVYyRmxhdHRlbmVkXG59IGZyb20gXCIuL2NodW5rLVZZSTVKT1NTLmpzXCI7XG5pbXBvcnQge1xuICBlc2NhcGVIdG1sQXR0cmlidXRlVmFsdWVcbn0gZnJvbSBcIi4vY2h1bmstN0VLRVRFN1EuanNcIjtcblxuLy8gc3JjL2dldEZyYW1lSHRtbC50c1xuZnVuY3Rpb24gZ2V0RnJhbWVIdG1sKGZyYW1lLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgaHRtbCA9IGA8IURPQ1RZUEUgaHRtbD5cbiAgPGh0bWw+XG4gICAgPGhlYWQ+XG4gICAgICA8dGl0bGU+JHtvcHRpb25zLnRpdGxlID8/IGZyYW1lLnRpdGxlID8/IERFRkFVTFRfRlJBTUVfVElUTEV9PC90aXRsZT5cbiAgICAgICR7ZnJhbWUudGl0bGUgPz8gb3B0aW9ucy5vZz8udGl0bGUgPyBgPG1ldGEgcHJvcGVydHk9XCJvZzp0aXRsZVwiIGNvbnRlbnQ9XCIke2ZyYW1lLnRpdGxlID8/IG9wdGlvbnMub2c/LnRpdGxlfVwiLz5gIDogXCJcIn1cbiAgICAgICR7Z2V0RnJhbWVIdG1sSGVhZChmcmFtZSl9XG4gICAgICAke29wdGlvbnMuaHRtbEhlYWQgfHwgXCJcIn1cbiAgICA8L2hlYWQ+XG4gICAgPGJvZHk+JHtvcHRpb25zLmh0bWxCb2R5ID8gb3B0aW9ucy5odG1sQm9keSA6IFwiXCJ9PC9ib2R5PlxuICA8L2h0bWw+YDtcbiAgcmV0dXJuIGh0bWw7XG59XG5mdW5jdGlvbiBnZXRGcmFtZUh0bWxIZWFkKGZyYW1lLCBvdmVycmlkZXMpIHtcbiAgY29uc3QgZmxhdHRlbmVkID0gZ2V0RnJhbWVGbGF0dGVuZWQoZnJhbWUsIG92ZXJyaWRlcyk7XG4gIGNvbnN0IHRhZ3MgPSBPYmplY3QuZW50cmllcyhmbGF0dGVuZWQpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgcmV0dXJuIHZhbHVlID8gYDxtZXRhIG5hbWU9XCIke2tleX1cIiBjb250ZW50PVwiJHtlc2NhcGVIdG1sQXR0cmlidXRlVmFsdWUodmFsdWUpfVwiLz5gIDogbnVsbDtcbiAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICBpZiAoZnJhbWUudGl0bGUpIHtcbiAgICB0YWdzLnB1c2goYDx0aXRsZT4ke2VzY2FwZUh0bWxBdHRyaWJ1dGVWYWx1ZShmcmFtZS50aXRsZSl9PC90aXRsZT5gKTtcbiAgfVxuICByZXR1cm4gdGFncy5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gZ2V0RnJhbWVWMkh0bWxIZWFkKGZyYW1lLCBvdmVycmlkZXMpIHtcbiAgY29uc3QgZmxhdHRlbmVkID0gZ2V0RnJhbWVWMkZsYXR0ZW5lZChmcmFtZSwgb3ZlcnJpZGVzKTtcbiAgY29uc3QgdGFnU3RyaW5ncyA9IE9iamVjdC5lbnRyaWVzKGZsYXR0ZW5lZCkubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICByZXR1cm4gdmFsdWUgPyBgPG1ldGEgbmFtZT1cIiR7a2V5fVwiIGNvbnRlbnQ9XCIke2VzY2FwZUh0bWxBdHRyaWJ1dGVWYWx1ZSh2YWx1ZSl9XCIvPmAgOiBudWxsO1xuICB9KS5maWx0ZXIoQm9vbGVhbik7XG4gIHJldHVybiB0YWdTdHJpbmdzLmpvaW4oXCJcIik7XG59XG5cbmV4cG9ydCB7XG4gIGdldEZyYW1lSHRtbCxcbiAgZ2V0RnJhbWVIdG1sSGVhZCxcbiAgZ2V0RnJhbWVWMkh0bWxIZWFkXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-M353EKQ7.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-MBEYX4VY.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-MBEYX4VY.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   framesjsMiddleware: () => (/* binding */ framesjsMiddleware)\n/* harmony export */ });\n/* harmony import */ var _chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-YW2LREMY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-YW2LREMY.js\");\n/* harmony import */ var _chunk_DZIDRCLY_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-DZIDRCLY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-DZIDRCLY.js\");\n\n\n\n// src/middleware/framesjsMiddleware.ts\nfunction framesjsMiddleware() {\n  return async (context, next) => {\n    const { searchParams } = (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.parseSearchParams)(context.url);\n    if (context.request.method !== \"POST\") {\n      return next({ searchParams });\n    }\n    const pressedButton = (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.parseButtonInformationFromTargetURL)(context.url);\n    const result = await next({ pressedButton, searchParams });\n    if (pressedButton?.action === \"post_redirect\") {\n      if (result instanceof Response && (result.status < 300 || result.status > 399) || !(0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.isFrameRedirect)(result)) {\n        console.warn(\n          \"The clicked button action was post_redirect, but the response was not a redirect\"\n        );\n      }\n    } else if (pressedButton?.action === \"post\") {\n      if (result instanceof Response || (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_0__.isFrameRedirect)(result)) {\n        console.warn(\n          \"The clicked button action was post, but the response was not a frame definition\"\n        );\n      }\n    } else if (pressedButton?.action === \"tx\") {\n      if (!(result instanceof _chunk_DZIDRCLY_js__WEBPACK_IMPORTED_MODULE_1__.TransactionResponse) || !(result instanceof Response)) {\n        console.warn(\n          \"The clicked button action was tx, but the response was not a transaction data response. Please use transaction() function to return transaction data.\"\n        );\n      }\n    }\n    return result;\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTUJFWVg0VlkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBSTZCO0FBR0E7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBLFlBQVksZUFBZSxFQUFFLHFFQUFpQjtBQUM5QztBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0EsMEJBQTBCLHVGQUFtQztBQUM3RCxnQ0FBZ0MsNkJBQTZCO0FBQzdEO0FBQ0EseUZBQXlGLG1FQUFlO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHdDQUF3QyxtRUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTiw4QkFBOEIsbUVBQW1CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLU1CRVlYNFZZLmpzPzk0MGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNGcmFtZVJlZGlyZWN0LFxuICBwYXJzZUJ1dHRvbkluZm9ybWF0aW9uRnJvbVRhcmdldFVSTCxcbiAgcGFyc2VTZWFyY2hQYXJhbXNcbn0gZnJvbSBcIi4vY2h1bmstWVcyTFJFTVkuanNcIjtcbmltcG9ydCB7XG4gIFRyYW5zYWN0aW9uUmVzcG9uc2Vcbn0gZnJvbSBcIi4vY2h1bmstRFpJRFJDTFkuanNcIjtcblxuLy8gc3JjL21pZGRsZXdhcmUvZnJhbWVzanNNaWRkbGV3YXJlLnRzXG5mdW5jdGlvbiBmcmFtZXNqc01pZGRsZXdhcmUoKSB7XG4gIHJldHVybiBhc3luYyAoY29udGV4dCwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBwYXJzZVNlYXJjaFBhcmFtcyhjb250ZXh0LnVybCk7XG4gICAgaWYgKGNvbnRleHQucmVxdWVzdC5tZXRob2QgIT09IFwiUE9TVFwiKSB7XG4gICAgICByZXR1cm4gbmV4dCh7IHNlYXJjaFBhcmFtcyB9KTtcbiAgICB9XG4gICAgY29uc3QgcHJlc3NlZEJ1dHRvbiA9IHBhcnNlQnV0dG9uSW5mb3JtYXRpb25Gcm9tVGFyZ2V0VVJMKGNvbnRleHQudXJsKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXh0KHsgcHJlc3NlZEJ1dHRvbiwgc2VhcmNoUGFyYW1zIH0pO1xuICAgIGlmIChwcmVzc2VkQnV0dG9uPy5hY3Rpb24gPT09IFwicG9zdF9yZWRpcmVjdFwiKSB7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUmVzcG9uc2UgJiYgKHJlc3VsdC5zdGF0dXMgPCAzMDAgfHwgcmVzdWx0LnN0YXR1cyA+IDM5OSkgfHwgIWlzRnJhbWVSZWRpcmVjdChyZXN1bHQpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlRoZSBjbGlja2VkIGJ1dHRvbiBhY3Rpb24gd2FzIHBvc3RfcmVkaXJlY3QsIGJ1dCB0aGUgcmVzcG9uc2Ugd2FzIG5vdCBhIHJlZGlyZWN0XCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByZXNzZWRCdXR0b24/LmFjdGlvbiA9PT0gXCJwb3N0XCIpIHtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBSZXNwb25zZSB8fCBpc0ZyYW1lUmVkaXJlY3QocmVzdWx0KSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJUaGUgY2xpY2tlZCBidXR0b24gYWN0aW9uIHdhcyBwb3N0LCBidXQgdGhlIHJlc3BvbnNlIHdhcyBub3QgYSBmcmFtZSBkZWZpbml0aW9uXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByZXNzZWRCdXR0b24/LmFjdGlvbiA9PT0gXCJ0eFwiKSB7XG4gICAgICBpZiAoIShyZXN1bHQgaW5zdGFuY2VvZiBUcmFuc2FjdGlvblJlc3BvbnNlKSB8fCAhKHJlc3VsdCBpbnN0YW5jZW9mIFJlc3BvbnNlKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJUaGUgY2xpY2tlZCBidXR0b24gYWN0aW9uIHdhcyB0eCwgYnV0IHRoZSByZXNwb25zZSB3YXMgbm90IGEgdHJhbnNhY3Rpb24gZGF0YSByZXNwb25zZS4gUGxlYXNlIHVzZSB0cmFuc2FjdGlvbigpIGZ1bmN0aW9uIHRvIHJldHVybiB0cmFuc2FjdGlvbiBkYXRhLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbmV4cG9ydCB7XG4gIGZyYW1lc2pzTWlkZGxld2FyZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-MBEYX4VY.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-MQXLLT7K.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-MQXLLT7K.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchMetadata: () => (/* binding */ fetchMetadata)\n/* harmony export */ });\n/* harmony import */ var _chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-25BDFC6X.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-25BDFC6X.js\");\n\n\n// src/next/fetchMetadata.ts\nasync function fetchMetadata(url) {\n  try {\n    const response = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        // we use Accept header to get the response in JSON format, this is automatically supported by frames.js renderResponse middleware\n        Accept: _chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_0__.FRAMES_META_TAGS_HEADER\n      },\n      cache: \"no-cache\"\n    });\n    if (response.ok) {\n      const flattenedFrame = await response.json();\n      return flattenedFrame;\n    } else if (response.status) {\n      console.warn(\n        `Failed to fetch frame metadata from ${url.toString()}. Status code: ${response.status}`\n      );\n    }\n  } catch (error) {\n    console.warn(\n      `Failed to fetch frame metadata from ${url.toString()}.`,\n      error\n    );\n  }\n  return {};\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTVFYTExUN0suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVFQUF1QjtBQUN2QyxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsK0NBQStDLGVBQWUsaUJBQWlCLGdCQUFnQjtBQUMvRjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsNkNBQTZDLGVBQWU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTVFYTExUN0suanM/YWY2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBGUkFNRVNfTUVUQV9UQUdTX0hFQURFUlxufSBmcm9tIFwiLi9jaHVuay0yNUJERkM2WC5qc1wiO1xuXG4vLyBzcmMvbmV4dC9mZXRjaE1ldGFkYXRhLnRzXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1ldGFkYXRhKHVybCkge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC8vIHdlIHVzZSBBY2NlcHQgaGVhZGVyIHRvIGdldCB0aGUgcmVzcG9uc2UgaW4gSlNPTiBmb3JtYXQsIHRoaXMgaXMgYXV0b21hdGljYWxseSBzdXBwb3J0ZWQgYnkgZnJhbWVzLmpzIHJlbmRlclJlc3BvbnNlIG1pZGRsZXdhcmVcbiAgICAgICAgQWNjZXB0OiBGUkFNRVNfTUVUQV9UQUdTX0hFQURFUlxuICAgICAgfSxcbiAgICAgIGNhY2hlOiBcIm5vLWNhY2hlXCJcbiAgICB9KTtcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGZsYXR0ZW5lZEZyYW1lID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIGZsYXR0ZW5lZEZyYW1lO1xuICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBGYWlsZWQgdG8gZmV0Y2ggZnJhbWUgbWV0YWRhdGEgZnJvbSAke3VybC50b1N0cmluZygpfS4gU3RhdHVzIGNvZGU6ICR7cmVzcG9uc2Uuc3RhdHVzfWBcbiAgICAgICk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBGYWlsZWQgdG8gZmV0Y2ggZnJhbWUgbWV0YWRhdGEgZnJvbSAke3VybC50b1N0cmluZygpfS5gLFxuICAgICAgZXJyb3JcbiAgICApO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuZXhwb3J0IHtcbiAgZmV0Y2hNZXRhZGF0YVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-MQXLLT7K.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-NJA2QQYR.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-NJA2QQYR.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   imagesWorkerMiddleware: () => (/* binding */ imagesWorkerMiddleware)\n/* harmony export */ });\n/* harmony import */ var _chunk_LXYL66IJ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-LXYL66IJ.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LXYL66IJ.js\");\n/* harmony import */ var _chunk_4XN6T5YT_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-4XN6T5YT.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-4XN6T5YT.js\");\n/* harmony import */ var _chunk_ZFGMSS3C_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-ZFGMSS3C.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZFGMSS3C.js\");\n/* harmony import */ var _chunk_GHPJOFJY_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-GHPJOFJY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GHPJOFJY.js\");\n/* harmony import */ var _chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-YW2LREMY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-YW2LREMY.js\");\n/* harmony import */ var _chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-25BDFC6X.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-25BDFC6X.js\");\n\n\n\n\n\n\n\n// src/middleware/images-worker/index.ts\nfunction imagesWorkerMiddleware({\n  imagesRoute,\n  imageRenderingOptions,\n  secret\n} = {}) {\n  const middleware = async (ctx, next) => {\n    if (imagesRoute === null) {\n      return next();\n    }\n    const imageUrl = (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_4__.generateTargetURL)({\n      baseUrl: ctx.baseUrl,\n      target: imagesRoute || \"/\"\n    });\n    if (new URL(ctx.request.url).searchParams.get(_chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_5__.FRAMES_IMAGES_PARAM_FLAG) && new URL(ctx.request.url).pathname === imageUrl.pathname) {\n      const optionsResolved = typeof imageRenderingOptions === \"function\" ? await imageRenderingOptions() : imageRenderingOptions;\n      const worker = (0,_chunk_LXYL66IJ_js__WEBPACK_IMPORTED_MODULE_0__.createImagesWorkerRequestHandler)({\n        ...optionsResolved,\n        secret\n      });\n      const res = await worker(ctx.request);\n      return res;\n    }\n    const nextResult = await next();\n    if (!(0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_4__.isFrameDefinition)(nextResult) || !isFrameDefinitionWithJsx(nextResult)) {\n      return nextResult;\n    }\n    if (ctx.request.method === \"GET\" && nextResult.imageOptions?.dynamic) {\n      if (ctx.request.headers.has(_chunk_4XN6T5YT_js__WEBPACK_IMPORTED_MODULE_1__.IMAGE_WORKER_DYNAMIC_IMAGE_FETCH_HEADER)) {\n        const jsx2 = imageToSearchParams(nextResult, imageUrl.searchParams);\n        await signRequest(jsx2, secret, imageUrl.searchParams);\n        const headers = new Headers(nextResult.imageOptions.headers);\n        if (!hasCacheControlHeader(headers)) {\n          imageUrl.searchParams.set(\n            \"headers\",\n            JSON.stringify({\n              ...headers,\n              \"Cache-Control\": _chunk_4XN6T5YT_js__WEBPACK_IMPORTED_MODULE_1__.IMAGE_WORKER_DEFAULT_DYNAMIC_IMAGE_CACHE_CONTROL_HEADER\n            })\n          );\n        }\n        return Response.redirect(imageUrl.toString(), 303);\n      }\n      const currentUrl = ctx.request.url;\n      imageUrl.searchParams.set(\"url\", currentUrl);\n      imageUrl.searchParams.set(_chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_5__.FRAMES_IMAGES_PARAM_FLAG, \"true\");\n      await signRequest(currentUrl, secret, imageUrl.searchParams);\n      return {\n        ...nextResult,\n        image: imageUrl.toString()\n      };\n    }\n    if (nextResult.imageOptions?.fonts !== void 0) {\n      console.warn(\n        \"Warning (frames.js): `fonts` option is not supported in `imagesWorkerMiddleware`, specify fonts in the `imageRenderingOptions` option in your `createFrames` call instead.\"\n      );\n    }\n    const jsx = imageToSearchParams(nextResult, imageUrl.searchParams);\n    await signRequest(jsx, secret, imageUrl.searchParams);\n    if (ctx.debug) {\n      const debugUrl = new URL(imageUrl);\n      debugUrl.searchParams.set(_chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_5__.FRAMES_IMAGES_DEBUG_FLAG, \"true\");\n      ctx.__debugInfo.image = debugUrl.toString();\n    }\n    return {\n      ...nextResult,\n      image: imageUrl.toString()\n    };\n  };\n  return middleware;\n}\nfunction hasCacheControlHeader(headers) {\n  return headers.has(\"cache-control\");\n}\nasync function signRequest(data, secret, searchParams) {\n  if (secret) {\n    const signature = await (0,_chunk_GHPJOFJY_js__WEBPACK_IMPORTED_MODULE_3__.createHMACSignature)(data, secret);\n    searchParams.set(\"signature\", signature.toString(\"hex\"));\n  }\n}\nfunction imageToSearchParams(frame, searchParams) {\n  const imageJsonString = JSON.stringify((0,_chunk_ZFGMSS3C_js__WEBPACK_IMPORTED_MODULE_2__.serializeJsx)(frame.image));\n  searchParams.set(\"jsx\", imageJsonString);\n  frame.imageOptions && Object.entries(frame.imageOptions).forEach(([key, value]) => {\n    if (typeof value === \"object\") {\n      searchParams.append(key, JSON.stringify(value));\n    } else if (typeof value === \"string\") {\n      searchParams.append(key, value);\n    }\n  });\n  searchParams.append(_chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_5__.FRAMES_IMAGES_PARAM_FLAG, \"true\");\n  return imageJsonString;\n}\nfunction isFrameDefinitionWithJsx(definition) {\n  return (0,_chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_4__.isFrameDefinition)(definition) && typeof definition.image !== \"string\";\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTkpBMlFRWVIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUU2QjtBQUlBO0FBR0E7QUFHQTtBQUlBO0FBSUE7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLElBQUk7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxRUFBaUI7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTCxrREFBa0Qsd0VBQXdCO0FBQzFFO0FBQ0EscUJBQXFCLG9GQUFnQztBQUNyRDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxRUFBaUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHVGQUF1QztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHVHQUF1RDtBQUN0RixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdFQUF3QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0VBQXdCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdUVBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGdFQUFZO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLHdFQUF3QjtBQUM5QztBQUNBO0FBQ0E7QUFDQSxTQUFTLHFFQUFpQjtBQUMxQjs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTkpBMlFRWVIuanM/NDQwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjcmVhdGVJbWFnZXNXb3JrZXJSZXF1ZXN0SGFuZGxlclxufSBmcm9tIFwiLi9jaHVuay1MWFlMNjZJSi5qc1wiO1xuaW1wb3J0IHtcbiAgSU1BR0VfV09SS0VSX0RFRkFVTFRfRFlOQU1JQ19JTUFHRV9DQUNIRV9DT05UUk9MX0hFQURFUixcbiAgSU1BR0VfV09SS0VSX0RZTkFNSUNfSU1BR0VfRkVUQ0hfSEVBREVSXG59IGZyb20gXCIuL2NodW5rLTRYTjZUNVlULmpzXCI7XG5pbXBvcnQge1xuICBzZXJpYWxpemVKc3hcbn0gZnJvbSBcIi4vY2h1bmstWkZHTVNTM0MuanNcIjtcbmltcG9ydCB7XG4gIGNyZWF0ZUhNQUNTaWduYXR1cmVcbn0gZnJvbSBcIi4vY2h1bmstR0hQSk9GSlkuanNcIjtcbmltcG9ydCB7XG4gIGdlbmVyYXRlVGFyZ2V0VVJMLFxuICBpc0ZyYW1lRGVmaW5pdGlvblxufSBmcm9tIFwiLi9jaHVuay1ZVzJMUkVNWS5qc1wiO1xuaW1wb3J0IHtcbiAgRlJBTUVTX0lNQUdFU19ERUJVR19GTEFHLFxuICBGUkFNRVNfSU1BR0VTX1BBUkFNX0ZMQUdcbn0gZnJvbSBcIi4vY2h1bmstMjVCREZDNlguanNcIjtcblxuLy8gc3JjL21pZGRsZXdhcmUvaW1hZ2VzLXdvcmtlci9pbmRleC50c1xuZnVuY3Rpb24gaW1hZ2VzV29ya2VyTWlkZGxld2FyZSh7XG4gIGltYWdlc1JvdXRlLFxuICBpbWFnZVJlbmRlcmluZ09wdGlvbnMsXG4gIHNlY3JldFxufSA9IHt9KSB7XG4gIGNvbnN0IG1pZGRsZXdhcmUgPSBhc3luYyAoY3R4LCBuZXh0KSA9PiB7XG4gICAgaWYgKGltYWdlc1JvdXRlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgICBjb25zdCBpbWFnZVVybCA9IGdlbmVyYXRlVGFyZ2V0VVJMKHtcbiAgICAgIGJhc2VVcmw6IGN0eC5iYXNlVXJsLFxuICAgICAgdGFyZ2V0OiBpbWFnZXNSb3V0ZSB8fCBcIi9cIlxuICAgIH0pO1xuICAgIGlmIChuZXcgVVJMKGN0eC5yZXF1ZXN0LnVybCkuc2VhcmNoUGFyYW1zLmdldChGUkFNRVNfSU1BR0VTX1BBUkFNX0ZMQUcpICYmIG5ldyBVUkwoY3R4LnJlcXVlc3QudXJsKS5wYXRobmFtZSA9PT0gaW1hZ2VVcmwucGF0aG5hbWUpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnNSZXNvbHZlZCA9IHR5cGVvZiBpbWFnZVJlbmRlcmluZ09wdGlvbnMgPT09IFwiZnVuY3Rpb25cIiA/IGF3YWl0IGltYWdlUmVuZGVyaW5nT3B0aW9ucygpIDogaW1hZ2VSZW5kZXJpbmdPcHRpb25zO1xuICAgICAgY29uc3Qgd29ya2VyID0gY3JlYXRlSW1hZ2VzV29ya2VyUmVxdWVzdEhhbmRsZXIoe1xuICAgICAgICAuLi5vcHRpb25zUmVzb2x2ZWQsXG4gICAgICAgIHNlY3JldFxuICAgICAgfSk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCB3b3JrZXIoY3R4LnJlcXVlc3QpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgY29uc3QgbmV4dFJlc3VsdCA9IGF3YWl0IG5leHQoKTtcbiAgICBpZiAoIWlzRnJhbWVEZWZpbml0aW9uKG5leHRSZXN1bHQpIHx8ICFpc0ZyYW1lRGVmaW5pdGlvbldpdGhKc3gobmV4dFJlc3VsdCkpIHtcbiAgICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICAgIH1cbiAgICBpZiAoY3R4LnJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiICYmIG5leHRSZXN1bHQuaW1hZ2VPcHRpb25zPy5keW5hbWljKSB7XG4gICAgICBpZiAoY3R4LnJlcXVlc3QuaGVhZGVycy5oYXMoSU1BR0VfV09SS0VSX0RZTkFNSUNfSU1BR0VfRkVUQ0hfSEVBREVSKSkge1xuICAgICAgICBjb25zdCBqc3gyID0gaW1hZ2VUb1NlYXJjaFBhcmFtcyhuZXh0UmVzdWx0LCBpbWFnZVVybC5zZWFyY2hQYXJhbXMpO1xuICAgICAgICBhd2FpdCBzaWduUmVxdWVzdChqc3gyLCBzZWNyZXQsIGltYWdlVXJsLnNlYXJjaFBhcmFtcyk7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhuZXh0UmVzdWx0LmltYWdlT3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgaWYgKCFoYXNDYWNoZUNvbnRyb2xIZWFkZXIoaGVhZGVycykpIHtcbiAgICAgICAgICBpbWFnZVVybC5zZWFyY2hQYXJhbXMuc2V0KFxuICAgICAgICAgICAgXCJoZWFkZXJzXCIsXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgICAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBJTUFHRV9XT1JLRVJfREVGQVVMVF9EWU5BTUlDX0lNQUdFX0NBQ0hFX0NPTlRST0xfSEVBREVSXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlc3BvbnNlLnJlZGlyZWN0KGltYWdlVXJsLnRvU3RyaW5nKCksIDMwMyk7XG4gICAgICB9XG4gICAgICBjb25zdCBjdXJyZW50VXJsID0gY3R4LnJlcXVlc3QudXJsO1xuICAgICAgaW1hZ2VVcmwuc2VhcmNoUGFyYW1zLnNldChcInVybFwiLCBjdXJyZW50VXJsKTtcbiAgICAgIGltYWdlVXJsLnNlYXJjaFBhcmFtcy5zZXQoRlJBTUVTX0lNQUdFU19QQVJBTV9GTEFHLCBcInRydWVcIik7XG4gICAgICBhd2FpdCBzaWduUmVxdWVzdChjdXJyZW50VXJsLCBzZWNyZXQsIGltYWdlVXJsLnNlYXJjaFBhcmFtcyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5uZXh0UmVzdWx0LFxuICAgICAgICBpbWFnZTogaW1hZ2VVcmwudG9TdHJpbmcoKVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG5leHRSZXN1bHQuaW1hZ2VPcHRpb25zPy5mb250cyAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiV2FybmluZyAoZnJhbWVzLmpzKTogYGZvbnRzYCBvcHRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBgaW1hZ2VzV29ya2VyTWlkZGxld2FyZWAsIHNwZWNpZnkgZm9udHMgaW4gdGhlIGBpbWFnZVJlbmRlcmluZ09wdGlvbnNgIG9wdGlvbiBpbiB5b3VyIGBjcmVhdGVGcmFtZXNgIGNhbGwgaW5zdGVhZC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QganN4ID0gaW1hZ2VUb1NlYXJjaFBhcmFtcyhuZXh0UmVzdWx0LCBpbWFnZVVybC5zZWFyY2hQYXJhbXMpO1xuICAgIGF3YWl0IHNpZ25SZXF1ZXN0KGpzeCwgc2VjcmV0LCBpbWFnZVVybC5zZWFyY2hQYXJhbXMpO1xuICAgIGlmIChjdHguZGVidWcpIHtcbiAgICAgIGNvbnN0IGRlYnVnVXJsID0gbmV3IFVSTChpbWFnZVVybCk7XG4gICAgICBkZWJ1Z1VybC5zZWFyY2hQYXJhbXMuc2V0KEZSQU1FU19JTUFHRVNfREVCVUdfRkxBRywgXCJ0cnVlXCIpO1xuICAgICAgY3R4Ll9fZGVidWdJbmZvLmltYWdlID0gZGVidWdVcmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm5leHRSZXN1bHQsXG4gICAgICBpbWFnZTogaW1hZ2VVcmwudG9TdHJpbmcoKVxuICAgIH07XG4gIH07XG4gIHJldHVybiBtaWRkbGV3YXJlO1xufVxuZnVuY3Rpb24gaGFzQ2FjaGVDb250cm9sSGVhZGVyKGhlYWRlcnMpIHtcbiAgcmV0dXJuIGhlYWRlcnMuaGFzKFwiY2FjaGUtY29udHJvbFwiKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpZ25SZXF1ZXN0KGRhdGEsIHNlY3JldCwgc2VhcmNoUGFyYW1zKSB7XG4gIGlmIChzZWNyZXQpIHtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBjcmVhdGVITUFDU2lnbmF0dXJlKGRhdGEsIHNlY3JldCk7XG4gICAgc2VhcmNoUGFyYW1zLnNldChcInNpZ25hdHVyZVwiLCBzaWduYXR1cmUudG9TdHJpbmcoXCJoZXhcIikpO1xuICB9XG59XG5mdW5jdGlvbiBpbWFnZVRvU2VhcmNoUGFyYW1zKGZyYW1lLCBzZWFyY2hQYXJhbXMpIHtcbiAgY29uc3QgaW1hZ2VKc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoc2VyaWFsaXplSnN4KGZyYW1lLmltYWdlKSk7XG4gIHNlYXJjaFBhcmFtcy5zZXQoXCJqc3hcIiwgaW1hZ2VKc29uU3RyaW5nKTtcbiAgZnJhbWUuaW1hZ2VPcHRpb25zICYmIE9iamVjdC5lbnRyaWVzKGZyYW1lLmltYWdlT3B0aW9ucykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgc2VhcmNoUGFyYW1zLmFwcGVuZChGUkFNRVNfSU1BR0VTX1BBUkFNX0ZMQUcsIFwidHJ1ZVwiKTtcbiAgcmV0dXJuIGltYWdlSnNvblN0cmluZztcbn1cbmZ1bmN0aW9uIGlzRnJhbWVEZWZpbml0aW9uV2l0aEpzeChkZWZpbml0aW9uKSB7XG4gIHJldHVybiBpc0ZyYW1lRGVmaW5pdGlvbihkZWZpbml0aW9uKSAmJiB0eXBlb2YgZGVmaW5pdGlvbi5pbWFnZSAhPT0gXCJzdHJpbmdcIjtcbn1cblxuZXhwb3J0IHtcbiAgaW1hZ2VzV29ya2VyTWlkZGxld2FyZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-NJA2QQYR.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-NKQ3BL6M.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-NKQ3BL6M.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   concurrentMiddleware: () => (/* binding */ concurrentMiddleware)\n/* harmony export */ });\n// src/middleware/concurrentMiddleware.ts\nfunction concurrentMiddleware(...middlewares) {\n  if (middlewares.length === 0) {\n    throw new Error(\"No middlewares provided\");\n  }\n  if (middlewares.length === 1 && middlewares[0]) {\n    return middlewares[0];\n  }\n  return async (context, next) => {\n    const ctx = context;\n    const newContexts = [];\n    await Promise.all(\n      middlewares.map(\n        (middleware) => (\n          // @ts-expect-error this is not 100% correct because next should return a valid result, but since parallel middleware cannot call next middleware in chain, it's fine\n          middleware(context, (newCtx) => {\n            if (newCtx) {\n              newContexts.push(newCtx);\n            }\n          })\n        )\n      )\n    );\n    let finalCtx = ctx;\n    for (const newCtx of newContexts) {\n      finalCtx = { ...finalCtx, ...newCtx };\n    }\n    return next(finalCtx);\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTktRM0JMNk0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLU5LUTNCTDZNLmpzP2VmNWEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL21pZGRsZXdhcmUvY29uY3VycmVudE1pZGRsZXdhcmUudHNcbmZ1bmN0aW9uIGNvbmN1cnJlbnRNaWRkbGV3YXJlKC4uLm1pZGRsZXdhcmVzKSB7XG4gIGlmIChtaWRkbGV3YXJlcy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBtaWRkbGV3YXJlcyBwcm92aWRlZFwiKTtcbiAgfVxuICBpZiAobWlkZGxld2FyZXMubGVuZ3RoID09PSAxICYmIG1pZGRsZXdhcmVzWzBdKSB7XG4gICAgcmV0dXJuIG1pZGRsZXdhcmVzWzBdO1xuICB9XG4gIHJldHVybiBhc3luYyAoY29udGV4dCwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IGNvbnRleHQ7XG4gICAgY29uc3QgbmV3Q29udGV4dHMgPSBbXTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIG1pZGRsZXdhcmVzLm1hcChcbiAgICAgICAgKG1pZGRsZXdhcmUpID0+IChcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHRoaXMgaXMgbm90IDEwMCUgY29ycmVjdCBiZWNhdXNlIG5leHQgc2hvdWxkIHJldHVybiBhIHZhbGlkIHJlc3VsdCwgYnV0IHNpbmNlIHBhcmFsbGVsIG1pZGRsZXdhcmUgY2Fubm90IGNhbGwgbmV4dCBtaWRkbGV3YXJlIGluIGNoYWluLCBpdCdzIGZpbmVcbiAgICAgICAgICBtaWRkbGV3YXJlKGNvbnRleHQsIChuZXdDdHgpID0+IHtcbiAgICAgICAgICAgIGlmIChuZXdDdHgpIHtcbiAgICAgICAgICAgICAgbmV3Q29udGV4dHMucHVzaChuZXdDdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICAgIGxldCBmaW5hbEN0eCA9IGN0eDtcbiAgICBmb3IgKGNvbnN0IG5ld0N0eCBvZiBuZXdDb250ZXh0cykge1xuICAgICAgZmluYWxDdHggPSB7IC4uLmZpbmFsQ3R4LCAuLi5uZXdDdHggfTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQoZmluYWxDdHgpO1xuICB9O1xufVxuXG5leHBvcnQge1xuICBjb25jdXJyZW50TWlkZGxld2FyZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-NKQ3BL6M.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ON2PQMQU.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ON2PQMQU.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   walletAddressMiddleware: () => (/* binding */ walletAddressMiddleware)\n/* harmony export */ });\n// src/middleware/walletAddressMiddleware.ts\nfunction isContextWithCompaitbleMessage(ctx) {\n  return !!ctx && typeof ctx === \"object\" && \"message\" in ctx && !!ctx.message && typeof ctx.message === \"object\" && \"walletAddress\" in ctx.message && typeof ctx.message.walletAddress === \"function\";\n}\nfunction walletAddressMiddleware() {\n  return async (ctx, next) => {\n    return next({\n      walletAddress: async () => {\n        if (isContextWithCompaitbleMessage(ctx)) {\n          return ctx.message.walletAddress();\n        }\n        console.info(\n          \"walletAddressFromMessageMiddleware: You called walletAddress() but there is no message or the parsed message does not contain walletAddress() method. Make sure you have run the message parsing middleware before this middleware.\"\n        );\n        return Promise.resolve(void 0);\n      }\n    });\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstT04yUFFNUVUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLU9OMlBRTVFVLmpzP2ZiZmQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL21pZGRsZXdhcmUvd2FsbGV0QWRkcmVzc01pZGRsZXdhcmUudHNcbmZ1bmN0aW9uIGlzQ29udGV4dFdpdGhDb21wYWl0YmxlTWVzc2FnZShjdHgpIHtcbiAgcmV0dXJuICEhY3R4ICYmIHR5cGVvZiBjdHggPT09IFwib2JqZWN0XCIgJiYgXCJtZXNzYWdlXCIgaW4gY3R4ICYmICEhY3R4Lm1lc3NhZ2UgJiYgdHlwZW9mIGN0eC5tZXNzYWdlID09PSBcIm9iamVjdFwiICYmIFwid2FsbGV0QWRkcmVzc1wiIGluIGN0eC5tZXNzYWdlICYmIHR5cGVvZiBjdHgubWVzc2FnZS53YWxsZXRBZGRyZXNzID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiB3YWxsZXRBZGRyZXNzTWlkZGxld2FyZSgpIHtcbiAgcmV0dXJuIGFzeW5jIChjdHgsIG5leHQpID0+IHtcbiAgICByZXR1cm4gbmV4dCh7XG4gICAgICB3YWxsZXRBZGRyZXNzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChpc0NvbnRleHRXaXRoQ29tcGFpdGJsZU1lc3NhZ2UoY3R4KSkge1xuICAgICAgICAgIHJldHVybiBjdHgubWVzc2FnZS53YWxsZXRBZGRyZXNzKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5pbmZvKFxuICAgICAgICAgIFwid2FsbGV0QWRkcmVzc0Zyb21NZXNzYWdlTWlkZGxld2FyZTogWW91IGNhbGxlZCB3YWxsZXRBZGRyZXNzKCkgYnV0IHRoZXJlIGlzIG5vIG1lc3NhZ2Ugb3IgdGhlIHBhcnNlZCBtZXNzYWdlIGRvZXMgbm90IGNvbnRhaW4gd2FsbGV0QWRkcmVzcygpIG1ldGhvZC4gTWFrZSBzdXJlIHlvdSBoYXZlIHJ1biB0aGUgbWVzc2FnZSBwYXJzaW5nIG1pZGRsZXdhcmUgYmVmb3JlIHRoaXMgbWlkZGxld2FyZS5cIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCB7XG4gIHdhbGxldEFkZHJlc3NNaWRkbGV3YXJlXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ON2PQMQU.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-PX7ZYZY7.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-PX7ZYZY7.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button)\n/* harmony export */ });\n// src/core/components.ts\nfunction Button(_) {\n  return null;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstUFg3WllaWTcuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1QWDdaWVpZNy5qcz80ZjMwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb3JlL2NvbXBvbmVudHMudHNcbmZ1bmN0aW9uIEJ1dHRvbihfKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQge1xuICBCdXR0b25cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-PX7ZYZY7.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-QHDQPHLF.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-QHDQPHLF.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   types_exports: () => (/* binding */ types_exports)\n/* harmony export */ });\n// src/core/types.ts\nvar types_exports = {};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstUUhEUVBITEYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLVFIRFFQSExGLmpzPzBiMzMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvcmUvdHlwZXMudHNcbnZhciB0eXBlc19leHBvcnRzID0ge307XG5cbmV4cG9ydCB7XG4gIHR5cGVzX2V4cG9ydHNcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-QHDQPHLF.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-SPBDN3EV.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-SPBDN3EV.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   farcaster: () => (/* binding */ farcaster)\n/* harmony export */ });\n/* harmony import */ var _chunk_GZOOY22I_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-GZOOY22I.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GZOOY22I.js\");\n/* harmony import */ var _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-COE5BZEX.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-COE5BZEX.js\");\n\n\n\n// src/middleware/farcaster.ts\nfunction isValidFrameActionPayload(value) {\n  return typeof value === \"object\" && value !== null && \"trustedData\" in value && \"untrustedData\" in value;\n}\nasync function decodeFrameActionPayloadFromRequest(request) {\n  try {\n    const body = await request.clone().json().catch(() => {\n      throw new _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_1__.RequestBodyNotJSONError();\n    });\n    if (!isValidFrameActionPayload(body)) {\n      throw new _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_1__.InvalidFrameActionPayloadError();\n    }\n    return body;\n  } catch (e) {\n    if (e instanceof _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_1__.RequestBodyNotJSONError || e instanceof _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_1__.InvalidFrameActionPayloadError) {\n      return void 0;\n    }\n    console.error(e);\n    return void 0;\n  }\n}\nfunction farcaster() {\n  return async (context, next) => {\n    if (context.request.method !== \"POST\") {\n      return next();\n    }\n    const payload = await decodeFrameActionPayloadFromRequest(context.request);\n    if (!payload) {\n      return next();\n    }\n    try {\n      const message = await (0,_chunk_GZOOY22I_js__WEBPACK_IMPORTED_MODULE_0__.getFrameMessage)(payload, {\n        fetchHubContext: false\n      });\n      return next({\n        message: {\n          ...message,\n          walletAddress() {\n            console.info(\n              \"farcaster middleware: walletAddress() called, please use farcasterHubContext() middleware if you want to access the wallet address\"\n            );\n            return Promise.resolve(void 0);\n          }\n        },\n        clientProtocol: {\n          id: \"farcaster\",\n          version: \"vNext\"\n        }\n      });\n    } catch (error) {\n      console.info(\n        \"farcaster middleware: could not decode farcaster message from payload, calling next.\"\n      );\n      return next();\n    }\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstU1BCRE4zRVYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCO0FBSUE7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVFQUF1QjtBQUN2QyxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsOEVBQThCO0FBQzlDO0FBQ0E7QUFDQSxJQUFJO0FBQ0oscUJBQXFCLHVFQUF1QixpQkFBaUIsOEVBQThCO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1FQUFlO0FBQzNDO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLVNQQkROM0VWLmpzPzNhYTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZ2V0RnJhbWVNZXNzYWdlXG59IGZyb20gXCIuL2NodW5rLUdaT09ZMjJJLmpzXCI7XG5pbXBvcnQge1xuICBJbnZhbGlkRnJhbWVBY3Rpb25QYXlsb2FkRXJyb3IsXG4gIFJlcXVlc3RCb2R5Tm90SlNPTkVycm9yXG59IGZyb20gXCIuL2NodW5rLUNPRTVCWkVYLmpzXCI7XG5cbi8vIHNyYy9taWRkbGV3YXJlL2ZhcmNhc3Rlci50c1xuZnVuY3Rpb24gaXNWYWxpZEZyYW1lQWN0aW9uUGF5bG9hZCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmIFwidHJ1c3RlZERhdGFcIiBpbiB2YWx1ZSAmJiBcInVudHJ1c3RlZERhdGFcIiBpbiB2YWx1ZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlY29kZUZyYW1lQWN0aW9uUGF5bG9hZEZyb21SZXF1ZXN0KHJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5jbG9uZSgpLmpzb24oKS5jYXRjaCgoKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgUmVxdWVzdEJvZHlOb3RKU09ORXJyb3IoKTtcbiAgICB9KTtcbiAgICBpZiAoIWlzVmFsaWRGcmFtZUFjdGlvblBheWxvYWQoYm9keSkpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkRnJhbWVBY3Rpb25QYXlsb2FkRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIGJvZHk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFJlcXVlc3RCb2R5Tm90SlNPTkVycm9yIHx8IGUgaW5zdGFuY2VvZiBJbnZhbGlkRnJhbWVBY3Rpb25QYXlsb2FkRXJyb3IpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxufVxuZnVuY3Rpb24gZmFyY2FzdGVyKCkge1xuICByZXR1cm4gYXN5bmMgKGNvbnRleHQsIG5leHQpID0+IHtcbiAgICBpZiAoY29udGV4dC5yZXF1ZXN0Lm1ldGhvZCAhPT0gXCJQT1NUXCIpIHtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCBkZWNvZGVGcmFtZUFjdGlvblBheWxvYWRGcm9tUmVxdWVzdChjb250ZXh0LnJlcXVlc3QpO1xuICAgIGlmICghcGF5bG9hZCkge1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBnZXRGcmFtZU1lc3NhZ2UocGF5bG9hZCwge1xuICAgICAgICBmZXRjaEh1YkNvbnRleHQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXh0KHtcbiAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgd2FsbGV0QWRkcmVzcygpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICAgICAgICAgXCJmYXJjYXN0ZXIgbWlkZGxld2FyZTogd2FsbGV0QWRkcmVzcygpIGNhbGxlZCwgcGxlYXNlIHVzZSBmYXJjYXN0ZXJIdWJDb250ZXh0KCkgbWlkZGxld2FyZSBpZiB5b3Ugd2FudCB0byBhY2Nlc3MgdGhlIHdhbGxldCBhZGRyZXNzXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbGllbnRQcm90b2NvbDoge1xuICAgICAgICAgIGlkOiBcImZhcmNhc3RlclwiLFxuICAgICAgICAgIHZlcnNpb246IFwidk5leHRcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5pbmZvKFxuICAgICAgICBcImZhcmNhc3RlciBtaWRkbGV3YXJlOiBjb3VsZCBub3QgZGVjb2RlIGZhcmNhc3RlciBtZXNzYWdlIGZyb20gcGF5bG9hZCwgY2FsbGluZyBuZXh0LlwiXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCB7XG4gIGZhcmNhc3RlclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-SPBDN3EV.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-T2UQQRTL.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-T2UQQRTL.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_HUB_API_KEY: () => (/* binding */ DEFAULT_HUB_API_KEY),\n/* harmony export */   DEFAULT_HUB_API_URL: () => (/* binding */ DEFAULT_HUB_API_URL)\n/* harmony export */ });\n// src/default.ts\nvar DEFAULT_HUB_API_URL = \"https://hub-api.neynar.com\";\nvar DEFAULT_HUB_API_KEY = \"NEYNAR_FRAMES_JS\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstVDJVUVFSVEwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBS0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLVQyVVFRUlRMLmpzP2VlODAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2RlZmF1bHQudHNcbnZhciBERUZBVUxUX0hVQl9BUElfVVJMID0gXCJodHRwczovL2h1Yi1hcGkubmV5bmFyLmNvbVwiO1xudmFyIERFRkFVTFRfSFVCX0FQSV9LRVkgPSBcIk5FWU5BUl9GUkFNRVNfSlNcIjtcblxuZXhwb3J0IHtcbiAgREVGQVVMVF9IVUJfQVBJX1VSTCxcbiAgREVGQVVMVF9IVUJfQVBJX0tFWVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-T2UQQRTL.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VBQCKLDZ.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VBQCKLDZ.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   error: () => (/* binding */ error)\n/* harmony export */ });\n/* harmony import */ var _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-COE5BZEX.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-COE5BZEX.js\");\n\n\n// src/core/error.ts\nfunction error(message, status = 400) {\n  throw new _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_0__.FrameMessageError(message, status);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstVkJRQ0tMRFouanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0E7QUFDQSxZQUFZLGlFQUFpQjtBQUM3Qjs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstVkJRQ0tMRFouanM/ZjU2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBGcmFtZU1lc3NhZ2VFcnJvclxufSBmcm9tIFwiLi9jaHVuay1DT0U1QlpFWC5qc1wiO1xuXG4vLyBzcmMvY29yZS9lcnJvci50c1xuZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgc3RhdHVzID0gNDAwKSB7XG4gIHRocm93IG5ldyBGcmFtZU1lc3NhZ2VFcnJvcihtZXNzYWdlLCBzdGF0dXMpO1xufVxuXG5leHBvcnQge1xuICBlcnJvclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VBQCKLDZ.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VYI5JOSS.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VYI5JOSS.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFrameFlattened: () => (/* binding */ getFrameFlattened),\n/* harmony export */   getFrameV2Flattened: () => (/* binding */ getFrameV2Flattened)\n/* harmony export */ });\n// package.json\nvar version = \"0.21.3\";\n\n// src/getFrameFlattened.ts\nfunction getFrameFlattened(frame, overrides) {\n  const openFrames = frame.accepts && Boolean(frame.accepts.length) ? {\n    // custom of tags\n    \"of:version\": frame.version,\n    ...frame.accepts.reduce(\n      (acc, { id, version: version2 }) => {\n        acc[`of:accepts:${id}`] = version2;\n        return acc;\n      },\n      {}\n    ),\n    // same as fc:frame tags\n    \"of:image\": frame.image,\n    \"og:image\": frame.ogImage || frame.image,\n    \"og:title\": frame.title,\n    \"of:post_url\": frame.postUrl,\n    \"of:input:text\": frame.inputText,\n    ...frame.state ? { \"of:state\": frame.state } : {},\n    ...frame.imageAspectRatio ? { \"of:image:aspect_ratio\": frame.imageAspectRatio } : {},\n    ...frame.buttons?.reduce(\n      (acc, button, index) => ({\n        ...acc,\n        [`of:button:${index + 1}`]: button.label,\n        [`of:button:${index + 1}:action`]: button.action,\n        [`of:button:${index + 1}:target`]: button.target,\n        ...button.action === \"tx\" || button.action === \"post\" || button.action === \"post_redirect\" ? { [`of:button:${index + 1}:post_url`]: button.post_url } : {}\n      }),\n      {}\n    )\n  } : {};\n  const metadata = {\n    \"fc:frame\": frame.version,\n    \"fc:frame:image\": frame.image,\n    \"og:image\": frame.ogImage || frame.image,\n    \"og:title\": frame.title,\n    \"fc:frame:post_url\": frame.postUrl,\n    \"fc:frame:input:text\": frame.inputText,\n    ...frame.title ? { \"og:title\": frame.title } : {},\n    ...frame.state ? { \"fc:frame:state\": frame.state } : {},\n    ...frame.imageAspectRatio ? { \"fc:frame:image:aspect_ratio\": frame.imageAspectRatio } : {},\n    ...frame.buttons?.reduce(\n      (acc, button, index) => ({\n        ...acc,\n        [`fc:frame:button:${index + 1}`]: button.label,\n        [`fc:frame:button:${index + 1}:action`]: button.action,\n        [`fc:frame:button:${index + 1}:target`]: button.target,\n        ...button.action === \"tx\" || button.action === \"post\" || button.action === \"post_redirect\" ? { [`fc:frame:button:${index + 1}:post_url`]: button.post_url } : {}\n      }),\n      {}\n    ),\n    ...openFrames,\n    [`frames.js:version`]: version,\n    ...overrides\n  };\n  return metadata;\n}\nfunction getFrameV2Flattened(frame, overrides) {\n  return {\n    \"fc:frame\": JSON.stringify(frame),\n    [`frames.js:version`]: version,\n    ...overrides\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstVllJNUpPU1MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsdUJBQXVCO0FBQ3JDLDBCQUEwQixHQUFHO0FBQzdCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMEJBQTBCLElBQUk7QUFDckQsa0NBQWtDLGtEQUFrRCxJQUFJO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixVQUFVO0FBQ2hDLHNCQUFzQixVQUFVO0FBQ2hDLHNCQUFzQixVQUFVO0FBQ2hDLHVHQUF1RyxjQUFjLFVBQVUsK0JBQStCO0FBQzlKLE9BQU87QUFDUDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBCQUEwQixJQUFJO0FBQ3JELHVCQUF1QixnQ0FBZ0MsSUFBSTtBQUMzRCxrQ0FBa0Msd0RBQXdELElBQUk7QUFDOUY7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEMsNEJBQTRCLFVBQVU7QUFDdEMsNEJBQTRCLFVBQVU7QUFDdEMsdUdBQXVHLG9CQUFvQixVQUFVLCtCQUErQjtBQUNwSyxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUtFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcm9jay1wYXBlci1zY2lzc29ycy1mcmFtZS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnJhbWVzLmpzQDAuMjIuMF9AY2xvdWRmbGFyZSt3b3JrZXJzLXR5cGVzQDQuMjAyNTA0MDUuMF9AbGVucy1wcm90b2NvbCtjbGllbnRAMi4zLjJfQHR5cGVzK2V4X21kbmptY2FiYmU0ZXQzMnN6N2Rpemo0aTdhL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1WWUk1Sk9TUy5qcz81YWRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhY2thZ2UuanNvblxudmFyIHZlcnNpb24gPSBcIjAuMjEuM1wiO1xuXG4vLyBzcmMvZ2V0RnJhbWVGbGF0dGVuZWQudHNcbmZ1bmN0aW9uIGdldEZyYW1lRmxhdHRlbmVkKGZyYW1lLCBvdmVycmlkZXMpIHtcbiAgY29uc3Qgb3BlbkZyYW1lcyA9IGZyYW1lLmFjY2VwdHMgJiYgQm9vbGVhbihmcmFtZS5hY2NlcHRzLmxlbmd0aCkgPyB7XG4gICAgLy8gY3VzdG9tIG9mIHRhZ3NcbiAgICBcIm9mOnZlcnNpb25cIjogZnJhbWUudmVyc2lvbixcbiAgICAuLi5mcmFtZS5hY2NlcHRzLnJlZHVjZShcbiAgICAgIChhY2MsIHsgaWQsIHZlcnNpb246IHZlcnNpb24yIH0pID0+IHtcbiAgICAgICAgYWNjW2BvZjphY2NlcHRzOiR7aWR9YF0gPSB2ZXJzaW9uMjtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sXG4gICAgICB7fVxuICAgICksXG4gICAgLy8gc2FtZSBhcyBmYzpmcmFtZSB0YWdzXG4gICAgXCJvZjppbWFnZVwiOiBmcmFtZS5pbWFnZSxcbiAgICBcIm9nOmltYWdlXCI6IGZyYW1lLm9nSW1hZ2UgfHwgZnJhbWUuaW1hZ2UsXG4gICAgXCJvZzp0aXRsZVwiOiBmcmFtZS50aXRsZSxcbiAgICBcIm9mOnBvc3RfdXJsXCI6IGZyYW1lLnBvc3RVcmwsXG4gICAgXCJvZjppbnB1dDp0ZXh0XCI6IGZyYW1lLmlucHV0VGV4dCxcbiAgICAuLi5mcmFtZS5zdGF0ZSA/IHsgXCJvZjpzdGF0ZVwiOiBmcmFtZS5zdGF0ZSB9IDoge30sXG4gICAgLi4uZnJhbWUuaW1hZ2VBc3BlY3RSYXRpbyA/IHsgXCJvZjppbWFnZTphc3BlY3RfcmF0aW9cIjogZnJhbWUuaW1hZ2VBc3BlY3RSYXRpbyB9IDoge30sXG4gICAgLi4uZnJhbWUuYnV0dG9ucz8ucmVkdWNlKFxuICAgICAgKGFjYywgYnV0dG9uLCBpbmRleCkgPT4gKHtcbiAgICAgICAgLi4uYWNjLFxuICAgICAgICBbYG9mOmJ1dHRvbjoke2luZGV4ICsgMX1gXTogYnV0dG9uLmxhYmVsLFxuICAgICAgICBbYG9mOmJ1dHRvbjoke2luZGV4ICsgMX06YWN0aW9uYF06IGJ1dHRvbi5hY3Rpb24sXG4gICAgICAgIFtgb2Y6YnV0dG9uOiR7aW5kZXggKyAxfTp0YXJnZXRgXTogYnV0dG9uLnRhcmdldCxcbiAgICAgICAgLi4uYnV0dG9uLmFjdGlvbiA9PT0gXCJ0eFwiIHx8IGJ1dHRvbi5hY3Rpb24gPT09IFwicG9zdFwiIHx8IGJ1dHRvbi5hY3Rpb24gPT09IFwicG9zdF9yZWRpcmVjdFwiID8geyBbYG9mOmJ1dHRvbjoke2luZGV4ICsgMX06cG9zdF91cmxgXTogYnV0dG9uLnBvc3RfdXJsIH0gOiB7fVxuICAgICAgfSksXG4gICAgICB7fVxuICAgIClcbiAgfSA6IHt9O1xuICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICBcImZjOmZyYW1lXCI6IGZyYW1lLnZlcnNpb24sXG4gICAgXCJmYzpmcmFtZTppbWFnZVwiOiBmcmFtZS5pbWFnZSxcbiAgICBcIm9nOmltYWdlXCI6IGZyYW1lLm9nSW1hZ2UgfHwgZnJhbWUuaW1hZ2UsXG4gICAgXCJvZzp0aXRsZVwiOiBmcmFtZS50aXRsZSxcbiAgICBcImZjOmZyYW1lOnBvc3RfdXJsXCI6IGZyYW1lLnBvc3RVcmwsXG4gICAgXCJmYzpmcmFtZTppbnB1dDp0ZXh0XCI6IGZyYW1lLmlucHV0VGV4dCxcbiAgICAuLi5mcmFtZS50aXRsZSA/IHsgXCJvZzp0aXRsZVwiOiBmcmFtZS50aXRsZSB9IDoge30sXG4gICAgLi4uZnJhbWUuc3RhdGUgPyB7IFwiZmM6ZnJhbWU6c3RhdGVcIjogZnJhbWUuc3RhdGUgfSA6IHt9LFxuICAgIC4uLmZyYW1lLmltYWdlQXNwZWN0UmF0aW8gPyB7IFwiZmM6ZnJhbWU6aW1hZ2U6YXNwZWN0X3JhdGlvXCI6IGZyYW1lLmltYWdlQXNwZWN0UmF0aW8gfSA6IHt9LFxuICAgIC4uLmZyYW1lLmJ1dHRvbnM/LnJlZHVjZShcbiAgICAgIChhY2MsIGJ1dHRvbiwgaW5kZXgpID0+ICh7XG4gICAgICAgIC4uLmFjYyxcbiAgICAgICAgW2BmYzpmcmFtZTpidXR0b246JHtpbmRleCArIDF9YF06IGJ1dHRvbi5sYWJlbCxcbiAgICAgICAgW2BmYzpmcmFtZTpidXR0b246JHtpbmRleCArIDF9OmFjdGlvbmBdOiBidXR0b24uYWN0aW9uLFxuICAgICAgICBbYGZjOmZyYW1lOmJ1dHRvbjoke2luZGV4ICsgMX06dGFyZ2V0YF06IGJ1dHRvbi50YXJnZXQsXG4gICAgICAgIC4uLmJ1dHRvbi5hY3Rpb24gPT09IFwidHhcIiB8fCBidXR0b24uYWN0aW9uID09PSBcInBvc3RcIiB8fCBidXR0b24uYWN0aW9uID09PSBcInBvc3RfcmVkaXJlY3RcIiA/IHsgW2BmYzpmcmFtZTpidXR0b246JHtpbmRleCArIDF9OnBvc3RfdXJsYF06IGJ1dHRvbi5wb3N0X3VybCB9IDoge31cbiAgICAgIH0pLFxuICAgICAge31cbiAgICApLFxuICAgIC4uLm9wZW5GcmFtZXMsXG4gICAgW2BmcmFtZXMuanM6dmVyc2lvbmBdOiB2ZXJzaW9uLFxuICAgIC4uLm92ZXJyaWRlc1xuICB9O1xuICByZXR1cm4gbWV0YWRhdGE7XG59XG5mdW5jdGlvbiBnZXRGcmFtZVYyRmxhdHRlbmVkKGZyYW1lLCBvdmVycmlkZXMpIHtcbiAgcmV0dXJuIHtcbiAgICBcImZjOmZyYW1lXCI6IEpTT04uc3RyaW5naWZ5KGZyYW1lKSxcbiAgICBbYGZyYW1lcy5qczp2ZXJzaW9uYF06IHZlcnNpb24sXG4gICAgLi4ub3ZlcnJpZGVzXG4gIH07XG59XG5cbmV4cG9ydCB7XG4gIGdldEZyYW1lRmxhdHRlbmVkLFxuICBnZXRGcmFtZVYyRmxhdHRlbmVkXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VYI5JOSS.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-WYDZZYLM.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-WYDZZYLM.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CastAddBody: () => (/* binding */ CastAddBody),\n/* harmony export */   CastId: () => (/* binding */ CastId),\n/* harmony export */   CastRemoveBody: () => (/* binding */ CastRemoveBody),\n/* harmony export */   CastType: () => (/* binding */ CastType),\n/* harmony export */   Embed: () => (/* binding */ Embed),\n/* harmony export */   FarcasterNetwork: () => (/* binding */ FarcasterNetwork),\n/* harmony export */   FrameActionBody: () => (/* binding */ FrameActionBody),\n/* harmony export */   HashScheme: () => (/* binding */ HashScheme),\n/* harmony export */   LinkBody: () => (/* binding */ LinkBody),\n/* harmony export */   LinkCompactStateBody: () => (/* binding */ LinkCompactStateBody),\n/* harmony export */   Message: () => (/* binding */ Message),\n/* harmony export */   MessageData: () => (/* binding */ MessageData),\n/* harmony export */   MessageType: () => (/* binding */ MessageType),\n/* harmony export */   Protocol: () => (/* binding */ Protocol),\n/* harmony export */   ReactionBody: () => (/* binding */ ReactionBody),\n/* harmony export */   ReactionType: () => (/* binding */ ReactionType),\n/* harmony export */   SignatureScheme: () => (/* binding */ SignatureScheme),\n/* harmony export */   UserDataBody: () => (/* binding */ UserDataBody),\n/* harmony export */   UserDataType: () => (/* binding */ UserDataType),\n/* harmony export */   VerificationAddAddressBody: () => (/* binding */ VerificationAddAddressBody),\n/* harmony export */   VerificationRemoveBody: () => (/* binding */ VerificationRemoveBody),\n/* harmony export */   castTypeFromJSON: () => (/* binding */ castTypeFromJSON),\n/* harmony export */   castTypeToJSON: () => (/* binding */ castTypeToJSON),\n/* harmony export */   farcasterNetworkFromJSON: () => (/* binding */ farcasterNetworkFromJSON),\n/* harmony export */   farcasterNetworkToJSON: () => (/* binding */ farcasterNetworkToJSON),\n/* harmony export */   hashSchemeFromJSON: () => (/* binding */ hashSchemeFromJSON),\n/* harmony export */   hashSchemeToJSON: () => (/* binding */ hashSchemeToJSON),\n/* harmony export */   messageTypeFromJSON: () => (/* binding */ messageTypeFromJSON),\n/* harmony export */   messageTypeToJSON: () => (/* binding */ messageTypeToJSON),\n/* harmony export */   protocolFromJSON: () => (/* binding */ protocolFromJSON),\n/* harmony export */   protocolToJSON: () => (/* binding */ protocolToJSON),\n/* harmony export */   reactionTypeFromJSON: () => (/* binding */ reactionTypeFromJSON),\n/* harmony export */   reactionTypeToJSON: () => (/* binding */ reactionTypeToJSON),\n/* harmony export */   signatureSchemeFromJSON: () => (/* binding */ signatureSchemeFromJSON),\n/* harmony export */   signatureSchemeToJSON: () => (/* binding */ signatureSchemeToJSON),\n/* harmony export */   userDataTypeFromJSON: () => (/* binding */ userDataTypeFromJSON),\n/* harmony export */   userDataTypeToJSON: () => (/* binding */ userDataTypeToJSON)\n/* harmony export */ });\n/* harmony import */ var _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-JGTH2ANC.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-JGTH2ANC.js\");\n/* harmony import */ var protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! protobufjs/minimal */ \"(rsc)/../../node_modules/.pnpm/protobufjs@7.4.0/node_modules/protobufjs/minimal.js\");\n\n\n// src/farcaster/generated/message.ts\n\nvar HashScheme = /* @__PURE__ */ ((HashScheme2) => {\n  HashScheme2[HashScheme2[\"NONE\"] = 0] = \"NONE\";\n  HashScheme2[HashScheme2[\"BLAKE3\"] = 1] = \"BLAKE3\";\n  return HashScheme2;\n})(HashScheme || {});\nfunction hashSchemeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"HASH_SCHEME_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"HASH_SCHEME_BLAKE3\":\n      return 1 /* BLAKE3 */;\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum HashScheme\");\n  }\n}\nfunction hashSchemeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"HASH_SCHEME_NONE\";\n    case 1 /* BLAKE3 */:\n      return \"HASH_SCHEME_BLAKE3\";\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum HashScheme\");\n  }\n}\nvar SignatureScheme = /* @__PURE__ */ ((SignatureScheme2) => {\n  SignatureScheme2[SignatureScheme2[\"NONE\"] = 0] = \"NONE\";\n  SignatureScheme2[SignatureScheme2[\"ED25519\"] = 1] = \"ED25519\";\n  SignatureScheme2[SignatureScheme2[\"EIP712\"] = 2] = \"EIP712\";\n  return SignatureScheme2;\n})(SignatureScheme || {});\nfunction signatureSchemeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"SIGNATURE_SCHEME_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"SIGNATURE_SCHEME_ED25519\":\n      return 1 /* ED25519 */;\n    case 2:\n    case \"SIGNATURE_SCHEME_EIP712\":\n      return 2 /* EIP712 */;\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum SignatureScheme\");\n  }\n}\nfunction signatureSchemeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"SIGNATURE_SCHEME_NONE\";\n    case 1 /* ED25519 */:\n      return \"SIGNATURE_SCHEME_ED25519\";\n    case 2 /* EIP712 */:\n      return \"SIGNATURE_SCHEME_EIP712\";\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum SignatureScheme\");\n  }\n}\nvar MessageType = /* @__PURE__ */ ((MessageType2) => {\n  MessageType2[MessageType2[\"NONE\"] = 0] = \"NONE\";\n  MessageType2[MessageType2[\"CAST_ADD\"] = 1] = \"CAST_ADD\";\n  MessageType2[MessageType2[\"CAST_REMOVE\"] = 2] = \"CAST_REMOVE\";\n  MessageType2[MessageType2[\"REACTION_ADD\"] = 3] = \"REACTION_ADD\";\n  MessageType2[MessageType2[\"REACTION_REMOVE\"] = 4] = \"REACTION_REMOVE\";\n  MessageType2[MessageType2[\"LINK_ADD\"] = 5] = \"LINK_ADD\";\n  MessageType2[MessageType2[\"LINK_REMOVE\"] = 6] = \"LINK_REMOVE\";\n  MessageType2[MessageType2[\"VERIFICATION_ADD_ETH_ADDRESS\"] = 7] = \"VERIFICATION_ADD_ETH_ADDRESS\";\n  MessageType2[MessageType2[\"VERIFICATION_REMOVE\"] = 8] = \"VERIFICATION_REMOVE\";\n  MessageType2[MessageType2[\"USER_DATA_ADD\"] = 11] = \"USER_DATA_ADD\";\n  MessageType2[MessageType2[\"USERNAME_PROOF\"] = 12] = \"USERNAME_PROOF\";\n  MessageType2[MessageType2[\"FRAME_ACTION\"] = 13] = \"FRAME_ACTION\";\n  MessageType2[MessageType2[\"LINK_COMPACT_STATE\"] = 14] = \"LINK_COMPACT_STATE\";\n  return MessageType2;\n})(MessageType || {});\nfunction messageTypeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"MESSAGE_TYPE_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"MESSAGE_TYPE_CAST_ADD\":\n      return 1 /* CAST_ADD */;\n    case 2:\n    case \"MESSAGE_TYPE_CAST_REMOVE\":\n      return 2 /* CAST_REMOVE */;\n    case 3:\n    case \"MESSAGE_TYPE_REACTION_ADD\":\n      return 3 /* REACTION_ADD */;\n    case 4:\n    case \"MESSAGE_TYPE_REACTION_REMOVE\":\n      return 4 /* REACTION_REMOVE */;\n    case 5:\n    case \"MESSAGE_TYPE_LINK_ADD\":\n      return 5 /* LINK_ADD */;\n    case 6:\n    case \"MESSAGE_TYPE_LINK_REMOVE\":\n      return 6 /* LINK_REMOVE */;\n    case 7:\n    case \"MESSAGE_TYPE_VERIFICATION_ADD_ETH_ADDRESS\":\n      return 7 /* VERIFICATION_ADD_ETH_ADDRESS */;\n    case 8:\n    case \"MESSAGE_TYPE_VERIFICATION_REMOVE\":\n      return 8 /* VERIFICATION_REMOVE */;\n    case 11:\n    case \"MESSAGE_TYPE_USER_DATA_ADD\":\n      return 11 /* USER_DATA_ADD */;\n    case 12:\n    case \"MESSAGE_TYPE_USERNAME_PROOF\":\n      return 12 /* USERNAME_PROOF */;\n    case 13:\n    case \"MESSAGE_TYPE_FRAME_ACTION\":\n      return 13 /* FRAME_ACTION */;\n    case 14:\n    case \"MESSAGE_TYPE_LINK_COMPACT_STATE\":\n      return 14 /* LINK_COMPACT_STATE */;\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum MessageType\");\n  }\n}\nfunction messageTypeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"MESSAGE_TYPE_NONE\";\n    case 1 /* CAST_ADD */:\n      return \"MESSAGE_TYPE_CAST_ADD\";\n    case 2 /* CAST_REMOVE */:\n      return \"MESSAGE_TYPE_CAST_REMOVE\";\n    case 3 /* REACTION_ADD */:\n      return \"MESSAGE_TYPE_REACTION_ADD\";\n    case 4 /* REACTION_REMOVE */:\n      return \"MESSAGE_TYPE_REACTION_REMOVE\";\n    case 5 /* LINK_ADD */:\n      return \"MESSAGE_TYPE_LINK_ADD\";\n    case 6 /* LINK_REMOVE */:\n      return \"MESSAGE_TYPE_LINK_REMOVE\";\n    case 7 /* VERIFICATION_ADD_ETH_ADDRESS */:\n      return \"MESSAGE_TYPE_VERIFICATION_ADD_ETH_ADDRESS\";\n    case 8 /* VERIFICATION_REMOVE */:\n      return \"MESSAGE_TYPE_VERIFICATION_REMOVE\";\n    case 11 /* USER_DATA_ADD */:\n      return \"MESSAGE_TYPE_USER_DATA_ADD\";\n    case 12 /* USERNAME_PROOF */:\n      return \"MESSAGE_TYPE_USERNAME_PROOF\";\n    case 13 /* FRAME_ACTION */:\n      return \"MESSAGE_TYPE_FRAME_ACTION\";\n    case 14 /* LINK_COMPACT_STATE */:\n      return \"MESSAGE_TYPE_LINK_COMPACT_STATE\";\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum MessageType\");\n  }\n}\nvar FarcasterNetwork = /* @__PURE__ */ ((FarcasterNetwork2) => {\n  FarcasterNetwork2[FarcasterNetwork2[\"NONE\"] = 0] = \"NONE\";\n  FarcasterNetwork2[FarcasterNetwork2[\"MAINNET\"] = 1] = \"MAINNET\";\n  FarcasterNetwork2[FarcasterNetwork2[\"TESTNET\"] = 2] = \"TESTNET\";\n  FarcasterNetwork2[FarcasterNetwork2[\"DEVNET\"] = 3] = \"DEVNET\";\n  return FarcasterNetwork2;\n})(FarcasterNetwork || {});\nfunction farcasterNetworkFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"FARCASTER_NETWORK_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"FARCASTER_NETWORK_MAINNET\":\n      return 1 /* MAINNET */;\n    case 2:\n    case \"FARCASTER_NETWORK_TESTNET\":\n      return 2 /* TESTNET */;\n    case 3:\n    case \"FARCASTER_NETWORK_DEVNET\":\n      return 3 /* DEVNET */;\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum FarcasterNetwork\");\n  }\n}\nfunction farcasterNetworkToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"FARCASTER_NETWORK_NONE\";\n    case 1 /* MAINNET */:\n      return \"FARCASTER_NETWORK_MAINNET\";\n    case 2 /* TESTNET */:\n      return \"FARCASTER_NETWORK_TESTNET\";\n    case 3 /* DEVNET */:\n      return \"FARCASTER_NETWORK_DEVNET\";\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum FarcasterNetwork\");\n  }\n}\nvar UserDataType = /* @__PURE__ */ ((UserDataType2) => {\n  UserDataType2[UserDataType2[\"NONE\"] = 0] = \"NONE\";\n  UserDataType2[UserDataType2[\"PFP\"] = 1] = \"PFP\";\n  UserDataType2[UserDataType2[\"DISPLAY\"] = 2] = \"DISPLAY\";\n  UserDataType2[UserDataType2[\"BIO\"] = 3] = \"BIO\";\n  UserDataType2[UserDataType2[\"URL\"] = 5] = \"URL\";\n  UserDataType2[UserDataType2[\"USERNAME\"] = 6] = \"USERNAME\";\n  UserDataType2[UserDataType2[\"LOCATION\"] = 7] = \"LOCATION\";\n  UserDataType2[UserDataType2[\"TWITTER\"] = 8] = \"TWITTER\";\n  UserDataType2[UserDataType2[\"GITHUB\"] = 9] = \"GITHUB\";\n  return UserDataType2;\n})(UserDataType || {});\nfunction userDataTypeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"USER_DATA_TYPE_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"USER_DATA_TYPE_PFP\":\n      return 1 /* PFP */;\n    case 2:\n    case \"USER_DATA_TYPE_DISPLAY\":\n      return 2 /* DISPLAY */;\n    case 3:\n    case \"USER_DATA_TYPE_BIO\":\n      return 3 /* BIO */;\n    case 5:\n    case \"USER_DATA_TYPE_URL\":\n      return 5 /* URL */;\n    case 6:\n    case \"USER_DATA_TYPE_USERNAME\":\n      return 6 /* USERNAME */;\n    case 7:\n    case \"USER_DATA_TYPE_LOCATION\":\n      return 7 /* LOCATION */;\n    case 8:\n    case \"USER_DATA_TYPE_TWITTER\":\n      return 8 /* TWITTER */;\n    case 9:\n    case \"USER_DATA_TYPE_GITHUB\":\n      return 9 /* GITHUB */;\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum UserDataType\");\n  }\n}\nfunction userDataTypeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"USER_DATA_TYPE_NONE\";\n    case 1 /* PFP */:\n      return \"USER_DATA_TYPE_PFP\";\n    case 2 /* DISPLAY */:\n      return \"USER_DATA_TYPE_DISPLAY\";\n    case 3 /* BIO */:\n      return \"USER_DATA_TYPE_BIO\";\n    case 5 /* URL */:\n      return \"USER_DATA_TYPE_URL\";\n    case 6 /* USERNAME */:\n      return \"USER_DATA_TYPE_USERNAME\";\n    case 7 /* LOCATION */:\n      return \"USER_DATA_TYPE_LOCATION\";\n    case 8 /* TWITTER */:\n      return \"USER_DATA_TYPE_TWITTER\";\n    case 9 /* GITHUB */:\n      return \"USER_DATA_TYPE_GITHUB\";\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum UserDataType\");\n  }\n}\nvar CastType = /* @__PURE__ */ ((CastType2) => {\n  CastType2[CastType2[\"CAST\"] = 0] = \"CAST\";\n  CastType2[CastType2[\"LONG_CAST\"] = 1] = \"LONG_CAST\";\n  return CastType2;\n})(CastType || {});\nfunction castTypeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"CAST\":\n      return 0 /* CAST */;\n    case 1:\n    case \"LONG_CAST\":\n      return 1 /* LONG_CAST */;\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum CastType\");\n  }\n}\nfunction castTypeToJSON(object) {\n  switch (object) {\n    case 0 /* CAST */:\n      return \"CAST\";\n    case 1 /* LONG_CAST */:\n      return \"LONG_CAST\";\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum CastType\");\n  }\n}\nvar ReactionType = /* @__PURE__ */ ((ReactionType2) => {\n  ReactionType2[ReactionType2[\"NONE\"] = 0] = \"NONE\";\n  ReactionType2[ReactionType2[\"LIKE\"] = 1] = \"LIKE\";\n  ReactionType2[ReactionType2[\"RECAST\"] = 2] = \"RECAST\";\n  return ReactionType2;\n})(ReactionType || {});\nfunction reactionTypeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"REACTION_TYPE_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"REACTION_TYPE_LIKE\":\n      return 1 /* LIKE */;\n    case 2:\n    case \"REACTION_TYPE_RECAST\":\n      return 2 /* RECAST */;\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum ReactionType\");\n  }\n}\nfunction reactionTypeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"REACTION_TYPE_NONE\";\n    case 1 /* LIKE */:\n      return \"REACTION_TYPE_LIKE\";\n    case 2 /* RECAST */:\n      return \"REACTION_TYPE_RECAST\";\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum ReactionType\");\n  }\n}\nvar Protocol = /* @__PURE__ */ ((Protocol2) => {\n  Protocol2[Protocol2[\"ETHEREUM\"] = 0] = \"ETHEREUM\";\n  Protocol2[Protocol2[\"SOLANA\"] = 1] = \"SOLANA\";\n  return Protocol2;\n})(Protocol || {});\nfunction protocolFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"PROTOCOL_ETHEREUM\":\n      return 0 /* ETHEREUM */;\n    case 1:\n    case \"PROTOCOL_SOLANA\":\n      return 1 /* SOLANA */;\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum Protocol\");\n  }\n}\nfunction protocolToJSON(object) {\n  switch (object) {\n    case 0 /* ETHEREUM */:\n      return \"PROTOCOL_ETHEREUM\";\n    case 1 /* SOLANA */:\n      return \"PROTOCOL_SOLANA\";\n    default:\n      throw new tsProtoGlobalThis.Error(\"Unrecognized enum value \" + object + \" for enum Protocol\");\n  }\n}\nfunction createBaseMessage() {\n  return {\n    data: void 0,\n    hash: new Uint8Array(),\n    hashScheme: 0,\n    signature: new Uint8Array(),\n    signatureScheme: 0,\n    signer: new Uint8Array(),\n    dataBytes: void 0\n  };\n}\nvar Message = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.data !== void 0) {\n      MessageData.encode(message.data, writer.uint32(10).fork()).ldelim();\n    }\n    if (message.hash.length !== 0) {\n      writer.uint32(18).bytes(message.hash);\n    }\n    if (message.hashScheme !== 0) {\n      writer.uint32(24).int32(message.hashScheme);\n    }\n    if (message.signature.length !== 0) {\n      writer.uint32(34).bytes(message.signature);\n    }\n    if (message.signatureScheme !== 0) {\n      writer.uint32(40).int32(message.signatureScheme);\n    }\n    if (message.signer.length !== 0) {\n      writer.uint32(50).bytes(message.signer);\n    }\n    if (message.dataBytes !== void 0) {\n      writer.uint32(58).bytes(message.dataBytes);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseMessage();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.data = MessageData.decode(reader, reader.uint32());\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.hash = reader.bytes();\n          continue;\n        case 3:\n          if (tag != 24) {\n            break;\n          }\n          message.hashScheme = reader.int32();\n          continue;\n        case 4:\n          if (tag != 34) {\n            break;\n          }\n          message.signature = reader.bytes();\n          continue;\n        case 5:\n          if (tag != 40) {\n            break;\n          }\n          message.signatureScheme = reader.int32();\n          continue;\n        case 6:\n          if (tag != 50) {\n            break;\n          }\n          message.signer = reader.bytes();\n          continue;\n        case 7:\n          if (tag != 58) {\n            break;\n          }\n          message.dataBytes = reader.bytes();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      data: isSet(object.data) ? MessageData.fromJSON(object.data) : void 0,\n      hash: isSet(object.hash) ? bytesFromBase64(object.hash) : new Uint8Array(),\n      hashScheme: isSet(object.hashScheme) ? hashSchemeFromJSON(object.hashScheme) : 0,\n      signature: isSet(object.signature) ? bytesFromBase64(object.signature) : new Uint8Array(),\n      signatureScheme: isSet(object.signatureScheme) ? signatureSchemeFromJSON(object.signatureScheme) : 0,\n      signer: isSet(object.signer) ? bytesFromBase64(object.signer) : new Uint8Array(),\n      dataBytes: isSet(object.dataBytes) ? bytesFromBase64(object.dataBytes) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.data !== void 0 && (obj.data = message.data ? MessageData.toJSON(message.data) : void 0);\n    message.hash !== void 0 && (obj.hash = base64FromBytes(message.hash !== void 0 ? message.hash : new Uint8Array()));\n    message.hashScheme !== void 0 && (obj.hashScheme = hashSchemeToJSON(message.hashScheme));\n    message.signature !== void 0 && (obj.signature = base64FromBytes(message.signature !== void 0 ? message.signature : new Uint8Array()));\n    message.signatureScheme !== void 0 && (obj.signatureScheme = signatureSchemeToJSON(message.signatureScheme));\n    message.signer !== void 0 && (obj.signer = base64FromBytes(message.signer !== void 0 ? message.signer : new Uint8Array()));\n    message.dataBytes !== void 0 && (obj.dataBytes = message.dataBytes !== void 0 ? base64FromBytes(message.dataBytes) : void 0);\n    return obj;\n  },\n  create(base) {\n    return Message.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseMessage();\n    message.data = object.data !== void 0 && object.data !== null ? MessageData.fromPartial(object.data) : void 0;\n    message.hash = object.hash ?? new Uint8Array();\n    message.hashScheme = object.hashScheme ?? 0;\n    message.signature = object.signature ?? new Uint8Array();\n    message.signatureScheme = object.signatureScheme ?? 0;\n    message.signer = object.signer ?? new Uint8Array();\n    message.dataBytes = object.dataBytes ?? void 0;\n    return message;\n  }\n};\nfunction createBaseMessageData() {\n  return {\n    type: 0,\n    fid: 0,\n    timestamp: 0,\n    network: 0,\n    castAddBody: void 0,\n    castRemoveBody: void 0,\n    reactionBody: void 0,\n    verificationAddAddressBody: void 0,\n    verificationRemoveBody: void 0,\n    userDataBody: void 0,\n    linkBody: void 0,\n    usernameProofBody: void 0,\n    frameActionBody: void 0,\n    linkCompactStateBody: void 0\n  };\n}\nvar MessageData = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.type !== 0) {\n      writer.uint32(8).int32(message.type);\n    }\n    if (message.fid !== 0) {\n      writer.uint32(16).uint64(message.fid);\n    }\n    if (message.timestamp !== 0) {\n      writer.uint32(24).uint32(message.timestamp);\n    }\n    if (message.network !== 0) {\n      writer.uint32(32).int32(message.network);\n    }\n    if (message.castAddBody !== void 0) {\n      CastAddBody.encode(message.castAddBody, writer.uint32(42).fork()).ldelim();\n    }\n    if (message.castRemoveBody !== void 0) {\n      CastRemoveBody.encode(message.castRemoveBody, writer.uint32(50).fork()).ldelim();\n    }\n    if (message.reactionBody !== void 0) {\n      ReactionBody.encode(message.reactionBody, writer.uint32(58).fork()).ldelim();\n    }\n    if (message.verificationAddAddressBody !== void 0) {\n      VerificationAddAddressBody.encode(message.verificationAddAddressBody, writer.uint32(74).fork()).ldelim();\n    }\n    if (message.verificationRemoveBody !== void 0) {\n      VerificationRemoveBody.encode(message.verificationRemoveBody, writer.uint32(82).fork()).ldelim();\n    }\n    if (message.userDataBody !== void 0) {\n      UserDataBody.encode(message.userDataBody, writer.uint32(98).fork()).ldelim();\n    }\n    if (message.linkBody !== void 0) {\n      LinkBody.encode(message.linkBody, writer.uint32(114).fork()).ldelim();\n    }\n    if (message.usernameProofBody !== void 0) {\n      _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.encode(message.usernameProofBody, writer.uint32(122).fork()).ldelim();\n    }\n    if (message.frameActionBody !== void 0) {\n      FrameActionBody.encode(message.frameActionBody, writer.uint32(130).fork()).ldelim();\n    }\n    if (message.linkCompactStateBody !== void 0) {\n      LinkCompactStateBody.encode(message.linkCompactStateBody, writer.uint32(138).fork()).ldelim();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseMessageData();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n        case 2:\n          if (tag != 16) {\n            break;\n          }\n          message.fid = longToNumber(reader.uint64());\n          continue;\n        case 3:\n          if (tag != 24) {\n            break;\n          }\n          message.timestamp = reader.uint32();\n          continue;\n        case 4:\n          if (tag != 32) {\n            break;\n          }\n          message.network = reader.int32();\n          continue;\n        case 5:\n          if (tag != 42) {\n            break;\n          }\n          message.castAddBody = CastAddBody.decode(reader, reader.uint32());\n          continue;\n        case 6:\n          if (tag != 50) {\n            break;\n          }\n          message.castRemoveBody = CastRemoveBody.decode(reader, reader.uint32());\n          continue;\n        case 7:\n          if (tag != 58) {\n            break;\n          }\n          message.reactionBody = ReactionBody.decode(reader, reader.uint32());\n          continue;\n        case 9:\n          if (tag != 74) {\n            break;\n          }\n          message.verificationAddAddressBody = VerificationAddAddressBody.decode(reader, reader.uint32());\n          continue;\n        case 10:\n          if (tag != 82) {\n            break;\n          }\n          message.verificationRemoveBody = VerificationRemoveBody.decode(reader, reader.uint32());\n          continue;\n        case 12:\n          if (tag != 98) {\n            break;\n          }\n          message.userDataBody = UserDataBody.decode(reader, reader.uint32());\n          continue;\n        case 14:\n          if (tag != 114) {\n            break;\n          }\n          message.linkBody = LinkBody.decode(reader, reader.uint32());\n          continue;\n        case 15:\n          if (tag != 122) {\n            break;\n          }\n          message.usernameProofBody = _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.decode(reader, reader.uint32());\n          continue;\n        case 16:\n          if (tag != 130) {\n            break;\n          }\n          message.frameActionBody = FrameActionBody.decode(reader, reader.uint32());\n          continue;\n        case 17:\n          if (tag != 138) {\n            break;\n          }\n          message.linkCompactStateBody = LinkCompactStateBody.decode(reader, reader.uint32());\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      type: isSet(object.type) ? messageTypeFromJSON(object.type) : 0,\n      fid: isSet(object.fid) ? Number(object.fid) : 0,\n      timestamp: isSet(object.timestamp) ? Number(object.timestamp) : 0,\n      network: isSet(object.network) ? farcasterNetworkFromJSON(object.network) : 0,\n      castAddBody: isSet(object.castAddBody) ? CastAddBody.fromJSON(object.castAddBody) : void 0,\n      castRemoveBody: isSet(object.castRemoveBody) ? CastRemoveBody.fromJSON(object.castRemoveBody) : void 0,\n      reactionBody: isSet(object.reactionBody) ? ReactionBody.fromJSON(object.reactionBody) : void 0,\n      verificationAddAddressBody: isSet(object.verificationAddAddressBody) ? VerificationAddAddressBody.fromJSON(object.verificationAddAddressBody) : void 0,\n      verificationRemoveBody: isSet(object.verificationRemoveBody) ? VerificationRemoveBody.fromJSON(object.verificationRemoveBody) : void 0,\n      userDataBody: isSet(object.userDataBody) ? UserDataBody.fromJSON(object.userDataBody) : void 0,\n      linkBody: isSet(object.linkBody) ? LinkBody.fromJSON(object.linkBody) : void 0,\n      usernameProofBody: isSet(object.usernameProofBody) ? _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.fromJSON(object.usernameProofBody) : void 0,\n      frameActionBody: isSet(object.frameActionBody) ? FrameActionBody.fromJSON(object.frameActionBody) : void 0,\n      linkCompactStateBody: isSet(object.linkCompactStateBody) ? LinkCompactStateBody.fromJSON(object.linkCompactStateBody) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.type !== void 0 && (obj.type = messageTypeToJSON(message.type));\n    message.fid !== void 0 && (obj.fid = Math.round(message.fid));\n    message.timestamp !== void 0 && (obj.timestamp = Math.round(message.timestamp));\n    message.network !== void 0 && (obj.network = farcasterNetworkToJSON(message.network));\n    message.castAddBody !== void 0 && (obj.castAddBody = message.castAddBody ? CastAddBody.toJSON(message.castAddBody) : void 0);\n    message.castRemoveBody !== void 0 && (obj.castRemoveBody = message.castRemoveBody ? CastRemoveBody.toJSON(message.castRemoveBody) : void 0);\n    message.reactionBody !== void 0 && (obj.reactionBody = message.reactionBody ? ReactionBody.toJSON(message.reactionBody) : void 0);\n    message.verificationAddAddressBody !== void 0 && (obj.verificationAddAddressBody = message.verificationAddAddressBody ? VerificationAddAddressBody.toJSON(message.verificationAddAddressBody) : void 0);\n    message.verificationRemoveBody !== void 0 && (obj.verificationRemoveBody = message.verificationRemoveBody ? VerificationRemoveBody.toJSON(message.verificationRemoveBody) : void 0);\n    message.userDataBody !== void 0 && (obj.userDataBody = message.userDataBody ? UserDataBody.toJSON(message.userDataBody) : void 0);\n    message.linkBody !== void 0 && (obj.linkBody = message.linkBody ? LinkBody.toJSON(message.linkBody) : void 0);\n    message.usernameProofBody !== void 0 && (obj.usernameProofBody = message.usernameProofBody ? _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.toJSON(message.usernameProofBody) : void 0);\n    message.frameActionBody !== void 0 && (obj.frameActionBody = message.frameActionBody ? FrameActionBody.toJSON(message.frameActionBody) : void 0);\n    message.linkCompactStateBody !== void 0 && (obj.linkCompactStateBody = message.linkCompactStateBody ? LinkCompactStateBody.toJSON(message.linkCompactStateBody) : void 0);\n    return obj;\n  },\n  create(base) {\n    return MessageData.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseMessageData();\n    message.type = object.type ?? 0;\n    message.fid = object.fid ?? 0;\n    message.timestamp = object.timestamp ?? 0;\n    message.network = object.network ?? 0;\n    message.castAddBody = object.castAddBody !== void 0 && object.castAddBody !== null ? CastAddBody.fromPartial(object.castAddBody) : void 0;\n    message.castRemoveBody = object.castRemoveBody !== void 0 && object.castRemoveBody !== null ? CastRemoveBody.fromPartial(object.castRemoveBody) : void 0;\n    message.reactionBody = object.reactionBody !== void 0 && object.reactionBody !== null ? ReactionBody.fromPartial(object.reactionBody) : void 0;\n    message.verificationAddAddressBody = object.verificationAddAddressBody !== void 0 && object.verificationAddAddressBody !== null ? VerificationAddAddressBody.fromPartial(object.verificationAddAddressBody) : void 0;\n    message.verificationRemoveBody = object.verificationRemoveBody !== void 0 && object.verificationRemoveBody !== null ? VerificationRemoveBody.fromPartial(object.verificationRemoveBody) : void 0;\n    message.userDataBody = object.userDataBody !== void 0 && object.userDataBody !== null ? UserDataBody.fromPartial(object.userDataBody) : void 0;\n    message.linkBody = object.linkBody !== void 0 && object.linkBody !== null ? LinkBody.fromPartial(object.linkBody) : void 0;\n    message.usernameProofBody = object.usernameProofBody !== void 0 && object.usernameProofBody !== null ? _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.fromPartial(object.usernameProofBody) : void 0;\n    message.frameActionBody = object.frameActionBody !== void 0 && object.frameActionBody !== null ? FrameActionBody.fromPartial(object.frameActionBody) : void 0;\n    message.linkCompactStateBody = object.linkCompactStateBody !== void 0 && object.linkCompactStateBody !== null ? LinkCompactStateBody.fromPartial(object.linkCompactStateBody) : void 0;\n    return message;\n  }\n};\nfunction createBaseUserDataBody() {\n  return { type: 0, value: \"\" };\n}\nvar UserDataBody = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.type !== 0) {\n      writer.uint32(8).int32(message.type);\n    }\n    if (message.value !== \"\") {\n      writer.uint32(18).string(message.value);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseUserDataBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.value = reader.string();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      type: isSet(object.type) ? userDataTypeFromJSON(object.type) : 0,\n      value: isSet(object.value) ? String(object.value) : \"\"\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.type !== void 0 && (obj.type = userDataTypeToJSON(message.type));\n    message.value !== void 0 && (obj.value = message.value);\n    return obj;\n  },\n  create(base) {\n    return UserDataBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseUserDataBody();\n    message.type = object.type ?? 0;\n    message.value = object.value ?? \"\";\n    return message;\n  }\n};\nfunction createBaseEmbed() {\n  return { url: void 0, castId: void 0 };\n}\nvar Embed = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.url !== void 0) {\n      writer.uint32(10).string(message.url);\n    }\n    if (message.castId !== void 0) {\n      CastId.encode(message.castId, writer.uint32(18).fork()).ldelim();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseEmbed();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.url = reader.string();\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.castId = CastId.decode(reader, reader.uint32());\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      url: isSet(object.url) ? String(object.url) : void 0,\n      castId: isSet(object.castId) ? CastId.fromJSON(object.castId) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.url !== void 0 && (obj.url = message.url);\n    message.castId !== void 0 && (obj.castId = message.castId ? CastId.toJSON(message.castId) : void 0);\n    return obj;\n  },\n  create(base) {\n    return Embed.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseEmbed();\n    message.url = object.url ?? void 0;\n    message.castId = object.castId !== void 0 && object.castId !== null ? CastId.fromPartial(object.castId) : void 0;\n    return message;\n  }\n};\nfunction createBaseCastAddBody() {\n  return {\n    embedsDeprecated: [],\n    mentions: [],\n    parentCastId: void 0,\n    parentUrl: void 0,\n    text: \"\",\n    mentionsPositions: [],\n    embeds: [],\n    type: 0\n  };\n}\nvar CastAddBody = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    for (const v of message.embedsDeprecated) {\n      writer.uint32(10).string(v);\n    }\n    writer.uint32(18).fork();\n    for (const v of message.mentions) {\n      writer.uint64(v);\n    }\n    writer.ldelim();\n    if (message.parentCastId !== void 0) {\n      CastId.encode(message.parentCastId, writer.uint32(26).fork()).ldelim();\n    }\n    if (message.parentUrl !== void 0) {\n      writer.uint32(58).string(message.parentUrl);\n    }\n    if (message.text !== \"\") {\n      writer.uint32(34).string(message.text);\n    }\n    writer.uint32(42).fork();\n    for (const v of message.mentionsPositions) {\n      writer.uint32(v);\n    }\n    writer.ldelim();\n    for (const v of message.embeds) {\n      Embed.encode(v, writer.uint32(50).fork()).ldelim();\n    }\n    if (message.type !== 0) {\n      writer.uint32(64).int32(message.type);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseCastAddBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.embedsDeprecated.push(reader.string());\n          continue;\n        case 2:\n          if (tag == 16) {\n            message.mentions.push(longToNumber(reader.uint64()));\n            continue;\n          }\n          if (tag == 18) {\n            const end2 = reader.uint32() + reader.pos;\n            while (reader.pos < end2) {\n              message.mentions.push(longToNumber(reader.uint64()));\n            }\n            continue;\n          }\n          break;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.parentCastId = CastId.decode(reader, reader.uint32());\n          continue;\n        case 7:\n          if (tag != 58) {\n            break;\n          }\n          message.parentUrl = reader.string();\n          continue;\n        case 4:\n          if (tag != 34) {\n            break;\n          }\n          message.text = reader.string();\n          continue;\n        case 5:\n          if (tag == 40) {\n            message.mentionsPositions.push(reader.uint32());\n            continue;\n          }\n          if (tag == 42) {\n            const end2 = reader.uint32() + reader.pos;\n            while (reader.pos < end2) {\n              message.mentionsPositions.push(reader.uint32());\n            }\n            continue;\n          }\n          break;\n        case 6:\n          if (tag != 50) {\n            break;\n          }\n          message.embeds.push(Embed.decode(reader, reader.uint32()));\n          continue;\n        case 8:\n          if (tag != 64) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      embedsDeprecated: Array.isArray(object?.embedsDeprecated) ? object.embedsDeprecated.map((e) => String(e)) : [],\n      mentions: Array.isArray(object?.mentions) ? object.mentions.map((e) => Number(e)) : [],\n      parentCastId: isSet(object.parentCastId) ? CastId.fromJSON(object.parentCastId) : void 0,\n      parentUrl: isSet(object.parentUrl) ? String(object.parentUrl) : void 0,\n      text: isSet(object.text) ? String(object.text) : \"\",\n      mentionsPositions: Array.isArray(object?.mentionsPositions) ? object.mentionsPositions.map((e) => Number(e)) : [],\n      embeds: Array.isArray(object?.embeds) ? object.embeds.map((e) => Embed.fromJSON(e)) : [],\n      type: isSet(object.type) ? castTypeFromJSON(object.type) : 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    if (message.embedsDeprecated) {\n      obj.embedsDeprecated = message.embedsDeprecated.map((e) => e);\n    } else {\n      obj.embedsDeprecated = [];\n    }\n    if (message.mentions) {\n      obj.mentions = message.mentions.map((e) => Math.round(e));\n    } else {\n      obj.mentions = [];\n    }\n    message.parentCastId !== void 0 && (obj.parentCastId = message.parentCastId ? CastId.toJSON(message.parentCastId) : void 0);\n    message.parentUrl !== void 0 && (obj.parentUrl = message.parentUrl);\n    message.text !== void 0 && (obj.text = message.text);\n    if (message.mentionsPositions) {\n      obj.mentionsPositions = message.mentionsPositions.map((e) => Math.round(e));\n    } else {\n      obj.mentionsPositions = [];\n    }\n    if (message.embeds) {\n      obj.embeds = message.embeds.map((e) => e ? Embed.toJSON(e) : void 0);\n    } else {\n      obj.embeds = [];\n    }\n    message.type !== void 0 && (obj.type = castTypeToJSON(message.type));\n    return obj;\n  },\n  create(base) {\n    return CastAddBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseCastAddBody();\n    message.embedsDeprecated = object.embedsDeprecated?.map((e) => e) || [];\n    message.mentions = object.mentions?.map((e) => e) || [];\n    message.parentCastId = object.parentCastId !== void 0 && object.parentCastId !== null ? CastId.fromPartial(object.parentCastId) : void 0;\n    message.parentUrl = object.parentUrl ?? void 0;\n    message.text = object.text ?? \"\";\n    message.mentionsPositions = object.mentionsPositions?.map((e) => e) || [];\n    message.embeds = object.embeds?.map((e) => Embed.fromPartial(e)) || [];\n    message.type = object.type ?? 0;\n    return message;\n  }\n};\nfunction createBaseCastRemoveBody() {\n  return { targetHash: new Uint8Array() };\n}\nvar CastRemoveBody = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.targetHash.length !== 0) {\n      writer.uint32(10).bytes(message.targetHash);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseCastRemoveBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.targetHash = reader.bytes();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return { targetHash: isSet(object.targetHash) ? bytesFromBase64(object.targetHash) : new Uint8Array() };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.targetHash !== void 0 && (obj.targetHash = base64FromBytes(message.targetHash !== void 0 ? message.targetHash : new Uint8Array()));\n    return obj;\n  },\n  create(base) {\n    return CastRemoveBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseCastRemoveBody();\n    message.targetHash = object.targetHash ?? new Uint8Array();\n    return message;\n  }\n};\nfunction createBaseCastId() {\n  return { fid: 0, hash: new Uint8Array() };\n}\nvar CastId = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.fid !== 0) {\n      writer.uint32(8).uint64(message.fid);\n    }\n    if (message.hash.length !== 0) {\n      writer.uint32(18).bytes(message.hash);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseCastId();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.fid = longToNumber(reader.uint64());\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.hash = reader.bytes();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      fid: isSet(object.fid) ? Number(object.fid) : 0,\n      hash: isSet(object.hash) ? bytesFromBase64(object.hash) : new Uint8Array()\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.fid !== void 0 && (obj.fid = Math.round(message.fid));\n    message.hash !== void 0 && (obj.hash = base64FromBytes(message.hash !== void 0 ? message.hash : new Uint8Array()));\n    return obj;\n  },\n  create(base) {\n    return CastId.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseCastId();\n    message.fid = object.fid ?? 0;\n    message.hash = object.hash ?? new Uint8Array();\n    return message;\n  }\n};\nfunction createBaseReactionBody() {\n  return { type: 0, targetCastId: void 0, targetUrl: void 0 };\n}\nvar ReactionBody = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.type !== 0) {\n      writer.uint32(8).int32(message.type);\n    }\n    if (message.targetCastId !== void 0) {\n      CastId.encode(message.targetCastId, writer.uint32(18).fork()).ldelim();\n    }\n    if (message.targetUrl !== void 0) {\n      writer.uint32(26).string(message.targetUrl);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseReactionBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.targetCastId = CastId.decode(reader, reader.uint32());\n          continue;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.targetUrl = reader.string();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      type: isSet(object.type) ? reactionTypeFromJSON(object.type) : 0,\n      targetCastId: isSet(object.targetCastId) ? CastId.fromJSON(object.targetCastId) : void 0,\n      targetUrl: isSet(object.targetUrl) ? String(object.targetUrl) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.type !== void 0 && (obj.type = reactionTypeToJSON(message.type));\n    message.targetCastId !== void 0 && (obj.targetCastId = message.targetCastId ? CastId.toJSON(message.targetCastId) : void 0);\n    message.targetUrl !== void 0 && (obj.targetUrl = message.targetUrl);\n    return obj;\n  },\n  create(base) {\n    return ReactionBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseReactionBody();\n    message.type = object.type ?? 0;\n    message.targetCastId = object.targetCastId !== void 0 && object.targetCastId !== null ? CastId.fromPartial(object.targetCastId) : void 0;\n    message.targetUrl = object.targetUrl ?? void 0;\n    return message;\n  }\n};\nfunction createBaseVerificationAddAddressBody() {\n  return {\n    address: new Uint8Array(),\n    claimSignature: new Uint8Array(),\n    blockHash: new Uint8Array(),\n    verificationType: 0,\n    chainId: 0,\n    protocol: 0\n  };\n}\nvar VerificationAddAddressBody = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.address.length !== 0) {\n      writer.uint32(10).bytes(message.address);\n    }\n    if (message.claimSignature.length !== 0) {\n      writer.uint32(18).bytes(message.claimSignature);\n    }\n    if (message.blockHash.length !== 0) {\n      writer.uint32(26).bytes(message.blockHash);\n    }\n    if (message.verificationType !== 0) {\n      writer.uint32(32).uint32(message.verificationType);\n    }\n    if (message.chainId !== 0) {\n      writer.uint32(40).uint32(message.chainId);\n    }\n    if (message.protocol !== 0) {\n      writer.uint32(56).int32(message.protocol);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseVerificationAddAddressBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.address = reader.bytes();\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.claimSignature = reader.bytes();\n          continue;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.blockHash = reader.bytes();\n          continue;\n        case 4:\n          if (tag != 32) {\n            break;\n          }\n          message.verificationType = reader.uint32();\n          continue;\n        case 5:\n          if (tag != 40) {\n            break;\n          }\n          message.chainId = reader.uint32();\n          continue;\n        case 7:\n          if (tag != 56) {\n            break;\n          }\n          message.protocol = reader.int32();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      address: isSet(object.address) ? bytesFromBase64(object.address) : new Uint8Array(),\n      claimSignature: isSet(object.claimSignature) ? bytesFromBase64(object.claimSignature) : new Uint8Array(),\n      blockHash: isSet(object.blockHash) ? bytesFromBase64(object.blockHash) : new Uint8Array(),\n      verificationType: isSet(object.verificationType) ? Number(object.verificationType) : 0,\n      chainId: isSet(object.chainId) ? Number(object.chainId) : 0,\n      protocol: isSet(object.protocol) ? protocolFromJSON(object.protocol) : 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.address !== void 0 && (obj.address = base64FromBytes(message.address !== void 0 ? message.address : new Uint8Array()));\n    message.claimSignature !== void 0 && (obj.claimSignature = base64FromBytes(\n      message.claimSignature !== void 0 ? message.claimSignature : new Uint8Array()\n    ));\n    message.blockHash !== void 0 && (obj.blockHash = base64FromBytes(message.blockHash !== void 0 ? message.blockHash : new Uint8Array()));\n    message.verificationType !== void 0 && (obj.verificationType = Math.round(message.verificationType));\n    message.chainId !== void 0 && (obj.chainId = Math.round(message.chainId));\n    message.protocol !== void 0 && (obj.protocol = protocolToJSON(message.protocol));\n    return obj;\n  },\n  create(base) {\n    return VerificationAddAddressBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseVerificationAddAddressBody();\n    message.address = object.address ?? new Uint8Array();\n    message.claimSignature = object.claimSignature ?? new Uint8Array();\n    message.blockHash = object.blockHash ?? new Uint8Array();\n    message.verificationType = object.verificationType ?? 0;\n    message.chainId = object.chainId ?? 0;\n    message.protocol = object.protocol ?? 0;\n    return message;\n  }\n};\nfunction createBaseVerificationRemoveBody() {\n  return { address: new Uint8Array(), protocol: 0 };\n}\nvar VerificationRemoveBody = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.address.length !== 0) {\n      writer.uint32(10).bytes(message.address);\n    }\n    if (message.protocol !== 0) {\n      writer.uint32(16).int32(message.protocol);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseVerificationRemoveBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.address = reader.bytes();\n          continue;\n        case 2:\n          if (tag != 16) {\n            break;\n          }\n          message.protocol = reader.int32();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      address: isSet(object.address) ? bytesFromBase64(object.address) : new Uint8Array(),\n      protocol: isSet(object.protocol) ? protocolFromJSON(object.protocol) : 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.address !== void 0 && (obj.address = base64FromBytes(message.address !== void 0 ? message.address : new Uint8Array()));\n    message.protocol !== void 0 && (obj.protocol = protocolToJSON(message.protocol));\n    return obj;\n  },\n  create(base) {\n    return VerificationRemoveBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseVerificationRemoveBody();\n    message.address = object.address ?? new Uint8Array();\n    message.protocol = object.protocol ?? 0;\n    return message;\n  }\n};\nfunction createBaseLinkBody() {\n  return { type: \"\", displayTimestamp: void 0, targetFid: void 0 };\n}\nvar LinkBody = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.type !== \"\") {\n      writer.uint32(10).string(message.type);\n    }\n    if (message.displayTimestamp !== void 0) {\n      writer.uint32(16).uint32(message.displayTimestamp);\n    }\n    if (message.targetFid !== void 0) {\n      writer.uint32(24).uint64(message.targetFid);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseLinkBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.type = reader.string();\n          continue;\n        case 2:\n          if (tag != 16) {\n            break;\n          }\n          message.displayTimestamp = reader.uint32();\n          continue;\n        case 3:\n          if (tag != 24) {\n            break;\n          }\n          message.targetFid = longToNumber(reader.uint64());\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      type: isSet(object.type) ? String(object.type) : \"\",\n      displayTimestamp: isSet(object.displayTimestamp) ? Number(object.displayTimestamp) : void 0,\n      targetFid: isSet(object.targetFid) ? Number(object.targetFid) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.type !== void 0 && (obj.type = message.type);\n    message.displayTimestamp !== void 0 && (obj.displayTimestamp = Math.round(message.displayTimestamp));\n    message.targetFid !== void 0 && (obj.targetFid = Math.round(message.targetFid));\n    return obj;\n  },\n  create(base) {\n    return LinkBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseLinkBody();\n    message.type = object.type ?? \"\";\n    message.displayTimestamp = object.displayTimestamp ?? void 0;\n    message.targetFid = object.targetFid ?? void 0;\n    return message;\n  }\n};\nfunction createBaseLinkCompactStateBody() {\n  return { type: \"\", targetFids: [] };\n}\nvar LinkCompactStateBody = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.type !== \"\") {\n      writer.uint32(10).string(message.type);\n    }\n    writer.uint32(18).fork();\n    for (const v of message.targetFids) {\n      writer.uint64(v);\n    }\n    writer.ldelim();\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseLinkCompactStateBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.type = reader.string();\n          continue;\n        case 2:\n          if (tag == 16) {\n            message.targetFids.push(longToNumber(reader.uint64()));\n            continue;\n          }\n          if (tag == 18) {\n            const end2 = reader.uint32() + reader.pos;\n            while (reader.pos < end2) {\n              message.targetFids.push(longToNumber(reader.uint64()));\n            }\n            continue;\n          }\n          break;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      type: isSet(object.type) ? String(object.type) : \"\",\n      targetFids: Array.isArray(object?.targetFids) ? object.targetFids.map((e) => Number(e)) : []\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.type !== void 0 && (obj.type = message.type);\n    if (message.targetFids) {\n      obj.targetFids = message.targetFids.map((e) => Math.round(e));\n    } else {\n      obj.targetFids = [];\n    }\n    return obj;\n  },\n  create(base) {\n    return LinkCompactStateBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseLinkCompactStateBody();\n    message.type = object.type ?? \"\";\n    message.targetFids = object.targetFids?.map((e) => e) || [];\n    return message;\n  }\n};\nfunction createBaseFrameActionBody() {\n  return {\n    url: new Uint8Array(),\n    buttonIndex: 0,\n    castId: void 0,\n    inputText: new Uint8Array(),\n    state: new Uint8Array(),\n    transactionId: new Uint8Array(),\n    address: new Uint8Array()\n  };\n}\nvar FrameActionBody = {\n  encode(message, writer = protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.url.length !== 0) {\n      writer.uint32(10).bytes(message.url);\n    }\n    if (message.buttonIndex !== 0) {\n      writer.uint32(16).uint32(message.buttonIndex);\n    }\n    if (message.castId !== void 0) {\n      CastId.encode(message.castId, writer.uint32(26).fork()).ldelim();\n    }\n    if (message.inputText.length !== 0) {\n      writer.uint32(34).bytes(message.inputText);\n    }\n    if (message.state.length !== 0) {\n      writer.uint32(42).bytes(message.state);\n    }\n    if (message.transactionId.length !== 0) {\n      writer.uint32(50).bytes(message.transactionId);\n    }\n    if (message.address.length !== 0) {\n      writer.uint32(58).bytes(message.address);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseFrameActionBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.url = reader.bytes();\n          continue;\n        case 2:\n          if (tag != 16) {\n            break;\n          }\n          message.buttonIndex = reader.uint32();\n          continue;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.castId = CastId.decode(reader, reader.uint32());\n          continue;\n        case 4:\n          if (tag != 34) {\n            break;\n          }\n          message.inputText = reader.bytes();\n          continue;\n        case 5:\n          if (tag != 42) {\n            break;\n          }\n          message.state = reader.bytes();\n          continue;\n        case 6:\n          if (tag != 50) {\n            break;\n          }\n          message.transactionId = reader.bytes();\n          continue;\n        case 7:\n          if (tag != 58) {\n            break;\n          }\n          message.address = reader.bytes();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      url: isSet(object.url) ? bytesFromBase64(object.url) : new Uint8Array(),\n      buttonIndex: isSet(object.buttonIndex) ? Number(object.buttonIndex) : 0,\n      castId: isSet(object.castId) ? CastId.fromJSON(object.castId) : void 0,\n      inputText: isSet(object.inputText) ? bytesFromBase64(object.inputText) : new Uint8Array(),\n      state: isSet(object.state) ? bytesFromBase64(object.state) : new Uint8Array(),\n      transactionId: isSet(object.transactionId) ? bytesFromBase64(object.transactionId) : new Uint8Array(),\n      address: isSet(object.address) ? bytesFromBase64(object.address) : new Uint8Array()\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.url !== void 0 && (obj.url = base64FromBytes(message.url !== void 0 ? message.url : new Uint8Array()));\n    message.buttonIndex !== void 0 && (obj.buttonIndex = Math.round(message.buttonIndex));\n    message.castId !== void 0 && (obj.castId = message.castId ? CastId.toJSON(message.castId) : void 0);\n    message.inputText !== void 0 && (obj.inputText = base64FromBytes(message.inputText !== void 0 ? message.inputText : new Uint8Array()));\n    message.state !== void 0 && (obj.state = base64FromBytes(message.state !== void 0 ? message.state : new Uint8Array()));\n    message.transactionId !== void 0 && (obj.transactionId = base64FromBytes(\n      message.transactionId !== void 0 ? message.transactionId : new Uint8Array()\n    ));\n    message.address !== void 0 && (obj.address = base64FromBytes(message.address !== void 0 ? message.address : new Uint8Array()));\n    return obj;\n  },\n  create(base) {\n    return FrameActionBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseFrameActionBody();\n    message.url = object.url ?? new Uint8Array();\n    message.buttonIndex = object.buttonIndex ?? 0;\n    message.castId = object.castId !== void 0 && object.castId !== null ? CastId.fromPartial(object.castId) : void 0;\n    message.inputText = object.inputText ?? new Uint8Array();\n    message.state = object.state ?? new Uint8Array();\n    message.transactionId = object.transactionId ?? new Uint8Array();\n    message.address = object.address ?? new Uint8Array();\n    return message;\n  }\n};\nvar tsProtoGlobalThis = (() => {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  throw \"Unable to locate global object\";\n})();\nfunction bytesFromBase64(b64) {\n  if (tsProtoGlobalThis.Buffer) {\n    return Uint8Array.from(tsProtoGlobalThis.Buffer.from(b64, \"base64\"));\n  } else {\n    const bin = tsProtoGlobalThis.atob(b64);\n    const arr = new Uint8Array(bin.length);\n    for (let i = 0; i < bin.length; ++i) {\n      arr[i] = bin.charCodeAt(i);\n    }\n    return arr;\n  }\n}\nfunction base64FromBytes(arr) {\n  if (tsProtoGlobalThis.Buffer) {\n    return tsProtoGlobalThis.Buffer.from(arr).toString(\"base64\");\n  } else {\n    const bin = [];\n    arr.forEach((byte) => {\n      bin.push(String.fromCharCode(byte));\n    });\n    return tsProtoGlobalThis.btoa(bin.join(\"\"));\n  }\n}\nfunction longToNumber(long) {\n  if (long.gt(Number.MAX_SAFE_INTEGER)) {\n    throw new tsProtoGlobalThis.Error(\"Value is larger than Number.MAX_SAFE_INTEGER\");\n  }\n  return long.toNumber();\n}\nif (protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.util.Long !== _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.long_default) {\n  protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.util.Long = _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.long_default;\n  protobufjs_minimal__WEBPACK_IMPORTED_MODULE_1__.configure();\n}\nfunction isSet(value) {\n  return value !== null && value !== void 0;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstV1lEWlpZTE0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRzZCOztBQUU3QjtBQUNxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0JBQWtCO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsdUJBQXVCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUJBQW1CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0JBQW9CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQkFBZ0I7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQkFBb0I7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdCQUFnQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxzREFBVSxXQUFXLHNEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHlDQUF5QztBQUN6QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDZEQUFhO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0Msc0RBQVUsV0FBVyxzREFBVTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkRBQWE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCw2REFBYTtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsNkRBQWE7QUFDOUc7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsNkNBQTZDO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRyw2REFBYTtBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLDJCQUEyQixzREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxzREFBVSxXQUFXLHNEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSw4Q0FBOEM7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLDJCQUEyQixzREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxzREFBVSxXQUFXLHNEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx1Q0FBdUM7QUFDdkMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxzREFBVSxXQUFXLHNEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDZDQUE2QztBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsMkJBQTJCLHNEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLHNEQUFVLFdBQVcsc0RBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGdEQUFnRDtBQUNoRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLDJCQUEyQixzREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxzREFBVSxXQUFXLHNEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3Q0FBd0M7QUFDeEMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLDJCQUEyQixzREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxzREFBVSxXQUFXLHNEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsOENBQThDO0FBQzlDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzREFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxzREFBVSxXQUFXLHNEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDREQUE0RDtBQUM1RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0Msc0RBQVUsV0FBVyxzREFBVTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd0RBQXdEO0FBQ3hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0Msc0RBQVUsV0FBVyxzREFBVTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDBDQUEwQztBQUMxQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLHNEQUFVLFdBQVcsc0RBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHNEQUFzRDtBQUN0RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0Msc0RBQVUsV0FBVyxzREFBVTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsaURBQWlEO0FBQ2pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLG9EQUFRLFVBQVUsNERBQVk7QUFDbEMsRUFBRSxvREFBUSxRQUFRLDREQUFZO0FBQzlCLEVBQUUseURBQWE7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUF3Q0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLVdZRFpaWUxNLmpzPzk5ZmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgVXNlck5hbWVQcm9vZixcbiAgbG9uZ19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLUpHVEgyQU5DLmpzXCI7XG5cbi8vIHNyYy9mYXJjYXN0ZXIvZ2VuZXJhdGVkL21lc3NhZ2UudHNcbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xudmFyIEhhc2hTY2hlbWUgPSAvKiBAX19QVVJFX18gKi8gKChIYXNoU2NoZW1lMikgPT4ge1xuICBIYXNoU2NoZW1lMltIYXNoU2NoZW1lMltcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICBIYXNoU2NoZW1lMltIYXNoU2NoZW1lMltcIkJMQUtFM1wiXSA9IDFdID0gXCJCTEFLRTNcIjtcbiAgcmV0dXJuIEhhc2hTY2hlbWUyO1xufSkoSGFzaFNjaGVtZSB8fCB7fSk7XG5mdW5jdGlvbiBoYXNoU2NoZW1lRnJvbUpTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwOlxuICAgIGNhc2UgXCJIQVNIX1NDSEVNRV9OT05FXCI6XG4gICAgICByZXR1cm4gMCAvKiBOT05FICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiSEFTSF9TQ0hFTUVfQkxBS0UzXCI6XG4gICAgICByZXR1cm4gMSAvKiBCTEFLRTMgKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gSGFzaFNjaGVtZVwiKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzaFNjaGVtZVRvSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDAgLyogTk9ORSAqLzpcbiAgICAgIHJldHVybiBcIkhBU0hfU0NIRU1FX05PTkVcIjtcbiAgICBjYXNlIDEgLyogQkxBS0UzICovOlxuICAgICAgcmV0dXJuIFwiSEFTSF9TQ0hFTUVfQkxBS0UzXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gSGFzaFNjaGVtZVwiKTtcbiAgfVxufVxudmFyIFNpZ25hdHVyZVNjaGVtZSA9IC8qIEBfX1BVUkVfXyAqLyAoKFNpZ25hdHVyZVNjaGVtZTIpID0+IHtcbiAgU2lnbmF0dXJlU2NoZW1lMltTaWduYXR1cmVTY2hlbWUyW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gIFNpZ25hdHVyZVNjaGVtZTJbU2lnbmF0dXJlU2NoZW1lMltcIkVEMjU1MTlcIl0gPSAxXSA9IFwiRUQyNTUxOVwiO1xuICBTaWduYXR1cmVTY2hlbWUyW1NpZ25hdHVyZVNjaGVtZTJbXCJFSVA3MTJcIl0gPSAyXSA9IFwiRUlQNzEyXCI7XG4gIHJldHVybiBTaWduYXR1cmVTY2hlbWUyO1xufSkoU2lnbmF0dXJlU2NoZW1lIHx8IHt9KTtcbmZ1bmN0aW9uIHNpZ25hdHVyZVNjaGVtZUZyb21KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIFwiU0lHTkFUVVJFX1NDSEVNRV9OT05FXCI6XG4gICAgICByZXR1cm4gMCAvKiBOT05FICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiU0lHTkFUVVJFX1NDSEVNRV9FRDI1NTE5XCI6XG4gICAgICByZXR1cm4gMSAvKiBFRDI1NTE5ICovO1xuICAgIGNhc2UgMjpcbiAgICBjYXNlIFwiU0lHTkFUVVJFX1NDSEVNRV9FSVA3MTJcIjpcbiAgICAgIHJldHVybiAyIC8qIEVJUDcxMiAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBTaWduYXR1cmVTY2hlbWVcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHNpZ25hdHVyZVNjaGVtZVRvSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDAgLyogTk9ORSAqLzpcbiAgICAgIHJldHVybiBcIlNJR05BVFVSRV9TQ0hFTUVfTk9ORVwiO1xuICAgIGNhc2UgMSAvKiBFRDI1NTE5ICovOlxuICAgICAgcmV0dXJuIFwiU0lHTkFUVVJFX1NDSEVNRV9FRDI1NTE5XCI7XG4gICAgY2FzZSAyIC8qIEVJUDcxMiAqLzpcbiAgICAgIHJldHVybiBcIlNJR05BVFVSRV9TQ0hFTUVfRUlQNzEyXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gU2lnbmF0dXJlU2NoZW1lXCIpO1xuICB9XG59XG52YXIgTWVzc2FnZVR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChNZXNzYWdlVHlwZTIpID0+IHtcbiAgTWVzc2FnZVR5cGUyW01lc3NhZ2VUeXBlMltcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICBNZXNzYWdlVHlwZTJbTWVzc2FnZVR5cGUyW1wiQ0FTVF9BRERcIl0gPSAxXSA9IFwiQ0FTVF9BRERcIjtcbiAgTWVzc2FnZVR5cGUyW01lc3NhZ2VUeXBlMltcIkNBU1RfUkVNT1ZFXCJdID0gMl0gPSBcIkNBU1RfUkVNT1ZFXCI7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJSRUFDVElPTl9BRERcIl0gPSAzXSA9IFwiUkVBQ1RJT05fQUREXCI7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJSRUFDVElPTl9SRU1PVkVcIl0gPSA0XSA9IFwiUkVBQ1RJT05fUkVNT1ZFXCI7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJMSU5LX0FERFwiXSA9IDVdID0gXCJMSU5LX0FERFwiO1xuICBNZXNzYWdlVHlwZTJbTWVzc2FnZVR5cGUyW1wiTElOS19SRU1PVkVcIl0gPSA2XSA9IFwiTElOS19SRU1PVkVcIjtcbiAgTWVzc2FnZVR5cGUyW01lc3NhZ2VUeXBlMltcIlZFUklGSUNBVElPTl9BRERfRVRIX0FERFJFU1NcIl0gPSA3XSA9IFwiVkVSSUZJQ0FUSU9OX0FERF9FVEhfQUREUkVTU1wiO1xuICBNZXNzYWdlVHlwZTJbTWVzc2FnZVR5cGUyW1wiVkVSSUZJQ0FUSU9OX1JFTU9WRVwiXSA9IDhdID0gXCJWRVJJRklDQVRJT05fUkVNT1ZFXCI7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJVU0VSX0RBVEFfQUREXCJdID0gMTFdID0gXCJVU0VSX0RBVEFfQUREXCI7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJVU0VSTkFNRV9QUk9PRlwiXSA9IDEyXSA9IFwiVVNFUk5BTUVfUFJPT0ZcIjtcbiAgTWVzc2FnZVR5cGUyW01lc3NhZ2VUeXBlMltcIkZSQU1FX0FDVElPTlwiXSA9IDEzXSA9IFwiRlJBTUVfQUNUSU9OXCI7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJMSU5LX0NPTVBBQ1RfU1RBVEVcIl0gPSAxNF0gPSBcIkxJTktfQ09NUEFDVF9TVEFURVwiO1xuICByZXR1cm4gTWVzc2FnZVR5cGUyO1xufSkoTWVzc2FnZVR5cGUgfHwge30pO1xuZnVuY3Rpb24gbWVzc2FnZVR5cGVGcm9tSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9OT05FXCI6XG4gICAgICByZXR1cm4gMCAvKiBOT05FICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiTUVTU0FHRV9UWVBFX0NBU1RfQUREXCI6XG4gICAgICByZXR1cm4gMSAvKiBDQVNUX0FERCAqLztcbiAgICBjYXNlIDI6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9DQVNUX1JFTU9WRVwiOlxuICAgICAgcmV0dXJuIDIgLyogQ0FTVF9SRU1PVkUgKi87XG4gICAgY2FzZSAzOlxuICAgIGNhc2UgXCJNRVNTQUdFX1RZUEVfUkVBQ1RJT05fQUREXCI6XG4gICAgICByZXR1cm4gMyAvKiBSRUFDVElPTl9BREQgKi87XG4gICAgY2FzZSA0OlxuICAgIGNhc2UgXCJNRVNTQUdFX1RZUEVfUkVBQ1RJT05fUkVNT1ZFXCI6XG4gICAgICByZXR1cm4gNCAvKiBSRUFDVElPTl9SRU1PVkUgKi87XG4gICAgY2FzZSA1OlxuICAgIGNhc2UgXCJNRVNTQUdFX1RZUEVfTElOS19BRERcIjpcbiAgICAgIHJldHVybiA1IC8qIExJTktfQUREICovO1xuICAgIGNhc2UgNjpcbiAgICBjYXNlIFwiTUVTU0FHRV9UWVBFX0xJTktfUkVNT1ZFXCI6XG4gICAgICByZXR1cm4gNiAvKiBMSU5LX1JFTU9WRSAqLztcbiAgICBjYXNlIDc6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9WRVJJRklDQVRJT05fQUREX0VUSF9BRERSRVNTXCI6XG4gICAgICByZXR1cm4gNyAvKiBWRVJJRklDQVRJT05fQUREX0VUSF9BRERSRVNTICovO1xuICAgIGNhc2UgODpcbiAgICBjYXNlIFwiTUVTU0FHRV9UWVBFX1ZFUklGSUNBVElPTl9SRU1PVkVcIjpcbiAgICAgIHJldHVybiA4IC8qIFZFUklGSUNBVElPTl9SRU1PVkUgKi87XG4gICAgY2FzZSAxMTpcbiAgICBjYXNlIFwiTUVTU0FHRV9UWVBFX1VTRVJfREFUQV9BRERcIjpcbiAgICAgIHJldHVybiAxMSAvKiBVU0VSX0RBVEFfQUREICovO1xuICAgIGNhc2UgMTI6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9VU0VSTkFNRV9QUk9PRlwiOlxuICAgICAgcmV0dXJuIDEyIC8qIFVTRVJOQU1FX1BST09GICovO1xuICAgIGNhc2UgMTM6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9GUkFNRV9BQ1RJT05cIjpcbiAgICAgIHJldHVybiAxMyAvKiBGUkFNRV9BQ1RJT04gKi87XG4gICAgY2FzZSAxNDpcbiAgICBjYXNlIFwiTUVTU0FHRV9UWVBFX0xJTktfQ09NUEFDVF9TVEFURVwiOlxuICAgICAgcmV0dXJuIDE0IC8qIExJTktfQ09NUEFDVF9TVEFURSAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBNZXNzYWdlVHlwZVwiKTtcbiAgfVxufVxuZnVuY3Rpb24gbWVzc2FnZVR5cGVUb0pTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwIC8qIE5PTkUgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfTk9ORVwiO1xuICAgIGNhc2UgMSAvKiBDQVNUX0FERCAqLzpcbiAgICAgIHJldHVybiBcIk1FU1NBR0VfVFlQRV9DQVNUX0FERFwiO1xuICAgIGNhc2UgMiAvKiBDQVNUX1JFTU9WRSAqLzpcbiAgICAgIHJldHVybiBcIk1FU1NBR0VfVFlQRV9DQVNUX1JFTU9WRVwiO1xuICAgIGNhc2UgMyAvKiBSRUFDVElPTl9BREQgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfUkVBQ1RJT05fQUREXCI7XG4gICAgY2FzZSA0IC8qIFJFQUNUSU9OX1JFTU9WRSAqLzpcbiAgICAgIHJldHVybiBcIk1FU1NBR0VfVFlQRV9SRUFDVElPTl9SRU1PVkVcIjtcbiAgICBjYXNlIDUgLyogTElOS19BREQgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfTElOS19BRERcIjtcbiAgICBjYXNlIDYgLyogTElOS19SRU1PVkUgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfTElOS19SRU1PVkVcIjtcbiAgICBjYXNlIDcgLyogVkVSSUZJQ0FUSU9OX0FERF9FVEhfQUREUkVTUyAqLzpcbiAgICAgIHJldHVybiBcIk1FU1NBR0VfVFlQRV9WRVJJRklDQVRJT05fQUREX0VUSF9BRERSRVNTXCI7XG4gICAgY2FzZSA4IC8qIFZFUklGSUNBVElPTl9SRU1PVkUgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfVkVSSUZJQ0FUSU9OX1JFTU9WRVwiO1xuICAgIGNhc2UgMTEgLyogVVNFUl9EQVRBX0FERCAqLzpcbiAgICAgIHJldHVybiBcIk1FU1NBR0VfVFlQRV9VU0VSX0RBVEFfQUREXCI7XG4gICAgY2FzZSAxMiAvKiBVU0VSTkFNRV9QUk9PRiAqLzpcbiAgICAgIHJldHVybiBcIk1FU1NBR0VfVFlQRV9VU0VSTkFNRV9QUk9PRlwiO1xuICAgIGNhc2UgMTMgLyogRlJBTUVfQUNUSU9OICovOlxuICAgICAgcmV0dXJuIFwiTUVTU0FHRV9UWVBFX0ZSQU1FX0FDVElPTlwiO1xuICAgIGNhc2UgMTQgLyogTElOS19DT01QQUNUX1NUQVRFICovOlxuICAgICAgcmV0dXJuIFwiTUVTU0FHRV9UWVBFX0xJTktfQ09NUEFDVF9TVEFURVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIE1lc3NhZ2VUeXBlXCIpO1xuICB9XG59XG52YXIgRmFyY2FzdGVyTmV0d29yayA9IC8qIEBfX1BVUkVfXyAqLyAoKEZhcmNhc3Rlck5ldHdvcmsyKSA9PiB7XG4gIEZhcmNhc3Rlck5ldHdvcmsyW0ZhcmNhc3Rlck5ldHdvcmsyW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gIEZhcmNhc3Rlck5ldHdvcmsyW0ZhcmNhc3Rlck5ldHdvcmsyW1wiTUFJTk5FVFwiXSA9IDFdID0gXCJNQUlOTkVUXCI7XG4gIEZhcmNhc3Rlck5ldHdvcmsyW0ZhcmNhc3Rlck5ldHdvcmsyW1wiVEVTVE5FVFwiXSA9IDJdID0gXCJURVNUTkVUXCI7XG4gIEZhcmNhc3Rlck5ldHdvcmsyW0ZhcmNhc3Rlck5ldHdvcmsyW1wiREVWTkVUXCJdID0gM10gPSBcIkRFVk5FVFwiO1xuICByZXR1cm4gRmFyY2FzdGVyTmV0d29yazI7XG59KShGYXJjYXN0ZXJOZXR3b3JrIHx8IHt9KTtcbmZ1bmN0aW9uIGZhcmNhc3Rlck5ldHdvcmtGcm9tSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIkZBUkNBU1RFUl9ORVRXT1JLX05PTkVcIjpcbiAgICAgIHJldHVybiAwIC8qIE5PTkUgKi87XG4gICAgY2FzZSAxOlxuICAgIGNhc2UgXCJGQVJDQVNURVJfTkVUV09SS19NQUlOTkVUXCI6XG4gICAgICByZXR1cm4gMSAvKiBNQUlOTkVUICovO1xuICAgIGNhc2UgMjpcbiAgICBjYXNlIFwiRkFSQ0FTVEVSX05FVFdPUktfVEVTVE5FVFwiOlxuICAgICAgcmV0dXJuIDIgLyogVEVTVE5FVCAqLztcbiAgICBjYXNlIDM6XG4gICAgY2FzZSBcIkZBUkNBU1RFUl9ORVRXT1JLX0RFVk5FVFwiOlxuICAgICAgcmV0dXJuIDMgLyogREVWTkVUICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIEZhcmNhc3Rlck5ldHdvcmtcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGZhcmNhc3Rlck5ldHdvcmtUb0pTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwIC8qIE5PTkUgKi86XG4gICAgICByZXR1cm4gXCJGQVJDQVNURVJfTkVUV09SS19OT05FXCI7XG4gICAgY2FzZSAxIC8qIE1BSU5ORVQgKi86XG4gICAgICByZXR1cm4gXCJGQVJDQVNURVJfTkVUV09SS19NQUlOTkVUXCI7XG4gICAgY2FzZSAyIC8qIFRFU1RORVQgKi86XG4gICAgICByZXR1cm4gXCJGQVJDQVNURVJfTkVUV09SS19URVNUTkVUXCI7XG4gICAgY2FzZSAzIC8qIERFVk5FVCAqLzpcbiAgICAgIHJldHVybiBcIkZBUkNBU1RFUl9ORVRXT1JLX0RFVk5FVFwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIEZhcmNhc3Rlck5ldHdvcmtcIik7XG4gIH1cbn1cbnZhciBVc2VyRGF0YVR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChVc2VyRGF0YVR5cGUyKSA9PiB7XG4gIFVzZXJEYXRhVHlwZTJbVXNlckRhdGFUeXBlMltcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICBVc2VyRGF0YVR5cGUyW1VzZXJEYXRhVHlwZTJbXCJQRlBcIl0gPSAxXSA9IFwiUEZQXCI7XG4gIFVzZXJEYXRhVHlwZTJbVXNlckRhdGFUeXBlMltcIkRJU1BMQVlcIl0gPSAyXSA9IFwiRElTUExBWVwiO1xuICBVc2VyRGF0YVR5cGUyW1VzZXJEYXRhVHlwZTJbXCJCSU9cIl0gPSAzXSA9IFwiQklPXCI7XG4gIFVzZXJEYXRhVHlwZTJbVXNlckRhdGFUeXBlMltcIlVSTFwiXSA9IDVdID0gXCJVUkxcIjtcbiAgVXNlckRhdGFUeXBlMltVc2VyRGF0YVR5cGUyW1wiVVNFUk5BTUVcIl0gPSA2XSA9IFwiVVNFUk5BTUVcIjtcbiAgVXNlckRhdGFUeXBlMltVc2VyRGF0YVR5cGUyW1wiTE9DQVRJT05cIl0gPSA3XSA9IFwiTE9DQVRJT05cIjtcbiAgVXNlckRhdGFUeXBlMltVc2VyRGF0YVR5cGUyW1wiVFdJVFRFUlwiXSA9IDhdID0gXCJUV0lUVEVSXCI7XG4gIFVzZXJEYXRhVHlwZTJbVXNlckRhdGFUeXBlMltcIkdJVEhVQlwiXSA9IDldID0gXCJHSVRIVUJcIjtcbiAgcmV0dXJuIFVzZXJEYXRhVHlwZTI7XG59KShVc2VyRGF0YVR5cGUgfHwge30pO1xuZnVuY3Rpb24gdXNlckRhdGFUeXBlRnJvbUpTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwOlxuICAgIGNhc2UgXCJVU0VSX0RBVEFfVFlQRV9OT05FXCI6XG4gICAgICByZXR1cm4gMCAvKiBOT05FICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiVVNFUl9EQVRBX1RZUEVfUEZQXCI6XG4gICAgICByZXR1cm4gMSAvKiBQRlAgKi87XG4gICAgY2FzZSAyOlxuICAgIGNhc2UgXCJVU0VSX0RBVEFfVFlQRV9ESVNQTEFZXCI6XG4gICAgICByZXR1cm4gMiAvKiBESVNQTEFZICovO1xuICAgIGNhc2UgMzpcbiAgICBjYXNlIFwiVVNFUl9EQVRBX1RZUEVfQklPXCI6XG4gICAgICByZXR1cm4gMyAvKiBCSU8gKi87XG4gICAgY2FzZSA1OlxuICAgIGNhc2UgXCJVU0VSX0RBVEFfVFlQRV9VUkxcIjpcbiAgICAgIHJldHVybiA1IC8qIFVSTCAqLztcbiAgICBjYXNlIDY6XG4gICAgY2FzZSBcIlVTRVJfREFUQV9UWVBFX1VTRVJOQU1FXCI6XG4gICAgICByZXR1cm4gNiAvKiBVU0VSTkFNRSAqLztcbiAgICBjYXNlIDc6XG4gICAgY2FzZSBcIlVTRVJfREFUQV9UWVBFX0xPQ0FUSU9OXCI6XG4gICAgICByZXR1cm4gNyAvKiBMT0NBVElPTiAqLztcbiAgICBjYXNlIDg6XG4gICAgY2FzZSBcIlVTRVJfREFUQV9UWVBFX1RXSVRURVJcIjpcbiAgICAgIHJldHVybiA4IC8qIFRXSVRURVIgKi87XG4gICAgY2FzZSA5OlxuICAgIGNhc2UgXCJVU0VSX0RBVEFfVFlQRV9HSVRIVUJcIjpcbiAgICAgIHJldHVybiA5IC8qIEdJVEhVQiAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBVc2VyRGF0YVR5cGVcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZXJEYXRhVHlwZVRvSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDAgLyogTk9ORSAqLzpcbiAgICAgIHJldHVybiBcIlVTRVJfREFUQV9UWVBFX05PTkVcIjtcbiAgICBjYXNlIDEgLyogUEZQICovOlxuICAgICAgcmV0dXJuIFwiVVNFUl9EQVRBX1RZUEVfUEZQXCI7XG4gICAgY2FzZSAyIC8qIERJU1BMQVkgKi86XG4gICAgICByZXR1cm4gXCJVU0VSX0RBVEFfVFlQRV9ESVNQTEFZXCI7XG4gICAgY2FzZSAzIC8qIEJJTyAqLzpcbiAgICAgIHJldHVybiBcIlVTRVJfREFUQV9UWVBFX0JJT1wiO1xuICAgIGNhc2UgNSAvKiBVUkwgKi86XG4gICAgICByZXR1cm4gXCJVU0VSX0RBVEFfVFlQRV9VUkxcIjtcbiAgICBjYXNlIDYgLyogVVNFUk5BTUUgKi86XG4gICAgICByZXR1cm4gXCJVU0VSX0RBVEFfVFlQRV9VU0VSTkFNRVwiO1xuICAgIGNhc2UgNyAvKiBMT0NBVElPTiAqLzpcbiAgICAgIHJldHVybiBcIlVTRVJfREFUQV9UWVBFX0xPQ0FUSU9OXCI7XG4gICAgY2FzZSA4IC8qIFRXSVRURVIgKi86XG4gICAgICByZXR1cm4gXCJVU0VSX0RBVEFfVFlQRV9UV0lUVEVSXCI7XG4gICAgY2FzZSA5IC8qIEdJVEhVQiAqLzpcbiAgICAgIHJldHVybiBcIlVTRVJfREFUQV9UWVBFX0dJVEhVQlwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIFVzZXJEYXRhVHlwZVwiKTtcbiAgfVxufVxudmFyIENhc3RUeXBlID0gLyogQF9fUFVSRV9fICovICgoQ2FzdFR5cGUyKSA9PiB7XG4gIENhc3RUeXBlMltDYXN0VHlwZTJbXCJDQVNUXCJdID0gMF0gPSBcIkNBU1RcIjtcbiAgQ2FzdFR5cGUyW0Nhc3RUeXBlMltcIkxPTkdfQ0FTVFwiXSA9IDFdID0gXCJMT05HX0NBU1RcIjtcbiAgcmV0dXJuIENhc3RUeXBlMjtcbn0pKENhc3RUeXBlIHx8IHt9KTtcbmZ1bmN0aW9uIGNhc3RUeXBlRnJvbUpTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwOlxuICAgIGNhc2UgXCJDQVNUXCI6XG4gICAgICByZXR1cm4gMCAvKiBDQVNUICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiTE9OR19DQVNUXCI6XG4gICAgICByZXR1cm4gMSAvKiBMT05HX0NBU1QgKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gQ2FzdFR5cGVcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGNhc3RUeXBlVG9KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMCAvKiBDQVNUICovOlxuICAgICAgcmV0dXJuIFwiQ0FTVFwiO1xuICAgIGNhc2UgMSAvKiBMT05HX0NBU1QgKi86XG4gICAgICByZXR1cm4gXCJMT05HX0NBU1RcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBDYXN0VHlwZVwiKTtcbiAgfVxufVxudmFyIFJlYWN0aW9uVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKFJlYWN0aW9uVHlwZTIpID0+IHtcbiAgUmVhY3Rpb25UeXBlMltSZWFjdGlvblR5cGUyW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gIFJlYWN0aW9uVHlwZTJbUmVhY3Rpb25UeXBlMltcIkxJS0VcIl0gPSAxXSA9IFwiTElLRVwiO1xuICBSZWFjdGlvblR5cGUyW1JlYWN0aW9uVHlwZTJbXCJSRUNBU1RcIl0gPSAyXSA9IFwiUkVDQVNUXCI7XG4gIHJldHVybiBSZWFjdGlvblR5cGUyO1xufSkoUmVhY3Rpb25UeXBlIHx8IHt9KTtcbmZ1bmN0aW9uIHJlYWN0aW9uVHlwZUZyb21KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIFwiUkVBQ1RJT05fVFlQRV9OT05FXCI6XG4gICAgICByZXR1cm4gMCAvKiBOT05FICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiUkVBQ1RJT05fVFlQRV9MSUtFXCI6XG4gICAgICByZXR1cm4gMSAvKiBMSUtFICovO1xuICAgIGNhc2UgMjpcbiAgICBjYXNlIFwiUkVBQ1RJT05fVFlQRV9SRUNBU1RcIjpcbiAgICAgIHJldHVybiAyIC8qIFJFQ0FTVCAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBSZWFjdGlvblR5cGVcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlYWN0aW9uVHlwZVRvSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDAgLyogTk9ORSAqLzpcbiAgICAgIHJldHVybiBcIlJFQUNUSU9OX1RZUEVfTk9ORVwiO1xuICAgIGNhc2UgMSAvKiBMSUtFICovOlxuICAgICAgcmV0dXJuIFwiUkVBQ1RJT05fVFlQRV9MSUtFXCI7XG4gICAgY2FzZSAyIC8qIFJFQ0FTVCAqLzpcbiAgICAgIHJldHVybiBcIlJFQUNUSU9OX1RZUEVfUkVDQVNUXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gUmVhY3Rpb25UeXBlXCIpO1xuICB9XG59XG52YXIgUHJvdG9jb2wgPSAvKiBAX19QVVJFX18gKi8gKChQcm90b2NvbDIpID0+IHtcbiAgUHJvdG9jb2wyW1Byb3RvY29sMltcIkVUSEVSRVVNXCJdID0gMF0gPSBcIkVUSEVSRVVNXCI7XG4gIFByb3RvY29sMltQcm90b2NvbDJbXCJTT0xBTkFcIl0gPSAxXSA9IFwiU09MQU5BXCI7XG4gIHJldHVybiBQcm90b2NvbDI7XG59KShQcm90b2NvbCB8fCB7fSk7XG5mdW5jdGlvbiBwcm90b2NvbEZyb21KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIFwiUFJPVE9DT0xfRVRIRVJFVU1cIjpcbiAgICAgIHJldHVybiAwIC8qIEVUSEVSRVVNICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiUFJPVE9DT0xfU09MQU5BXCI6XG4gICAgICByZXR1cm4gMSAvKiBTT0xBTkEgKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gUHJvdG9jb2xcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHByb3RvY29sVG9KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMCAvKiBFVEhFUkVVTSAqLzpcbiAgICAgIHJldHVybiBcIlBST1RPQ09MX0VUSEVSRVVNXCI7XG4gICAgY2FzZSAxIC8qIFNPTEFOQSAqLzpcbiAgICAgIHJldHVybiBcIlBST1RPQ09MX1NPTEFOQVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIFByb3RvY29sXCIpO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVCYXNlTWVzc2FnZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBkYXRhOiB2b2lkIDAsXG4gICAgaGFzaDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICBoYXNoU2NoZW1lOiAwLFxuICAgIHNpZ25hdHVyZTogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICBzaWduYXR1cmVTY2hlbWU6IDAsXG4gICAgc2lnbmVyOiBuZXcgVWludDhBcnJheSgpLFxuICAgIGRhdGFCeXRlczogdm9pZCAwXG4gIH07XG59XG52YXIgTWVzc2FnZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICBpZiAobWVzc2FnZS5kYXRhICE9PSB2b2lkIDApIHtcbiAgICAgIE1lc3NhZ2VEYXRhLmVuY29kZShtZXNzYWdlLmRhdGEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmhhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLmhhc2gpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oYXNoU2NoZW1lICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLmhhc2hTY2hlbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaWduYXR1cmUubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5ieXRlcyhtZXNzYWdlLnNpZ25hdHVyZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNpZ25hdHVyZVNjaGVtZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS5zaWduYXR1cmVTY2hlbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaWduZXIubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDUwKS5ieXRlcyhtZXNzYWdlLnNpZ25lcik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmRhdGFCeXRlcyAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDU4KS5ieXRlcyhtZXNzYWdlLmRhdGFCeXRlcyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNZXNzYWdlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAodGFnICE9IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5kYXRhID0gTWVzc2FnZURhdGEuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmhhc2ggPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGlmICh0YWcgIT0gMjQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmhhc2hTY2hlbWUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGlmICh0YWcgIT0gMzQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnNpZ25hdHVyZSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgaWYgKHRhZyAhPSA0MCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlU2NoZW1lID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBpZiAodGFnICE9IDUwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5zaWduZXIgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIGlmICh0YWcgIT0gNTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmRhdGFCeXRlcyA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PSA0IHx8IHRhZyA9PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IGlzU2V0KG9iamVjdC5kYXRhKSA/IE1lc3NhZ2VEYXRhLmZyb21KU09OKG9iamVjdC5kYXRhKSA6IHZvaWQgMCxcbiAgICAgIGhhc2g6IGlzU2V0KG9iamVjdC5oYXNoKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuaGFzaCkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgaGFzaFNjaGVtZTogaXNTZXQob2JqZWN0Lmhhc2hTY2hlbWUpID8gaGFzaFNjaGVtZUZyb21KU09OKG9iamVjdC5oYXNoU2NoZW1lKSA6IDAsXG4gICAgICBzaWduYXR1cmU6IGlzU2V0KG9iamVjdC5zaWduYXR1cmUpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5zaWduYXR1cmUpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIHNpZ25hdHVyZVNjaGVtZTogaXNTZXQob2JqZWN0LnNpZ25hdHVyZVNjaGVtZSkgPyBzaWduYXR1cmVTY2hlbWVGcm9tSlNPTihvYmplY3Quc2lnbmF0dXJlU2NoZW1lKSA6IDAsXG4gICAgICBzaWduZXI6IGlzU2V0KG9iamVjdC5zaWduZXIpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5zaWduZXIpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIGRhdGFCeXRlczogaXNTZXQob2JqZWN0LmRhdGFCeXRlcykgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmRhdGFCeXRlcykgOiB2b2lkIDBcbiAgICB9O1xuICB9LFxuICB0b0pTT04obWVzc2FnZSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIG1lc3NhZ2UuZGF0YSAhPT0gdm9pZCAwICYmIChvYmouZGF0YSA9IG1lc3NhZ2UuZGF0YSA/IE1lc3NhZ2VEYXRhLnRvSlNPTihtZXNzYWdlLmRhdGEpIDogdm9pZCAwKTtcbiAgICBtZXNzYWdlLmhhc2ggIT09IHZvaWQgMCAmJiAob2JqLmhhc2ggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5oYXNoICE9PSB2b2lkIDAgPyBtZXNzYWdlLmhhc2ggOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgbWVzc2FnZS5oYXNoU2NoZW1lICE9PSB2b2lkIDAgJiYgKG9iai5oYXNoU2NoZW1lID0gaGFzaFNjaGVtZVRvSlNPTihtZXNzYWdlLmhhc2hTY2hlbWUpKTtcbiAgICBtZXNzYWdlLnNpZ25hdHVyZSAhPT0gdm9pZCAwICYmIChvYmouc2lnbmF0dXJlID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uuc2lnbmF0dXJlICE9PSB2b2lkIDAgPyBtZXNzYWdlLnNpZ25hdHVyZSA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICBtZXNzYWdlLnNpZ25hdHVyZVNjaGVtZSAhPT0gdm9pZCAwICYmIChvYmouc2lnbmF0dXJlU2NoZW1lID0gc2lnbmF0dXJlU2NoZW1lVG9KU09OKG1lc3NhZ2Uuc2lnbmF0dXJlU2NoZW1lKSk7XG4gICAgbWVzc2FnZS5zaWduZXIgIT09IHZvaWQgMCAmJiAob2JqLnNpZ25lciA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnNpZ25lciAhPT0gdm9pZCAwID8gbWVzc2FnZS5zaWduZXIgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgbWVzc2FnZS5kYXRhQnl0ZXMgIT09IHZvaWQgMCAmJiAob2JqLmRhdGFCeXRlcyA9IG1lc3NhZ2UuZGF0YUJ5dGVzICE9PSB2b2lkIDAgPyBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5kYXRhQnl0ZXMpIDogdm9pZCAwKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBNZXNzYWdlLmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1lc3NhZ2UoKTtcbiAgICBtZXNzYWdlLmRhdGEgPSBvYmplY3QuZGF0YSAhPT0gdm9pZCAwICYmIG9iamVjdC5kYXRhICE9PSBudWxsID8gTWVzc2FnZURhdGEuZnJvbVBhcnRpYWwob2JqZWN0LmRhdGEpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UuaGFzaCA9IG9iamVjdC5oYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5oYXNoU2NoZW1lID0gb2JqZWN0Lmhhc2hTY2hlbWUgPz8gMDtcbiAgICBtZXNzYWdlLnNpZ25hdHVyZSA9IG9iamVjdC5zaWduYXR1cmUgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBtZXNzYWdlLnNpZ25hdHVyZVNjaGVtZSA9IG9iamVjdC5zaWduYXR1cmVTY2hlbWUgPz8gMDtcbiAgICBtZXNzYWdlLnNpZ25lciA9IG9iamVjdC5zaWduZXIgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBtZXNzYWdlLmRhdGFCeXRlcyA9IG9iamVjdC5kYXRhQnl0ZXMgPz8gdm9pZCAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZU1lc3NhZ2VEYXRhKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IDAsXG4gICAgZmlkOiAwLFxuICAgIHRpbWVzdGFtcDogMCxcbiAgICBuZXR3b3JrOiAwLFxuICAgIGNhc3RBZGRCb2R5OiB2b2lkIDAsXG4gICAgY2FzdFJlbW92ZUJvZHk6IHZvaWQgMCxcbiAgICByZWFjdGlvbkJvZHk6IHZvaWQgMCxcbiAgICB2ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keTogdm9pZCAwLFxuICAgIHZlcmlmaWNhdGlvblJlbW92ZUJvZHk6IHZvaWQgMCxcbiAgICB1c2VyRGF0YUJvZHk6IHZvaWQgMCxcbiAgICBsaW5rQm9keTogdm9pZCAwLFxuICAgIHVzZXJuYW1lUHJvb2ZCb2R5OiB2b2lkIDAsXG4gICAgZnJhbWVBY3Rpb25Cb2R5OiB2b2lkIDAsXG4gICAgbGlua0NvbXBhY3RTdGF0ZUJvZHk6IHZvaWQgMFxuICB9O1xufVxudmFyIE1lc3NhZ2VEYXRhID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgIGlmIChtZXNzYWdlLnR5cGUgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS50eXBlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZmlkICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS51aW50NjQobWVzc2FnZS5maWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQzMihtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm5ldHdvcmsgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2UubmV0d29yayk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNhc3RBZGRCb2R5ICE9PSB2b2lkIDApIHtcbiAgICAgIENhc3RBZGRCb2R5LmVuY29kZShtZXNzYWdlLmNhc3RBZGRCb2R5LCB3cml0ZXIudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jYXN0UmVtb3ZlQm9keSAhPT0gdm9pZCAwKSB7XG4gICAgICBDYXN0UmVtb3ZlQm9keS5lbmNvZGUobWVzc2FnZS5jYXN0UmVtb3ZlQm9keSwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmVhY3Rpb25Cb2R5ICE9PSB2b2lkIDApIHtcbiAgICAgIFJlYWN0aW9uQm9keS5lbmNvZGUobWVzc2FnZS5yZWFjdGlvbkJvZHksIHdyaXRlci51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5ICE9PSB2b2lkIDApIHtcbiAgICAgIFZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5LmVuY29kZShtZXNzYWdlLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5LCB3cml0ZXIudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52ZXJpZmljYXRpb25SZW1vdmVCb2R5ICE9PSB2b2lkIDApIHtcbiAgICAgIFZlcmlmaWNhdGlvblJlbW92ZUJvZHkuZW5jb2RlKG1lc3NhZ2UudmVyaWZpY2F0aW9uUmVtb3ZlQm9keSwgd3JpdGVyLnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudXNlckRhdGFCb2R5ICE9PSB2b2lkIDApIHtcbiAgICAgIFVzZXJEYXRhQm9keS5lbmNvZGUobWVzc2FnZS51c2VyRGF0YUJvZHksIHdyaXRlci51aW50MzIoOTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmxpbmtCb2R5ICE9PSB2b2lkIDApIHtcbiAgICAgIExpbmtCb2R5LmVuY29kZShtZXNzYWdlLmxpbmtCb2R5LCB3cml0ZXIudWludDMyKDExNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudXNlcm5hbWVQcm9vZkJvZHkgIT09IHZvaWQgMCkge1xuICAgICAgVXNlck5hbWVQcm9vZi5lbmNvZGUobWVzc2FnZS51c2VybmFtZVByb29mQm9keSwgd3JpdGVyLnVpbnQzMigxMjIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmZyYW1lQWN0aW9uQm9keSAhPT0gdm9pZCAwKSB7XG4gICAgICBGcmFtZUFjdGlvbkJvZHkuZW5jb2RlKG1lc3NhZ2UuZnJhbWVBY3Rpb25Cb2R5LCB3cml0ZXIudWludDMyKDEzMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubGlua0NvbXBhY3RTdGF0ZUJvZHkgIT09IHZvaWQgMCkge1xuICAgICAgTGlua0NvbXBhY3RTdGF0ZUJvZHkuZW5jb2RlKG1lc3NhZ2UubGlua0NvbXBhY3RTdGF0ZUJvZHksIHdyaXRlci51aW50MzIoMTM4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTWVzc2FnZURhdGEoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuZmlkID0gbG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAodGFnICE9IDI0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBpZiAodGFnICE9IDMyKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5uZXR3b3JrID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBpZiAodGFnICE9IDQyKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5jYXN0QWRkQm9keSA9IENhc3RBZGRCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBpZiAodGFnICE9IDUwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5jYXN0UmVtb3ZlQm9keSA9IENhc3RSZW1vdmVCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBpZiAodGFnICE9IDU4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5yZWFjdGlvbkJvZHkgPSBSZWFjdGlvbkJvZHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGlmICh0YWcgIT0gNzQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5ID0gVmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBpZiAodGFnICE9IDgyKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS52ZXJpZmljYXRpb25SZW1vdmVCb2R5ID0gVmVyaWZpY2F0aW9uUmVtb3ZlQm9keS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGlmICh0YWcgIT0gOTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnVzZXJEYXRhQm9keSA9IFVzZXJEYXRhQm9keS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIGlmICh0YWcgIT0gMTE0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5saW5rQm9keSA9IExpbmtCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxMjIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnVzZXJuYW1lUHJvb2ZCb2R5ID0gVXNlck5hbWVQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIGlmICh0YWcgIT0gMTMwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5mcmFtZUFjdGlvbkJvZHkgPSBGcmFtZUFjdGlvbkJvZHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICBpZiAodGFnICE9IDEzOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UubGlua0NvbXBhY3RTdGF0ZUJvZHkgPSBMaW5rQ29tcGFjdFN0YXRlQm9keS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PSA0IHx8IHRhZyA9PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGlzU2V0KG9iamVjdC50eXBlKSA/IG1lc3NhZ2VUeXBlRnJvbUpTT04ob2JqZWN0LnR5cGUpIDogMCxcbiAgICAgIGZpZDogaXNTZXQob2JqZWN0LmZpZCkgPyBOdW1iZXIob2JqZWN0LmZpZCkgOiAwLFxuICAgICAgdGltZXN0YW1wOiBpc1NldChvYmplY3QudGltZXN0YW1wKSA/IE51bWJlcihvYmplY3QudGltZXN0YW1wKSA6IDAsXG4gICAgICBuZXR3b3JrOiBpc1NldChvYmplY3QubmV0d29yaykgPyBmYXJjYXN0ZXJOZXR3b3JrRnJvbUpTT04ob2JqZWN0Lm5ldHdvcmspIDogMCxcbiAgICAgIGNhc3RBZGRCb2R5OiBpc1NldChvYmplY3QuY2FzdEFkZEJvZHkpID8gQ2FzdEFkZEJvZHkuZnJvbUpTT04ob2JqZWN0LmNhc3RBZGRCb2R5KSA6IHZvaWQgMCxcbiAgICAgIGNhc3RSZW1vdmVCb2R5OiBpc1NldChvYmplY3QuY2FzdFJlbW92ZUJvZHkpID8gQ2FzdFJlbW92ZUJvZHkuZnJvbUpTT04ob2JqZWN0LmNhc3RSZW1vdmVCb2R5KSA6IHZvaWQgMCxcbiAgICAgIHJlYWN0aW9uQm9keTogaXNTZXQob2JqZWN0LnJlYWN0aW9uQm9keSkgPyBSZWFjdGlvbkJvZHkuZnJvbUpTT04ob2JqZWN0LnJlYWN0aW9uQm9keSkgOiB2b2lkIDAsXG4gICAgICB2ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keTogaXNTZXQob2JqZWN0LnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5KSA/IFZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5LmZyb21KU09OKG9iamVjdC52ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keSkgOiB2b2lkIDAsXG4gICAgICB2ZXJpZmljYXRpb25SZW1vdmVCb2R5OiBpc1NldChvYmplY3QudmVyaWZpY2F0aW9uUmVtb3ZlQm9keSkgPyBWZXJpZmljYXRpb25SZW1vdmVCb2R5LmZyb21KU09OKG9iamVjdC52ZXJpZmljYXRpb25SZW1vdmVCb2R5KSA6IHZvaWQgMCxcbiAgICAgIHVzZXJEYXRhQm9keTogaXNTZXQob2JqZWN0LnVzZXJEYXRhQm9keSkgPyBVc2VyRGF0YUJvZHkuZnJvbUpTT04ob2JqZWN0LnVzZXJEYXRhQm9keSkgOiB2b2lkIDAsXG4gICAgICBsaW5rQm9keTogaXNTZXQob2JqZWN0LmxpbmtCb2R5KSA/IExpbmtCb2R5LmZyb21KU09OKG9iamVjdC5saW5rQm9keSkgOiB2b2lkIDAsXG4gICAgICB1c2VybmFtZVByb29mQm9keTogaXNTZXQob2JqZWN0LnVzZXJuYW1lUHJvb2ZCb2R5KSA/IFVzZXJOYW1lUHJvb2YuZnJvbUpTT04ob2JqZWN0LnVzZXJuYW1lUHJvb2ZCb2R5KSA6IHZvaWQgMCxcbiAgICAgIGZyYW1lQWN0aW9uQm9keTogaXNTZXQob2JqZWN0LmZyYW1lQWN0aW9uQm9keSkgPyBGcmFtZUFjdGlvbkJvZHkuZnJvbUpTT04ob2JqZWN0LmZyYW1lQWN0aW9uQm9keSkgOiB2b2lkIDAsXG4gICAgICBsaW5rQ29tcGFjdFN0YXRlQm9keTogaXNTZXQob2JqZWN0LmxpbmtDb21wYWN0U3RhdGVCb2R5KSA/IExpbmtDb21wYWN0U3RhdGVCb2R5LmZyb21KU09OKG9iamVjdC5saW5rQ29tcGFjdFN0YXRlQm9keSkgOiB2b2lkIDBcbiAgICB9O1xuICB9LFxuICB0b0pTT04obWVzc2FnZSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIG1lc3NhZ2UudHlwZSAhPT0gdm9pZCAwICYmIChvYmoudHlwZSA9IG1lc3NhZ2VUeXBlVG9KU09OKG1lc3NhZ2UudHlwZSkpO1xuICAgIG1lc3NhZ2UuZmlkICE9PSB2b2lkIDAgJiYgKG9iai5maWQgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuZmlkKSk7XG4gICAgbWVzc2FnZS50aW1lc3RhbXAgIT09IHZvaWQgMCAmJiAob2JqLnRpbWVzdGFtcCA9IE1hdGgucm91bmQobWVzc2FnZS50aW1lc3RhbXApKTtcbiAgICBtZXNzYWdlLm5ldHdvcmsgIT09IHZvaWQgMCAmJiAob2JqLm5ldHdvcmsgPSBmYXJjYXN0ZXJOZXR3b3JrVG9KU09OKG1lc3NhZ2UubmV0d29yaykpO1xuICAgIG1lc3NhZ2UuY2FzdEFkZEJvZHkgIT09IHZvaWQgMCAmJiAob2JqLmNhc3RBZGRCb2R5ID0gbWVzc2FnZS5jYXN0QWRkQm9keSA/IENhc3RBZGRCb2R5LnRvSlNPTihtZXNzYWdlLmNhc3RBZGRCb2R5KSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS5jYXN0UmVtb3ZlQm9keSAhPT0gdm9pZCAwICYmIChvYmouY2FzdFJlbW92ZUJvZHkgPSBtZXNzYWdlLmNhc3RSZW1vdmVCb2R5ID8gQ2FzdFJlbW92ZUJvZHkudG9KU09OKG1lc3NhZ2UuY2FzdFJlbW92ZUJvZHkpIDogdm9pZCAwKTtcbiAgICBtZXNzYWdlLnJlYWN0aW9uQm9keSAhPT0gdm9pZCAwICYmIChvYmoucmVhY3Rpb25Cb2R5ID0gbWVzc2FnZS5yZWFjdGlvbkJvZHkgPyBSZWFjdGlvbkJvZHkudG9KU09OKG1lc3NhZ2UucmVhY3Rpb25Cb2R5KSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS52ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keSAhPT0gdm9pZCAwICYmIChvYmoudmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkgPSBtZXNzYWdlLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5ID8gVmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkudG9KU09OKG1lc3NhZ2UudmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkpIDogdm9pZCAwKTtcbiAgICBtZXNzYWdlLnZlcmlmaWNhdGlvblJlbW92ZUJvZHkgIT09IHZvaWQgMCAmJiAob2JqLnZlcmlmaWNhdGlvblJlbW92ZUJvZHkgPSBtZXNzYWdlLnZlcmlmaWNhdGlvblJlbW92ZUJvZHkgPyBWZXJpZmljYXRpb25SZW1vdmVCb2R5LnRvSlNPTihtZXNzYWdlLnZlcmlmaWNhdGlvblJlbW92ZUJvZHkpIDogdm9pZCAwKTtcbiAgICBtZXNzYWdlLnVzZXJEYXRhQm9keSAhPT0gdm9pZCAwICYmIChvYmoudXNlckRhdGFCb2R5ID0gbWVzc2FnZS51c2VyRGF0YUJvZHkgPyBVc2VyRGF0YUJvZHkudG9KU09OKG1lc3NhZ2UudXNlckRhdGFCb2R5KSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS5saW5rQm9keSAhPT0gdm9pZCAwICYmIChvYmoubGlua0JvZHkgPSBtZXNzYWdlLmxpbmtCb2R5ID8gTGlua0JvZHkudG9KU09OKG1lc3NhZ2UubGlua0JvZHkpIDogdm9pZCAwKTtcbiAgICBtZXNzYWdlLnVzZXJuYW1lUHJvb2ZCb2R5ICE9PSB2b2lkIDAgJiYgKG9iai51c2VybmFtZVByb29mQm9keSA9IG1lc3NhZ2UudXNlcm5hbWVQcm9vZkJvZHkgPyBVc2VyTmFtZVByb29mLnRvSlNPTihtZXNzYWdlLnVzZXJuYW1lUHJvb2ZCb2R5KSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS5mcmFtZUFjdGlvbkJvZHkgIT09IHZvaWQgMCAmJiAob2JqLmZyYW1lQWN0aW9uQm9keSA9IG1lc3NhZ2UuZnJhbWVBY3Rpb25Cb2R5ID8gRnJhbWVBY3Rpb25Cb2R5LnRvSlNPTihtZXNzYWdlLmZyYW1lQWN0aW9uQm9keSkgOiB2b2lkIDApO1xuICAgIG1lc3NhZ2UubGlua0NvbXBhY3RTdGF0ZUJvZHkgIT09IHZvaWQgMCAmJiAob2JqLmxpbmtDb21wYWN0U3RhdGVCb2R5ID0gbWVzc2FnZS5saW5rQ29tcGFjdFN0YXRlQm9keSA/IExpbmtDb21wYWN0U3RhdGVCb2R5LnRvSlNPTihtZXNzYWdlLmxpbmtDb21wYWN0U3RhdGVCb2R5KSA6IHZvaWQgMCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gTWVzc2FnZURhdGEuZnJvbVBhcnRpYWwoYmFzZSA/PyB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTWVzc2FnZURhdGEoKTtcbiAgICBtZXNzYWdlLnR5cGUgPSBvYmplY3QudHlwZSA/PyAwO1xuICAgIG1lc3NhZ2UuZmlkID0gb2JqZWN0LmZpZCA/PyAwO1xuICAgIG1lc3NhZ2UudGltZXN0YW1wID0gb2JqZWN0LnRpbWVzdGFtcCA/PyAwO1xuICAgIG1lc3NhZ2UubmV0d29yayA9IG9iamVjdC5uZXR3b3JrID8/IDA7XG4gICAgbWVzc2FnZS5jYXN0QWRkQm9keSA9IG9iamVjdC5jYXN0QWRkQm9keSAhPT0gdm9pZCAwICYmIG9iamVjdC5jYXN0QWRkQm9keSAhPT0gbnVsbCA/IENhc3RBZGRCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5jYXN0QWRkQm9keSkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5jYXN0UmVtb3ZlQm9keSA9IG9iamVjdC5jYXN0UmVtb3ZlQm9keSAhPT0gdm9pZCAwICYmIG9iamVjdC5jYXN0UmVtb3ZlQm9keSAhPT0gbnVsbCA/IENhc3RSZW1vdmVCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5jYXN0UmVtb3ZlQm9keSkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5yZWFjdGlvbkJvZHkgPSBvYmplY3QucmVhY3Rpb25Cb2R5ICE9PSB2b2lkIDAgJiYgb2JqZWN0LnJlYWN0aW9uQm9keSAhPT0gbnVsbCA/IFJlYWN0aW9uQm9keS5mcm9tUGFydGlhbChvYmplY3QucmVhY3Rpb25Cb2R5KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5ID0gb2JqZWN0LnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5ICE9PSB2b2lkIDAgJiYgb2JqZWN0LnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5ICE9PSBudWxsID8gVmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkuZnJvbVBhcnRpYWwob2JqZWN0LnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnZlcmlmaWNhdGlvblJlbW92ZUJvZHkgPSBvYmplY3QudmVyaWZpY2F0aW9uUmVtb3ZlQm9keSAhPT0gdm9pZCAwICYmIG9iamVjdC52ZXJpZmljYXRpb25SZW1vdmVCb2R5ICE9PSBudWxsID8gVmVyaWZpY2F0aW9uUmVtb3ZlQm9keS5mcm9tUGFydGlhbChvYmplY3QudmVyaWZpY2F0aW9uUmVtb3ZlQm9keSkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS51c2VyRGF0YUJvZHkgPSBvYmplY3QudXNlckRhdGFCb2R5ICE9PSB2b2lkIDAgJiYgb2JqZWN0LnVzZXJEYXRhQm9keSAhPT0gbnVsbCA/IFVzZXJEYXRhQm9keS5mcm9tUGFydGlhbChvYmplY3QudXNlckRhdGFCb2R5KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLmxpbmtCb2R5ID0gb2JqZWN0LmxpbmtCb2R5ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmxpbmtCb2R5ICE9PSBudWxsID8gTGlua0JvZHkuZnJvbVBhcnRpYWwob2JqZWN0LmxpbmtCb2R5KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnVzZXJuYW1lUHJvb2ZCb2R5ID0gb2JqZWN0LnVzZXJuYW1lUHJvb2ZCb2R5ICE9PSB2b2lkIDAgJiYgb2JqZWN0LnVzZXJuYW1lUHJvb2ZCb2R5ICE9PSBudWxsID8gVXNlck5hbWVQcm9vZi5mcm9tUGFydGlhbChvYmplY3QudXNlcm5hbWVQcm9vZkJvZHkpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UuZnJhbWVBY3Rpb25Cb2R5ID0gb2JqZWN0LmZyYW1lQWN0aW9uQm9keSAhPT0gdm9pZCAwICYmIG9iamVjdC5mcmFtZUFjdGlvbkJvZHkgIT09IG51bGwgPyBGcmFtZUFjdGlvbkJvZHkuZnJvbVBhcnRpYWwob2JqZWN0LmZyYW1lQWN0aW9uQm9keSkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5saW5rQ29tcGFjdFN0YXRlQm9keSA9IG9iamVjdC5saW5rQ29tcGFjdFN0YXRlQm9keSAhPT0gdm9pZCAwICYmIG9iamVjdC5saW5rQ29tcGFjdFN0YXRlQm9keSAhPT0gbnVsbCA/IExpbmtDb21wYWN0U3RhdGVCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5saW5rQ29tcGFjdFN0YXRlQm9keSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVXNlckRhdGFCb2R5KCkge1xuICByZXR1cm4geyB0eXBlOiAwLCB2YWx1ZTogXCJcIiB9O1xufVxudmFyIFVzZXJEYXRhQm9keSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICBpZiAobWVzc2FnZS50eXBlICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UudHlwZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VVc2VyRGF0YUJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09IDQgfHwgdGFnID09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogaXNTZXQob2JqZWN0LnR5cGUpID8gdXNlckRhdGFUeXBlRnJvbUpTT04ob2JqZWN0LnR5cGUpIDogMCxcbiAgICAgIHZhbHVlOiBpc1NldChvYmplY3QudmFsdWUpID8gU3RyaW5nKG9iamVjdC52YWx1ZSkgOiBcIlwiXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLnR5cGUgIT09IHZvaWQgMCAmJiAob2JqLnR5cGUgPSB1c2VyRGF0YVR5cGVUb0pTT04obWVzc2FnZS50eXBlKSk7XG4gICAgbWVzc2FnZS52YWx1ZSAhPT0gdm9pZCAwICYmIChvYmoudmFsdWUgPSBtZXNzYWdlLnZhbHVlKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBVc2VyRGF0YUJvZHkuZnJvbVBhcnRpYWwoYmFzZSA/PyB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVXNlckRhdGFCb2R5KCk7XG4gICAgbWVzc2FnZS50eXBlID0gb2JqZWN0LnR5cGUgPz8gMDtcbiAgICBtZXNzYWdlLnZhbHVlID0gb2JqZWN0LnZhbHVlID8/IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlRW1iZWQoKSB7XG4gIHJldHVybiB7IHVybDogdm9pZCAwLCBjYXN0SWQ6IHZvaWQgMCB9O1xufVxudmFyIEVtYmVkID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgIGlmIChtZXNzYWdlLnVybCAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS51cmwpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jYXN0SWQgIT09IHZvaWQgMCkge1xuICAgICAgQ2FzdElkLmVuY29kZShtZXNzYWdlLmNhc3RJZCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUVtYmVkKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAodGFnICE9IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS51cmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAodGFnICE9IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5jYXN0SWQgPSBDYXN0SWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICB1cmw6IGlzU2V0KG9iamVjdC51cmwpID8gU3RyaW5nKG9iamVjdC51cmwpIDogdm9pZCAwLFxuICAgICAgY2FzdElkOiBpc1NldChvYmplY3QuY2FzdElkKSA/IENhc3RJZC5mcm9tSlNPTihvYmplY3QuY2FzdElkKSA6IHZvaWQgMFxuICAgIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgbWVzc2FnZS51cmwgIT09IHZvaWQgMCAmJiAob2JqLnVybCA9IG1lc3NhZ2UudXJsKTtcbiAgICBtZXNzYWdlLmNhc3RJZCAhPT0gdm9pZCAwICYmIChvYmouY2FzdElkID0gbWVzc2FnZS5jYXN0SWQgPyBDYXN0SWQudG9KU09OKG1lc3NhZ2UuY2FzdElkKSA6IHZvaWQgMCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gRW1iZWQuZnJvbVBhcnRpYWwoYmFzZSA/PyB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRW1iZWQoKTtcbiAgICBtZXNzYWdlLnVybCA9IG9iamVjdC51cmwgPz8gdm9pZCAwO1xuICAgIG1lc3NhZ2UuY2FzdElkID0gb2JqZWN0LmNhc3RJZCAhPT0gdm9pZCAwICYmIG9iamVjdC5jYXN0SWQgIT09IG51bGwgPyBDYXN0SWQuZnJvbVBhcnRpYWwob2JqZWN0LmNhc3RJZCkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ2FzdEFkZEJvZHkoKSB7XG4gIHJldHVybiB7XG4gICAgZW1iZWRzRGVwcmVjYXRlZDogW10sXG4gICAgbWVudGlvbnM6IFtdLFxuICAgIHBhcmVudENhc3RJZDogdm9pZCAwLFxuICAgIHBhcmVudFVybDogdm9pZCAwLFxuICAgIHRleHQ6IFwiXCIsXG4gICAgbWVudGlvbnNQb3NpdGlvbnM6IFtdLFxuICAgIGVtYmVkczogW10sXG4gICAgdHlwZTogMFxuICB9O1xufVxudmFyIENhc3RBZGRCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmVtYmVkc0RlcHJlY2F0ZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyh2KTtcbiAgICB9XG4gICAgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpO1xuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm1lbnRpb25zKSB7XG4gICAgICB3cml0ZXIudWludDY0KHYpO1xuICAgIH1cbiAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgaWYgKG1lc3NhZ2UucGFyZW50Q2FzdElkICE9PSB2b2lkIDApIHtcbiAgICAgIENhc3RJZC5lbmNvZGUobWVzc2FnZS5wYXJlbnRDYXN0SWQsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhcmVudFVybCAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDU4KS5zdHJpbmcobWVzc2FnZS5wYXJlbnRVcmwpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50ZXh0ICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS50ZXh0KTtcbiAgICB9XG4gICAgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpO1xuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm1lbnRpb25zUG9zaXRpb25zKSB7XG4gICAgICB3cml0ZXIudWludDMyKHYpO1xuICAgIH1cbiAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuZW1iZWRzKSB7XG4gICAgICBFbWJlZC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig2NCkuaW50MzIobWVzc2FnZS50eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNhc3RBZGRCb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAodGFnICE9IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5lbWJlZHNEZXByZWNhdGVkLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmICh0YWcgPT0gMTYpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UubWVudGlvbnMucHVzaChsb25nVG9OdW1iZXIocmVhZGVyLnVpbnQ2NCgpKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRhZyA9PSAxOCkge1xuICAgICAgICAgICAgY29uc3QgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHtcbiAgICAgICAgICAgICAgbWVzc2FnZS5tZW50aW9ucy5wdXNoKGxvbmdUb051bWJlcihyZWFkZXIudWludDY0KCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGlmICh0YWcgIT0gMjYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnBhcmVudENhc3RJZCA9IENhc3RJZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgaWYgKHRhZyAhPSA1OCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucGFyZW50VXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgaWYgKHRhZyAhPSAzNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudGV4dCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGlmICh0YWcgPT0gNDApIHtcbiAgICAgICAgICAgIG1lc3NhZ2UubWVudGlvbnNQb3NpdGlvbnMucHVzaChyZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0YWcgPT0gNDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UubWVudGlvbnNQb3NpdGlvbnMucHVzaChyZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgaWYgKHRhZyAhPSA1MCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuZW1iZWRzLnB1c2goRW1iZWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICBpZiAodGFnICE9IDY0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09IDQgfHwgdGFnID09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW1iZWRzRGVwcmVjYXRlZDogQXJyYXkuaXNBcnJheShvYmplY3Q/LmVtYmVkc0RlcHJlY2F0ZWQpID8gb2JqZWN0LmVtYmVkc0RlcHJlY2F0ZWQubWFwKChlKSA9PiBTdHJpbmcoZSkpIDogW10sXG4gICAgICBtZW50aW9uczogQXJyYXkuaXNBcnJheShvYmplY3Q/Lm1lbnRpb25zKSA/IG9iamVjdC5tZW50aW9ucy5tYXAoKGUpID0+IE51bWJlcihlKSkgOiBbXSxcbiAgICAgIHBhcmVudENhc3RJZDogaXNTZXQob2JqZWN0LnBhcmVudENhc3RJZCkgPyBDYXN0SWQuZnJvbUpTT04ob2JqZWN0LnBhcmVudENhc3RJZCkgOiB2b2lkIDAsXG4gICAgICBwYXJlbnRVcmw6IGlzU2V0KG9iamVjdC5wYXJlbnRVcmwpID8gU3RyaW5nKG9iamVjdC5wYXJlbnRVcmwpIDogdm9pZCAwLFxuICAgICAgdGV4dDogaXNTZXQob2JqZWN0LnRleHQpID8gU3RyaW5nKG9iamVjdC50ZXh0KSA6IFwiXCIsXG4gICAgICBtZW50aW9uc1Bvc2l0aW9uczogQXJyYXkuaXNBcnJheShvYmplY3Q/Lm1lbnRpb25zUG9zaXRpb25zKSA/IG9iamVjdC5tZW50aW9uc1Bvc2l0aW9ucy5tYXAoKGUpID0+IE51bWJlcihlKSkgOiBbXSxcbiAgICAgIGVtYmVkczogQXJyYXkuaXNBcnJheShvYmplY3Q/LmVtYmVkcykgPyBvYmplY3QuZW1iZWRzLm1hcCgoZSkgPT4gRW1iZWQuZnJvbUpTT04oZSkpIDogW10sXG4gICAgICB0eXBlOiBpc1NldChvYmplY3QudHlwZSkgPyBjYXN0VHlwZUZyb21KU09OKG9iamVjdC50eXBlKSA6IDBcbiAgICB9O1xuICB9LFxuICB0b0pTT04obWVzc2FnZSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGlmIChtZXNzYWdlLmVtYmVkc0RlcHJlY2F0ZWQpIHtcbiAgICAgIG9iai5lbWJlZHNEZXByZWNhdGVkID0gbWVzc2FnZS5lbWJlZHNEZXByZWNhdGVkLm1hcCgoZSkgPT4gZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5lbWJlZHNEZXByZWNhdGVkID0gW107XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lbnRpb25zKSB7XG4gICAgICBvYmoubWVudGlvbnMgPSBtZXNzYWdlLm1lbnRpb25zLm1hcCgoZSkgPT4gTWF0aC5yb3VuZChlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5tZW50aW9ucyA9IFtdO1xuICAgIH1cbiAgICBtZXNzYWdlLnBhcmVudENhc3RJZCAhPT0gdm9pZCAwICYmIChvYmoucGFyZW50Q2FzdElkID0gbWVzc2FnZS5wYXJlbnRDYXN0SWQgPyBDYXN0SWQudG9KU09OKG1lc3NhZ2UucGFyZW50Q2FzdElkKSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS5wYXJlbnRVcmwgIT09IHZvaWQgMCAmJiAob2JqLnBhcmVudFVybCA9IG1lc3NhZ2UucGFyZW50VXJsKTtcbiAgICBtZXNzYWdlLnRleHQgIT09IHZvaWQgMCAmJiAob2JqLnRleHQgPSBtZXNzYWdlLnRleHQpO1xuICAgIGlmIChtZXNzYWdlLm1lbnRpb25zUG9zaXRpb25zKSB7XG4gICAgICBvYmoubWVudGlvbnNQb3NpdGlvbnMgPSBtZXNzYWdlLm1lbnRpb25zUG9zaXRpb25zLm1hcCgoZSkgPT4gTWF0aC5yb3VuZChlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5tZW50aW9uc1Bvc2l0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5lbWJlZHMpIHtcbiAgICAgIG9iai5lbWJlZHMgPSBtZXNzYWdlLmVtYmVkcy5tYXAoKGUpID0+IGUgPyBFbWJlZC50b0pTT04oZSkgOiB2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmouZW1iZWRzID0gW107XG4gICAgfVxuICAgIG1lc3NhZ2UudHlwZSAhPT0gdm9pZCAwICYmIChvYmoudHlwZSA9IGNhc3RUeXBlVG9KU09OKG1lc3NhZ2UudHlwZSkpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIENhc3RBZGRCb2R5LmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNhc3RBZGRCb2R5KCk7XG4gICAgbWVzc2FnZS5lbWJlZHNEZXByZWNhdGVkID0gb2JqZWN0LmVtYmVkc0RlcHJlY2F0ZWQ/Lm1hcCgoZSkgPT4gZSkgfHwgW107XG4gICAgbWVzc2FnZS5tZW50aW9ucyA9IG9iamVjdC5tZW50aW9ucz8ubWFwKChlKSA9PiBlKSB8fCBbXTtcbiAgICBtZXNzYWdlLnBhcmVudENhc3RJZCA9IG9iamVjdC5wYXJlbnRDYXN0SWQgIT09IHZvaWQgMCAmJiBvYmplY3QucGFyZW50Q2FzdElkICE9PSBudWxsID8gQ2FzdElkLmZyb21QYXJ0aWFsKG9iamVjdC5wYXJlbnRDYXN0SWQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UucGFyZW50VXJsID0gb2JqZWN0LnBhcmVudFVybCA/PyB2b2lkIDA7XG4gICAgbWVzc2FnZS50ZXh0ID0gb2JqZWN0LnRleHQgPz8gXCJcIjtcbiAgICBtZXNzYWdlLm1lbnRpb25zUG9zaXRpb25zID0gb2JqZWN0Lm1lbnRpb25zUG9zaXRpb25zPy5tYXAoKGUpID0+IGUpIHx8IFtdO1xuICAgIG1lc3NhZ2UuZW1iZWRzID0gb2JqZWN0LmVtYmVkcz8ubWFwKChlKSA9PiBFbWJlZC5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgbWVzc2FnZS50eXBlID0gb2JqZWN0LnR5cGUgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDYXN0UmVtb3ZlQm9keSgpIHtcbiAgcmV0dXJuIHsgdGFyZ2V0SGFzaDogbmV3IFVpbnQ4QXJyYXkoKSB9O1xufVxudmFyIENhc3RSZW1vdmVCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgIGlmIChtZXNzYWdlLnRhcmdldEhhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLnRhcmdldEhhc2gpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ2FzdFJlbW92ZUJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRhcmdldEhhc2ggPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7IHRhcmdldEhhc2g6IGlzU2V0KG9iamVjdC50YXJnZXRIYXNoKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudGFyZ2V0SGFzaCkgOiBuZXcgVWludDhBcnJheSgpIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgbWVzc2FnZS50YXJnZXRIYXNoICE9PSB2b2lkIDAgJiYgKG9iai50YXJnZXRIYXNoID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UudGFyZ2V0SGFzaCAhPT0gdm9pZCAwID8gbWVzc2FnZS50YXJnZXRIYXNoIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIENhc3RSZW1vdmVCb2R5LmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNhc3RSZW1vdmVCb2R5KCk7XG4gICAgbWVzc2FnZS50YXJnZXRIYXNoID0gb2JqZWN0LnRhcmdldEhhc2ggPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDYXN0SWQoKSB7XG4gIHJldHVybiB7IGZpZDogMCwgaGFzaDogbmV3IFVpbnQ4QXJyYXkoKSB9O1xufVxudmFyIENhc3RJZCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICBpZiAobWVzc2FnZS5maWQgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkudWludDY0KG1lc3NhZ2UuZmlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaGFzaC5sZW5ndGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UuaGFzaCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDYXN0SWQoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuZmlkID0gbG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAodGFnICE9IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5oYXNoID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09IDQgfHwgdGFnID09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmlkOiBpc1NldChvYmplY3QuZmlkKSA/IE51bWJlcihvYmplY3QuZmlkKSA6IDAsXG4gICAgICBoYXNoOiBpc1NldChvYmplY3QuaGFzaCkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0Lmhhc2gpIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgbWVzc2FnZS5maWQgIT09IHZvaWQgMCAmJiAob2JqLmZpZCA9IE1hdGgucm91bmQobWVzc2FnZS5maWQpKTtcbiAgICBtZXNzYWdlLmhhc2ggIT09IHZvaWQgMCAmJiAob2JqLmhhc2ggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5oYXNoICE9PSB2b2lkIDAgPyBtZXNzYWdlLmhhc2ggOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gQ2FzdElkLmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNhc3RJZCgpO1xuICAgIG1lc3NhZ2UuZmlkID0gb2JqZWN0LmZpZCA/PyAwO1xuICAgIG1lc3NhZ2UuaGFzaCA9IG9iamVjdC5oYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVhY3Rpb25Cb2R5KCkge1xuICByZXR1cm4geyB0eXBlOiAwLCB0YXJnZXRDYXN0SWQ6IHZvaWQgMCwgdGFyZ2V0VXJsOiB2b2lkIDAgfTtcbn1cbnZhciBSZWFjdGlvbkJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50YXJnZXRDYXN0SWQgIT09IHZvaWQgMCkge1xuICAgICAgQ2FzdElkLmVuY29kZShtZXNzYWdlLnRhcmdldENhc3RJZCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudGFyZ2V0VXJsICE9PSB2b2lkIDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLnRhcmdldFVybCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZWFjdGlvbkJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudGFyZ2V0Q2FzdElkID0gQ2FzdElkLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAodGFnICE9IDI2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50YXJnZXRVcmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09IDQgfHwgdGFnID09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogaXNTZXQob2JqZWN0LnR5cGUpID8gcmVhY3Rpb25UeXBlRnJvbUpTT04ob2JqZWN0LnR5cGUpIDogMCxcbiAgICAgIHRhcmdldENhc3RJZDogaXNTZXQob2JqZWN0LnRhcmdldENhc3RJZCkgPyBDYXN0SWQuZnJvbUpTT04ob2JqZWN0LnRhcmdldENhc3RJZCkgOiB2b2lkIDAsXG4gICAgICB0YXJnZXRVcmw6IGlzU2V0KG9iamVjdC50YXJnZXRVcmwpID8gU3RyaW5nKG9iamVjdC50YXJnZXRVcmwpIDogdm9pZCAwXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLnR5cGUgIT09IHZvaWQgMCAmJiAob2JqLnR5cGUgPSByZWFjdGlvblR5cGVUb0pTT04obWVzc2FnZS50eXBlKSk7XG4gICAgbWVzc2FnZS50YXJnZXRDYXN0SWQgIT09IHZvaWQgMCAmJiAob2JqLnRhcmdldENhc3RJZCA9IG1lc3NhZ2UudGFyZ2V0Q2FzdElkID8gQ2FzdElkLnRvSlNPTihtZXNzYWdlLnRhcmdldENhc3RJZCkgOiB2b2lkIDApO1xuICAgIG1lc3NhZ2UudGFyZ2V0VXJsICE9PSB2b2lkIDAgJiYgKG9iai50YXJnZXRVcmwgPSBtZXNzYWdlLnRhcmdldFVybCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gUmVhY3Rpb25Cb2R5LmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlYWN0aW9uQm9keSgpO1xuICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IDA7XG4gICAgbWVzc2FnZS50YXJnZXRDYXN0SWQgPSBvYmplY3QudGFyZ2V0Q2FzdElkICE9PSB2b2lkIDAgJiYgb2JqZWN0LnRhcmdldENhc3RJZCAhPT0gbnVsbCA/IENhc3RJZC5mcm9tUGFydGlhbChvYmplY3QudGFyZ2V0Q2FzdElkKSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnRhcmdldFVybCA9IG9iamVjdC50YXJnZXRVcmwgPz8gdm9pZCAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5KCkge1xuICByZXR1cm4ge1xuICAgIGFkZHJlc3M6IG5ldyBVaW50OEFycmF5KCksXG4gICAgY2xhaW1TaWduYXR1cmU6IG5ldyBVaW50OEFycmF5KCksXG4gICAgYmxvY2tIYXNoOiBuZXcgVWludDhBcnJheSgpLFxuICAgIHZlcmlmaWNhdGlvblR5cGU6IDAsXG4gICAgY2hhaW5JZDogMCxcbiAgICBwcm90b2NvbDogMFxuICB9O1xufVxudmFyIFZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgIGlmIChtZXNzYWdlLmFkZHJlc3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmFkZHJlc3MpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jbGFpbVNpZ25hdHVyZS5sZW5ndGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UuY2xhaW1TaWduYXR1cmUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5ibG9ja0hhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5ieXRlcyhtZXNzYWdlLmJsb2NrSGFzaCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZlcmlmaWNhdGlvblR5cGUgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzIpLnVpbnQzMihtZXNzYWdlLnZlcmlmaWNhdGlvblR5cGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jaGFpbklkICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDQwKS51aW50MzIobWVzc2FnZS5jaGFpbklkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucHJvdG9jb2wgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTYpLmludDMyKG1lc3NhZ2UucHJvdG9jb2wpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmFkZHJlc3MgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmNsYWltU2lnbmF0dXJlID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAodGFnICE9IDI2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5ibG9ja0hhc2ggPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGlmICh0YWcgIT0gMzIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnZlcmlmaWNhdGlvblR5cGUgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBpZiAodGFnICE9IDQwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5jaGFpbklkID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgaWYgKHRhZyAhPSA1Nikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucHJvdG9jb2wgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICBhZGRyZXNzOiBpc1NldChvYmplY3QuYWRkcmVzcykgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmFkZHJlc3MpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIGNsYWltU2lnbmF0dXJlOiBpc1NldChvYmplY3QuY2xhaW1TaWduYXR1cmUpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5jbGFpbVNpZ25hdHVyZSkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgYmxvY2tIYXNoOiBpc1NldChvYmplY3QuYmxvY2tIYXNoKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuYmxvY2tIYXNoKSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICB2ZXJpZmljYXRpb25UeXBlOiBpc1NldChvYmplY3QudmVyaWZpY2F0aW9uVHlwZSkgPyBOdW1iZXIob2JqZWN0LnZlcmlmaWNhdGlvblR5cGUpIDogMCxcbiAgICAgIGNoYWluSWQ6IGlzU2V0KG9iamVjdC5jaGFpbklkKSA/IE51bWJlcihvYmplY3QuY2hhaW5JZCkgOiAwLFxuICAgICAgcHJvdG9jb2w6IGlzU2V0KG9iamVjdC5wcm90b2NvbCkgPyBwcm90b2NvbEZyb21KU09OKG9iamVjdC5wcm90b2NvbCkgOiAwXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLmFkZHJlc3MgIT09IHZvaWQgMCAmJiAob2JqLmFkZHJlc3MgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5hZGRyZXNzICE9PSB2b2lkIDAgPyBtZXNzYWdlLmFkZHJlc3MgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgbWVzc2FnZS5jbGFpbVNpZ25hdHVyZSAhPT0gdm9pZCAwICYmIChvYmouY2xhaW1TaWduYXR1cmUgPSBiYXNlNjRGcm9tQnl0ZXMoXG4gICAgICBtZXNzYWdlLmNsYWltU2lnbmF0dXJlICE9PSB2b2lkIDAgPyBtZXNzYWdlLmNsYWltU2lnbmF0dXJlIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgICkpO1xuICAgIG1lc3NhZ2UuYmxvY2tIYXNoICE9PSB2b2lkIDAgJiYgKG9iai5ibG9ja0hhc2ggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5ibG9ja0hhc2ggIT09IHZvaWQgMCA/IG1lc3NhZ2UuYmxvY2tIYXNoIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgIG1lc3NhZ2UudmVyaWZpY2F0aW9uVHlwZSAhPT0gdm9pZCAwICYmIChvYmoudmVyaWZpY2F0aW9uVHlwZSA9IE1hdGgucm91bmQobWVzc2FnZS52ZXJpZmljYXRpb25UeXBlKSk7XG4gICAgbWVzc2FnZS5jaGFpbklkICE9PSB2b2lkIDAgJiYgKG9iai5jaGFpbklkID0gTWF0aC5yb3VuZChtZXNzYWdlLmNoYWluSWQpKTtcbiAgICBtZXNzYWdlLnByb3RvY29sICE9PSB2b2lkIDAgJiYgKG9iai5wcm90b2NvbCA9IHByb3RvY29sVG9KU09OKG1lc3NhZ2UucHJvdG9jb2wpKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBWZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keS5mcm9tUGFydGlhbChiYXNlID8/IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keSgpO1xuICAgIG1lc3NhZ2UuYWRkcmVzcyA9IG9iamVjdC5hZGRyZXNzID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5jbGFpbVNpZ25hdHVyZSA9IG9iamVjdC5jbGFpbVNpZ25hdHVyZSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2UuYmxvY2tIYXNoID0gb2JqZWN0LmJsb2NrSGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2UudmVyaWZpY2F0aW9uVHlwZSA9IG9iamVjdC52ZXJpZmljYXRpb25UeXBlID8/IDA7XG4gICAgbWVzc2FnZS5jaGFpbklkID0gb2JqZWN0LmNoYWluSWQgPz8gMDtcbiAgICBtZXNzYWdlLnByb3RvY29sID0gb2JqZWN0LnByb3RvY29sID8/IDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVmVyaWZpY2F0aW9uUmVtb3ZlQm9keSgpIHtcbiAgcmV0dXJuIHsgYWRkcmVzczogbmV3IFVpbnQ4QXJyYXkoKSwgcHJvdG9jb2w6IDAgfTtcbn1cbnZhciBWZXJpZmljYXRpb25SZW1vdmVCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgIGlmIChtZXNzYWdlLmFkZHJlc3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmFkZHJlc3MpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wcm90b2NvbCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5wcm90b2NvbCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWZXJpZmljYXRpb25SZW1vdmVCb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAodGFnICE9IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5hZGRyZXNzID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAodGFnICE9IDE2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5wcm90b2NvbCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PSA0IHx8IHRhZyA9PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFkZHJlc3M6IGlzU2V0KG9iamVjdC5hZGRyZXNzKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuYWRkcmVzcykgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgcHJvdG9jb2w6IGlzU2V0KG9iamVjdC5wcm90b2NvbCkgPyBwcm90b2NvbEZyb21KU09OKG9iamVjdC5wcm90b2NvbCkgOiAwXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLmFkZHJlc3MgIT09IHZvaWQgMCAmJiAob2JqLmFkZHJlc3MgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5hZGRyZXNzICE9PSB2b2lkIDAgPyBtZXNzYWdlLmFkZHJlc3MgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgbWVzc2FnZS5wcm90b2NvbCAhPT0gdm9pZCAwICYmIChvYmoucHJvdG9jb2wgPSBwcm90b2NvbFRvSlNPTihtZXNzYWdlLnByb3RvY29sKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gVmVyaWZpY2F0aW9uUmVtb3ZlQm9keS5mcm9tUGFydGlhbChiYXNlID8/IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWZXJpZmljYXRpb25SZW1vdmVCb2R5KCk7XG4gICAgbWVzc2FnZS5hZGRyZXNzID0gb2JqZWN0LmFkZHJlc3MgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBtZXNzYWdlLnByb3RvY29sID0gb2JqZWN0LnByb3RvY29sID8/IDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlTGlua0JvZHkoKSB7XG4gIHJldHVybiB7IHR5cGU6IFwiXCIsIGRpc3BsYXlUaW1lc3RhbXA6IHZvaWQgMCwgdGFyZ2V0RmlkOiB2b2lkIDAgfTtcbn1cbnZhciBMaW5rQm9keSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICBpZiAobWVzc2FnZS50eXBlICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS50eXBlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZGlzcGxheVRpbWVzdGFtcCAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS5kaXNwbGF5VGltZXN0YW1wKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudGFyZ2V0RmlkICE9PSB2b2lkIDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQ2NChtZXNzYWdlLnRhcmdldEZpZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VMaW5rQm9keSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmRpc3BsYXlUaW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAodGFnICE9IDI0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50YXJnZXRGaWQgPSBsb25nVG9OdW1iZXIocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBpc1NldChvYmplY3QudHlwZSkgPyBTdHJpbmcob2JqZWN0LnR5cGUpIDogXCJcIixcbiAgICAgIGRpc3BsYXlUaW1lc3RhbXA6IGlzU2V0KG9iamVjdC5kaXNwbGF5VGltZXN0YW1wKSA/IE51bWJlcihvYmplY3QuZGlzcGxheVRpbWVzdGFtcCkgOiB2b2lkIDAsXG4gICAgICB0YXJnZXRGaWQ6IGlzU2V0KG9iamVjdC50YXJnZXRGaWQpID8gTnVtYmVyKG9iamVjdC50YXJnZXRGaWQpIDogdm9pZCAwXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLnR5cGUgIT09IHZvaWQgMCAmJiAob2JqLnR5cGUgPSBtZXNzYWdlLnR5cGUpO1xuICAgIG1lc3NhZ2UuZGlzcGxheVRpbWVzdGFtcCAhPT0gdm9pZCAwICYmIChvYmouZGlzcGxheVRpbWVzdGFtcCA9IE1hdGgucm91bmQobWVzc2FnZS5kaXNwbGF5VGltZXN0YW1wKSk7XG4gICAgbWVzc2FnZS50YXJnZXRGaWQgIT09IHZvaWQgMCAmJiAob2JqLnRhcmdldEZpZCA9IE1hdGgucm91bmQobWVzc2FnZS50YXJnZXRGaWQpKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBMaW5rQm9keS5mcm9tUGFydGlhbChiYXNlID8/IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VMaW5rQm9keSgpO1xuICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IFwiXCI7XG4gICAgbWVzc2FnZS5kaXNwbGF5VGltZXN0YW1wID0gb2JqZWN0LmRpc3BsYXlUaW1lc3RhbXAgPz8gdm9pZCAwO1xuICAgIG1lc3NhZ2UudGFyZ2V0RmlkID0gb2JqZWN0LnRhcmdldEZpZCA/PyB2b2lkIDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlTGlua0NvbXBhY3RTdGF0ZUJvZHkoKSB7XG4gIHJldHVybiB7IHR5cGU6IFwiXCIsIHRhcmdldEZpZHM6IFtdIH07XG59XG52YXIgTGlua0NvbXBhY3RTdGF0ZUJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudHlwZSk7XG4gICAgfVxuICAgIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKTtcbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS50YXJnZXRGaWRzKSB7XG4gICAgICB3cml0ZXIudWludDY0KHYpO1xuICAgIH1cbiAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUxpbmtDb21wYWN0U3RhdGVCb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAodGFnICE9IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHRhZyA9PSAxNikge1xuICAgICAgICAgICAgbWVzc2FnZS50YXJnZXRGaWRzLnB1c2gobG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0YWcgPT0gMTgpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UudGFyZ2V0Rmlkcy5wdXNoKGxvbmdUb051bWJlcihyZWFkZXIudWludDY0KCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBpc1NldChvYmplY3QudHlwZSkgPyBTdHJpbmcob2JqZWN0LnR5cGUpIDogXCJcIixcbiAgICAgIHRhcmdldEZpZHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py50YXJnZXRGaWRzKSA/IG9iamVjdC50YXJnZXRGaWRzLm1hcCgoZSkgPT4gTnVtYmVyKGUpKSA6IFtdXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLnR5cGUgIT09IHZvaWQgMCAmJiAob2JqLnR5cGUgPSBtZXNzYWdlLnR5cGUpO1xuICAgIGlmIChtZXNzYWdlLnRhcmdldEZpZHMpIHtcbiAgICAgIG9iai50YXJnZXRGaWRzID0gbWVzc2FnZS50YXJnZXRGaWRzLm1hcCgoZSkgPT4gTWF0aC5yb3VuZChlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai50YXJnZXRGaWRzID0gW107XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIExpbmtDb21wYWN0U3RhdGVCb2R5LmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUxpbmtDb21wYWN0U3RhdGVCb2R5KCk7XG4gICAgbWVzc2FnZS50eXBlID0gb2JqZWN0LnR5cGUgPz8gXCJcIjtcbiAgICBtZXNzYWdlLnRhcmdldEZpZHMgPSBvYmplY3QudGFyZ2V0Rmlkcz8ubWFwKChlKSA9PiBlKSB8fCBbXTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGcmFtZUFjdGlvbkJvZHkoKSB7XG4gIHJldHVybiB7XG4gICAgdXJsOiBuZXcgVWludDhBcnJheSgpLFxuICAgIGJ1dHRvbkluZGV4OiAwLFxuICAgIGNhc3RJZDogdm9pZCAwLFxuICAgIGlucHV0VGV4dDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICBzdGF0ZTogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICB0cmFuc2FjdGlvbklkOiBuZXcgVWludDhBcnJheSgpLFxuICAgIGFkZHJlc3M6IG5ldyBVaW50OEFycmF5KClcbiAgfTtcbn1cbnZhciBGcmFtZUFjdGlvbkJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgaWYgKG1lc3NhZ2UudXJsLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS51cmwpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5idXR0b25JbmRleCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDMyKG1lc3NhZ2UuYnV0dG9uSW5kZXgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jYXN0SWQgIT09IHZvaWQgMCkge1xuICAgICAgQ2FzdElkLmVuY29kZShtZXNzYWdlLmNhc3RJZCwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaW5wdXRUZXh0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuYnl0ZXMobWVzc2FnZS5pbnB1dFRleHQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zdGF0ZS5sZW5ndGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDIpLmJ5dGVzKG1lc3NhZ2Uuc3RhdGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50cmFuc2FjdGlvbklkLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig1MCkuYnl0ZXMobWVzc2FnZS50cmFuc2FjdGlvbklkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYWRkcmVzcy5sZW5ndGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTgpLmJ5dGVzKG1lc3NhZ2UuYWRkcmVzcyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VGcmFtZUFjdGlvbkJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnVybCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYnV0dG9uSW5kZXggPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAodGFnICE9IDI2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5jYXN0SWQgPSBDYXN0SWQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGlmICh0YWcgIT0gMzQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmlucHV0VGV4dCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgaWYgKHRhZyAhPSA0Mikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uuc3RhdGUgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIGlmICh0YWcgIT0gNTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRyYW5zYWN0aW9uSWQgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIGlmICh0YWcgIT0gNTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmFkZHJlc3MgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICB1cmw6IGlzU2V0KG9iamVjdC51cmwpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC51cmwpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIGJ1dHRvbkluZGV4OiBpc1NldChvYmplY3QuYnV0dG9uSW5kZXgpID8gTnVtYmVyKG9iamVjdC5idXR0b25JbmRleCkgOiAwLFxuICAgICAgY2FzdElkOiBpc1NldChvYmplY3QuY2FzdElkKSA/IENhc3RJZC5mcm9tSlNPTihvYmplY3QuY2FzdElkKSA6IHZvaWQgMCxcbiAgICAgIGlucHV0VGV4dDogaXNTZXQob2JqZWN0LmlucHV0VGV4dCkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmlucHV0VGV4dCkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgc3RhdGU6IGlzU2V0KG9iamVjdC5zdGF0ZSkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnN0YXRlKSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICB0cmFuc2FjdGlvbklkOiBpc1NldChvYmplY3QudHJhbnNhY3Rpb25JZCkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnRyYW5zYWN0aW9uSWQpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIGFkZHJlc3M6IGlzU2V0KG9iamVjdC5hZGRyZXNzKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuYWRkcmVzcykgOiBuZXcgVWludDhBcnJheSgpXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLnVybCAhPT0gdm9pZCAwICYmIChvYmoudXJsID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UudXJsICE9PSB2b2lkIDAgPyBtZXNzYWdlLnVybCA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICBtZXNzYWdlLmJ1dHRvbkluZGV4ICE9PSB2b2lkIDAgJiYgKG9iai5idXR0b25JbmRleCA9IE1hdGgucm91bmQobWVzc2FnZS5idXR0b25JbmRleCkpO1xuICAgIG1lc3NhZ2UuY2FzdElkICE9PSB2b2lkIDAgJiYgKG9iai5jYXN0SWQgPSBtZXNzYWdlLmNhc3RJZCA/IENhc3RJZC50b0pTT04obWVzc2FnZS5jYXN0SWQpIDogdm9pZCAwKTtcbiAgICBtZXNzYWdlLmlucHV0VGV4dCAhPT0gdm9pZCAwICYmIChvYmouaW5wdXRUZXh0ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuaW5wdXRUZXh0ICE9PSB2b2lkIDAgPyBtZXNzYWdlLmlucHV0VGV4dCA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICBtZXNzYWdlLnN0YXRlICE9PSB2b2lkIDAgJiYgKG9iai5zdGF0ZSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnN0YXRlICE9PSB2b2lkIDAgPyBtZXNzYWdlLnN0YXRlIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgIG1lc3NhZ2UudHJhbnNhY3Rpb25JZCAhPT0gdm9pZCAwICYmIChvYmoudHJhbnNhY3Rpb25JZCA9IGJhc2U2NEZyb21CeXRlcyhcbiAgICAgIG1lc3NhZ2UudHJhbnNhY3Rpb25JZCAhPT0gdm9pZCAwID8gbWVzc2FnZS50cmFuc2FjdGlvbklkIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgICkpO1xuICAgIG1lc3NhZ2UuYWRkcmVzcyAhPT0gdm9pZCAwICYmIChvYmouYWRkcmVzcyA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmFkZHJlc3MgIT09IHZvaWQgMCA/IG1lc3NhZ2UuYWRkcmVzcyA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBGcmFtZUFjdGlvbkJvZHkuZnJvbVBhcnRpYWwoYmFzZSA/PyB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRnJhbWVBY3Rpb25Cb2R5KCk7XG4gICAgbWVzc2FnZS51cmwgPSBvYmplY3QudXJsID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5idXR0b25JbmRleCA9IG9iamVjdC5idXR0b25JbmRleCA/PyAwO1xuICAgIG1lc3NhZ2UuY2FzdElkID0gb2JqZWN0LmNhc3RJZCAhPT0gdm9pZCAwICYmIG9iamVjdC5jYXN0SWQgIT09IG51bGwgPyBDYXN0SWQuZnJvbVBhcnRpYWwob2JqZWN0LmNhc3RJZCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5pbnB1dFRleHQgPSBvYmplY3QuaW5wdXRUZXh0ID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5zdGF0ZSA9IG9iamVjdC5zdGF0ZSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2UudHJhbnNhY3Rpb25JZCA9IG9iamVjdC50cmFuc2FjdGlvbklkID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5hZGRyZXNzID0gb2JqZWN0LmFkZHJlc3MgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbnZhciB0c1Byb3RvR2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICB9XG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBzZWxmO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBnbG9iYWw7XG4gIH1cbiAgdGhyb3cgXCJVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3RcIjtcbn0pKCk7XG5mdW5jdGlvbiBieXRlc0Zyb21CYXNlNjQoYjY0KSB7XG4gIGlmICh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKHRzUHJvdG9HbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGI2NCwgXCJiYXNlNjRcIikpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJpbiA9IHRzUHJvdG9HbG9iYWxUaGlzLmF0b2IoYjY0KTtcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4ubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7ICsraSkge1xuICAgICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cbn1cbmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnIpIHtcbiAgaWYgKHRzUHJvdG9HbG9iYWxUaGlzLkJ1ZmZlcikge1xuICAgIHJldHVybiB0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIuZnJvbShhcnIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJpbiA9IFtdO1xuICAgIGFyci5mb3JFYWNoKChieXRlKSA9PiB7XG4gICAgICBiaW4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHNQcm90b0dsb2JhbFRoaXMuYnRvYShiaW4uam9pbihcIlwiKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGxvbmdUb051bWJlcihsb25nKSB7XG4gIGlmIChsb25nLmd0KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSkge1xuICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlZhbHVlIGlzIGxhcmdlciB0aGFuIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXCIpO1xuICB9XG4gIHJldHVybiBsb25nLnRvTnVtYmVyKCk7XG59XG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gbG9uZ19kZWZhdWx0KSB7XG4gIF9tMC51dGlsLkxvbmcgPSBsb25nX2RlZmF1bHQ7XG4gIF9tMC5jb25maWd1cmUoKTtcbn1cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwO1xufVxuXG5leHBvcnQge1xuICBIYXNoU2NoZW1lLFxuICBoYXNoU2NoZW1lRnJvbUpTT04sXG4gIGhhc2hTY2hlbWVUb0pTT04sXG4gIFNpZ25hdHVyZVNjaGVtZSxcbiAgc2lnbmF0dXJlU2NoZW1lRnJvbUpTT04sXG4gIHNpZ25hdHVyZVNjaGVtZVRvSlNPTixcbiAgTWVzc2FnZVR5cGUsXG4gIG1lc3NhZ2VUeXBlRnJvbUpTT04sXG4gIG1lc3NhZ2VUeXBlVG9KU09OLFxuICBGYXJjYXN0ZXJOZXR3b3JrLFxuICBmYXJjYXN0ZXJOZXR3b3JrRnJvbUpTT04sXG4gIGZhcmNhc3Rlck5ldHdvcmtUb0pTT04sXG4gIFVzZXJEYXRhVHlwZSxcbiAgdXNlckRhdGFUeXBlRnJvbUpTT04sXG4gIHVzZXJEYXRhVHlwZVRvSlNPTixcbiAgQ2FzdFR5cGUsXG4gIGNhc3RUeXBlRnJvbUpTT04sXG4gIGNhc3RUeXBlVG9KU09OLFxuICBSZWFjdGlvblR5cGUsXG4gIHJlYWN0aW9uVHlwZUZyb21KU09OLFxuICByZWFjdGlvblR5cGVUb0pTT04sXG4gIFByb3RvY29sLFxuICBwcm90b2NvbEZyb21KU09OLFxuICBwcm90b2NvbFRvSlNPTixcbiAgTWVzc2FnZSxcbiAgTWVzc2FnZURhdGEsXG4gIFVzZXJEYXRhQm9keSxcbiAgRW1iZWQsXG4gIENhc3RBZGRCb2R5LFxuICBDYXN0UmVtb3ZlQm9keSxcbiAgQ2FzdElkLFxuICBSZWFjdGlvbkJvZHksXG4gIFZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5LFxuICBWZXJpZmljYXRpb25SZW1vdmVCb2R5LFxuICBMaW5rQm9keSxcbiAgTGlua0NvbXBhY3RTdGF0ZUJvZHksXG4gIEZyYW1lQWN0aW9uQm9keVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-WYDZZYLM.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-YW2LREMY.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-YW2LREMY.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateButtonTargetURL: () => (/* binding */ generateButtonTargetURL),\n/* harmony export */   generateTargetURL: () => (/* binding */ generateTargetURL),\n/* harmony export */   isFrameDefinition: () => (/* binding */ isFrameDefinition),\n/* harmony export */   isFrameRedirect: () => (/* binding */ isFrameRedirect),\n/* harmony export */   joinPaths: () => (/* binding */ joinPaths),\n/* harmony export */   parseButtonInformationFromTargetURL: () => (/* binding */ parseButtonInformationFromTargetURL),\n/* harmony export */   parseSearchParams: () => (/* binding */ parseSearchParams),\n/* harmony export */   resolveBaseUrl: () => (/* binding */ resolveBaseUrl)\n/* harmony export */ });\n/* harmony import */ var _chunk_CPDJUXZV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-CPDJUXZV.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-CPDJUXZV.js\");\n\n\n// src/core/utils.ts\nvar buttonActionToCode = {\n  post: \"p\",\n  post_redirect: \"pr\",\n  tx: \"tx\"\n};\nvar BUTTON_INFORMATION_SEARCH_PARAM_NAME = \"__bi\";\nfunction joinPaths(pathA, pathB) {\n  return pathB === \"/\" || pathB === \"\" ? pathA : [pathA, pathB].join(\"/\").replace(/\\/{2,}/g, \"/\");\n}\nfunction resolveBaseUrl(request, baseUrl, basePath) {\n  if (baseUrl) {\n    if (basePath === \"/\" || basePath === \"\") {\n      return baseUrl;\n    }\n    return new URL(joinPaths(baseUrl.pathname, basePath), baseUrl);\n  }\n  return new URL(basePath, request.url);\n}\nfunction isValidButtonIndex(index) {\n  return typeof index === \"number\" && !Number.isNaN(index) && index >= 1 && index <= 4;\n}\nfunction isValidButtonAction(action) {\n  return typeof action === \"string\" && action in buttonActionToCode;\n}\nfunction isUrlObjectComplete(urlObject) {\n  return !!urlObject.host && !!urlObject.protocol && !!urlObject.pathname;\n}\nfunction generateTargetURL({\n  baseUrl,\n  target\n}) {\n  if (!target) {\n    return new URL(baseUrl);\n  }\n  if (typeof target === \"object\") {\n    if (isUrlObjectComplete(target)) {\n      return new URL((0,_chunk_CPDJUXZV_js__WEBPACK_IMPORTED_MODULE_0__.formatUrl)(target));\n    }\n    return new URL(\n      (0,_chunk_CPDJUXZV_js__WEBPACK_IMPORTED_MODULE_0__.formatUrl)({\n        host: baseUrl.host,\n        hash: baseUrl.hash,\n        hostname: baseUrl.hostname,\n        href: baseUrl.href,\n        // pathname: url.pathname,\n        protocol: baseUrl.protocol,\n        // we ignore existing search params and uses only new ones\n        // search: url.search,\n        port: baseUrl.port,\n        // query: url.searchParams,\n        ...target,\n        pathname: joinPaths(baseUrl.pathname, target.pathname ?? \"\")\n      })\n    );\n  }\n  try {\n    return new URL(target);\n  } catch {\n    const url = new URL(baseUrl);\n    const finalPathname = joinPaths(url.pathname, target);\n    return new URL(finalPathname, url);\n  }\n}\nfunction generateButtonTargetURL({\n  buttonIndex,\n  buttonAction,\n  target,\n  baseUrl\n}) {\n  const url = new URL(generateTargetURL({ baseUrl, target }));\n  url.searchParams.set(\n    BUTTON_INFORMATION_SEARCH_PARAM_NAME,\n    `${buttonIndex}-${buttonActionToCode[buttonAction]}`\n  );\n  return url.toString();\n}\nfunction parseSearchParams(url) {\n  const searchParams = Object.fromEntries(url.searchParams);\n  return {\n    searchParams\n  };\n}\nfunction parseButtonInformationFromTargetURL(url) {\n  const buttonInformation = url.searchParams.get(\n    BUTTON_INFORMATION_SEARCH_PARAM_NAME\n  );\n  if (!buttonInformation) {\n    return void 0;\n  }\n  const [buttonIndex, buttonActionCode] = buttonInformation.split(\"-\");\n  if (!buttonIndex || !buttonActionCode) {\n    return void 0;\n  }\n  const index = parseInt(buttonIndex, 10);\n  const action = Object.entries(buttonActionToCode).find(\n    ([, value]) => value === buttonActionCode\n  )?.[0];\n  if (!isValidButtonIndex(index) || !isValidButtonAction(action)) {\n    return void 0;\n  }\n  return {\n    action,\n    index\n  };\n}\nfunction isFrameRedirect(value) {\n  return value !== null && typeof value === \"object\" && \"kind\" in value && value.kind === \"redirect\";\n}\nfunction isFrameDefinition(value) {\n  return value !== null && typeof value === \"object\" && \"image\" in value;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstWVcyTFJFTVkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRTZCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLEdBQUc7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBUztBQUM5QjtBQUNBO0FBQ0EsTUFBTSw2REFBUztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCwwQ0FBMEMsaUJBQWlCO0FBQzNEO0FBQ0E7QUFDQSxPQUFPLFlBQVksR0FBRyxpQ0FBaUM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFXRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvY2stcGFwZXItc2Npc3NvcnMtZnJhbWUvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstWVcyTFJFTVkuanM/YTJiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmb3JtYXRVcmxcbn0gZnJvbSBcIi4vY2h1bmstQ1BESlVYWlYuanNcIjtcblxuLy8gc3JjL2NvcmUvdXRpbHMudHNcbnZhciBidXR0b25BY3Rpb25Ub0NvZGUgPSB7XG4gIHBvc3Q6IFwicFwiLFxuICBwb3N0X3JlZGlyZWN0OiBcInByXCIsXG4gIHR4OiBcInR4XCJcbn07XG52YXIgQlVUVE9OX0lORk9STUFUSU9OX1NFQVJDSF9QQVJBTV9OQU1FID0gXCJfX2JpXCI7XG5mdW5jdGlvbiBqb2luUGF0aHMocGF0aEEsIHBhdGhCKSB7XG4gIHJldHVybiBwYXRoQiA9PT0gXCIvXCIgfHwgcGF0aEIgPT09IFwiXCIgPyBwYXRoQSA6IFtwYXRoQSwgcGF0aEJdLmpvaW4oXCIvXCIpLnJlcGxhY2UoL1xcL3syLH0vZywgXCIvXCIpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUJhc2VVcmwocmVxdWVzdCwgYmFzZVVybCwgYmFzZVBhdGgpIHtcbiAgaWYgKGJhc2VVcmwpIHtcbiAgICBpZiAoYmFzZVBhdGggPT09IFwiL1wiIHx8IGJhc2VQYXRoID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gYmFzZVVybDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVUkwoam9pblBhdGhzKGJhc2VVcmwucGF0aG5hbWUsIGJhc2VQYXRoKSwgYmFzZVVybCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBVUkwoYmFzZVBhdGgsIHJlcXVlc3QudXJsKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRCdXR0b25JbmRleChpbmRleCkge1xuICByZXR1cm4gdHlwZW9mIGluZGV4ID09PSBcIm51bWJlclwiICYmICFOdW1iZXIuaXNOYU4oaW5kZXgpICYmIGluZGV4ID49IDEgJiYgaW5kZXggPD0gNDtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRCdXR0b25BY3Rpb24oYWN0aW9uKSB7XG4gIHJldHVybiB0eXBlb2YgYWN0aW9uID09PSBcInN0cmluZ1wiICYmIGFjdGlvbiBpbiBidXR0b25BY3Rpb25Ub0NvZGU7XG59XG5mdW5jdGlvbiBpc1VybE9iamVjdENvbXBsZXRlKHVybE9iamVjdCkge1xuICByZXR1cm4gISF1cmxPYmplY3QuaG9zdCAmJiAhIXVybE9iamVjdC5wcm90b2NvbCAmJiAhIXVybE9iamVjdC5wYXRobmFtZTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlVGFyZ2V0VVJMKHtcbiAgYmFzZVVybCxcbiAgdGFyZ2V0XG59KSB7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgcmV0dXJuIG5ldyBVUkwoYmFzZVVybCk7XG4gIH1cbiAgaWYgKHR5cGVvZiB0YXJnZXQgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoaXNVcmxPYmplY3RDb21wbGV0ZSh0YXJnZXQpKSB7XG4gICAgICByZXR1cm4gbmV3IFVSTChmb3JtYXRVcmwodGFyZ2V0KSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVVJMKFxuICAgICAgZm9ybWF0VXJsKHtcbiAgICAgICAgaG9zdDogYmFzZVVybC5ob3N0LFxuICAgICAgICBoYXNoOiBiYXNlVXJsLmhhc2gsXG4gICAgICAgIGhvc3RuYW1lOiBiYXNlVXJsLmhvc3RuYW1lLFxuICAgICAgICBocmVmOiBiYXNlVXJsLmhyZWYsXG4gICAgICAgIC8vIHBhdGhuYW1lOiB1cmwucGF0aG5hbWUsXG4gICAgICAgIHByb3RvY29sOiBiYXNlVXJsLnByb3RvY29sLFxuICAgICAgICAvLyB3ZSBpZ25vcmUgZXhpc3Rpbmcgc2VhcmNoIHBhcmFtcyBhbmQgdXNlcyBvbmx5IG5ldyBvbmVzXG4gICAgICAgIC8vIHNlYXJjaDogdXJsLnNlYXJjaCxcbiAgICAgICAgcG9ydDogYmFzZVVybC5wb3J0LFxuICAgICAgICAvLyBxdWVyeTogdXJsLnNlYXJjaFBhcmFtcyxcbiAgICAgICAgLi4udGFyZ2V0LFxuICAgICAgICBwYXRobmFtZTogam9pblBhdGhzKGJhc2VVcmwucGF0aG5hbWUsIHRhcmdldC5wYXRobmFtZSA/PyBcIlwiKVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBVUkwodGFyZ2V0KTtcbiAgfSBjYXRjaCB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChiYXNlVXJsKTtcbiAgICBjb25zdCBmaW5hbFBhdGhuYW1lID0gam9pblBhdGhzKHVybC5wYXRobmFtZSwgdGFyZ2V0KTtcbiAgICByZXR1cm4gbmV3IFVSTChmaW5hbFBhdGhuYW1lLCB1cmwpO1xuICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZUJ1dHRvblRhcmdldFVSTCh7XG4gIGJ1dHRvbkluZGV4LFxuICBidXR0b25BY3Rpb24sXG4gIHRhcmdldCxcbiAgYmFzZVVybFxufSkge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKGdlbmVyYXRlVGFyZ2V0VVJMKHsgYmFzZVVybCwgdGFyZ2V0IH0pKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXG4gICAgQlVUVE9OX0lORk9STUFUSU9OX1NFQVJDSF9QQVJBTV9OQU1FLFxuICAgIGAke2J1dHRvbkluZGV4fS0ke2J1dHRvbkFjdGlvblRvQ29kZVtidXR0b25BY3Rpb25dfWBcbiAgKTtcbiAgcmV0dXJuIHVybC50b1N0cmluZygpO1xufVxuZnVuY3Rpb24gcGFyc2VTZWFyY2hQYXJhbXModXJsKSB7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IE9iamVjdC5mcm9tRW50cmllcyh1cmwuc2VhcmNoUGFyYW1zKTtcbiAgcmV0dXJuIHtcbiAgICBzZWFyY2hQYXJhbXNcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlQnV0dG9uSW5mb3JtYXRpb25Gcm9tVGFyZ2V0VVJMKHVybCkge1xuICBjb25zdCBidXR0b25JbmZvcm1hdGlvbiA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFxuICAgIEJVVFRPTl9JTkZPUk1BVElPTl9TRUFSQ0hfUEFSQU1fTkFNRVxuICApO1xuICBpZiAoIWJ1dHRvbkluZm9ybWF0aW9uKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBbYnV0dG9uSW5kZXgsIGJ1dHRvbkFjdGlvbkNvZGVdID0gYnV0dG9uSW5mb3JtYXRpb24uc3BsaXQoXCItXCIpO1xuICBpZiAoIWJ1dHRvbkluZGV4IHx8ICFidXR0b25BY3Rpb25Db2RlKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBpbmRleCA9IHBhcnNlSW50KGJ1dHRvbkluZGV4LCAxMCk7XG4gIGNvbnN0IGFjdGlvbiA9IE9iamVjdC5lbnRyaWVzKGJ1dHRvbkFjdGlvblRvQ29kZSkuZmluZChcbiAgICAoWywgdmFsdWVdKSA9PiB2YWx1ZSA9PT0gYnV0dG9uQWN0aW9uQ29kZVxuICApPy5bMF07XG4gIGlmICghaXNWYWxpZEJ1dHRvbkluZGV4KGluZGV4KSB8fCAhaXNWYWxpZEJ1dHRvbkFjdGlvbihhY3Rpb24pKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4ge1xuICAgIGFjdGlvbixcbiAgICBpbmRleFxuICB9O1xufVxuZnVuY3Rpb24gaXNGcmFtZVJlZGlyZWN0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJraW5kXCIgaW4gdmFsdWUgJiYgdmFsdWUua2luZCA9PT0gXCJyZWRpcmVjdFwiO1xufVxuZnVuY3Rpb24gaXNGcmFtZURlZmluaXRpb24odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBcImltYWdlXCIgaW4gdmFsdWU7XG59XG5cbmV4cG9ydCB7XG4gIGpvaW5QYXRocyxcbiAgcmVzb2x2ZUJhc2VVcmwsXG4gIGdlbmVyYXRlVGFyZ2V0VVJMLFxuICBnZW5lcmF0ZUJ1dHRvblRhcmdldFVSTCxcbiAgcGFyc2VTZWFyY2hQYXJhbXMsXG4gIHBhcnNlQnV0dG9uSW5mb3JtYXRpb25Gcm9tVGFyZ2V0VVJMLFxuICBpc0ZyYW1lUmVkaXJlY3QsXG4gIGlzRnJhbWVEZWZpbml0aW9uXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-YW2LREMY.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZFGMSS3C.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZFGMSS3C.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deserializeJsx: () => (/* binding */ deserializeJsx),\n/* harmony export */   serializeJsx: () => (/* binding */ serializeJsx)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/.pnpm/next@14.2.26_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n// src/middleware/jsx-utils.ts\n\nfunction deserializeJsx(serialized) {\n  const elements = serialized.map((node) => {\n    if (typeof node === \"object\" && node !== null && \"type\" in node) {\n      const children = node.props.children ? deserializeJsx(node.props.children) : [];\n      const { children: _, ...restProps } = node.props;\n      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\n        node.type === \"Symbol(react.fragment)\" ? react__WEBPACK_IMPORTED_MODULE_0__.Fragment : node.type,\n        {\n          ...restProps,\n          key: \"key\" in node ? node.key : Math.random().toString()\n        },\n        children\n      );\n    } else if (node !== null && node !== void 0) {\n      return node;\n    }\n    return null;\n  });\n  return elements.length === 1 ? elements[0] : elements;\n}\nfunction serializeChild(child) {\n  if (typeof child !== \"object\" || !child) {\n    return child;\n  }\n  if (\"props\" in child) {\n    let serialized = { ...child };\n    if (\"children\" in child.props && child.props.children) {\n      const childChildren = serializeJsx(\n        child.props.children\n      );\n      serialized = {\n        ...serialized,\n        props: {\n          ...serialized.props,\n          children: childChildren\n        }\n      };\n    }\n    if (typeof child.type === \"function\") {\n      const evaluated = child.type(\n        child.props\n      );\n      if (evaluated === null || typeof evaluated !== \"object\") {\n        return evaluated;\n      }\n      const serializedEvaluated = serializeChild({ ...evaluated });\n      if (serializedEvaluated === null || typeof serializedEvaluated !== \"object\") {\n        return serializedEvaluated;\n      }\n      serialized = { ...serializedEvaluated, key: Math.random().toString() };\n    }\n    return {\n      type: serialized.type.toString(),\n      props: serialized.props\n    };\n  }\n}\nfunction serializeJsx(children) {\n  return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, serializeChild);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstWkZHTVNTM0MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDMkU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDRCQUE0QjtBQUMxQyxhQUFhLG9EQUFhO0FBQzFCLGlEQUFpRCwyQ0FBUTtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsY0FBYztBQUNqRTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMkNBQWE7QUFDdEI7O0FBS0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLVpGR01TUzNDLmpzPzM4M2IiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL21pZGRsZXdhcmUvanN4LXV0aWxzLnRzXG5pbXBvcnQgeyBDaGlsZHJlbiBhcyBSZWFjdENoaWxkcmVuLCBGcmFnbWVudCwgY3JlYXRlRWxlbWVudCB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVKc3goc2VyaWFsaXplZCkge1xuICBjb25zdCBlbGVtZW50cyA9IHNlcmlhbGl6ZWQubWFwKChub2RlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBub2RlID09PSBcIm9iamVjdFwiICYmIG5vZGUgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gbm9kZSkge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBub2RlLnByb3BzLmNoaWxkcmVuID8gZGVzZXJpYWxpemVKc3gobm9kZS5wcm9wcy5jaGlsZHJlbikgOiBbXTtcbiAgICAgIGNvbnN0IHsgY2hpbGRyZW46IF8sIC4uLnJlc3RQcm9wcyB9ID0gbm9kZS5wcm9wcztcbiAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFxuICAgICAgICBub2RlLnR5cGUgPT09IFwiU3ltYm9sKHJlYWN0LmZyYWdtZW50KVwiID8gRnJhZ21lbnQgOiBub2RlLnR5cGUsXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAgICAga2V5OiBcImtleVwiIGluIG5vZGUgPyBub2RlLmtleSA6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKVxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlblxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKG5vZGUgIT09IG51bGwgJiYgbm9kZSAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pO1xuICByZXR1cm4gZWxlbWVudHMubGVuZ3RoID09PSAxID8gZWxlbWVudHNbMF0gOiBlbGVtZW50cztcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNoaWxkKGNoaWxkKSB7XG4gIGlmICh0eXBlb2YgY2hpbGQgIT09IFwib2JqZWN0XCIgfHwgIWNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG4gIGlmIChcInByb3BzXCIgaW4gY2hpbGQpIHtcbiAgICBsZXQgc2VyaWFsaXplZCA9IHsgLi4uY2hpbGQgfTtcbiAgICBpZiAoXCJjaGlsZHJlblwiIGluIGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBjaGlsZENoaWxkcmVuID0gc2VyaWFsaXplSnN4KFxuICAgICAgICBjaGlsZC5wcm9wcy5jaGlsZHJlblxuICAgICAgKTtcbiAgICAgIHNlcmlhbGl6ZWQgPSB7XG4gICAgICAgIC4uLnNlcmlhbGl6ZWQsXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgLi4uc2VyaWFsaXplZC5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbjogY2hpbGRDaGlsZHJlblxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNoaWxkLnR5cGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY29uc3QgZXZhbHVhdGVkID0gY2hpbGQudHlwZShcbiAgICAgICAgY2hpbGQucHJvcHNcbiAgICAgICk7XG4gICAgICBpZiAoZXZhbHVhdGVkID09PSBudWxsIHx8IHR5cGVvZiBldmFsdWF0ZWQgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcmV0dXJuIGV2YWx1YXRlZDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNlcmlhbGl6ZWRFdmFsdWF0ZWQgPSBzZXJpYWxpemVDaGlsZCh7IC4uLmV2YWx1YXRlZCB9KTtcbiAgICAgIGlmIChzZXJpYWxpemVkRXZhbHVhdGVkID09PSBudWxsIHx8IHR5cGVvZiBzZXJpYWxpemVkRXZhbHVhdGVkICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVkRXZhbHVhdGVkO1xuICAgICAgfVxuICAgICAgc2VyaWFsaXplZCA9IHsgLi4uc2VyaWFsaXplZEV2YWx1YXRlZCwga2V5OiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHNlcmlhbGl6ZWQudHlwZS50b1N0cmluZygpLFxuICAgICAgcHJvcHM6IHNlcmlhbGl6ZWQucHJvcHNcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBzZXJpYWxpemVKc3goY2hpbGRyZW4pIHtcbiAgcmV0dXJuIFJlYWN0Q2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBzZXJpYWxpemVDaGlsZCk7XG59XG5cbmV4cG9ydCB7XG4gIGRlc2VyaWFsaXplSnN4LFxuICBzZXJpYWxpemVKc3hcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZFGMSS3C.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZQQAQGFE.js":
/*!*******************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZQQAQGFE.js ***!
  \*******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAddressesForFid: () => (/* binding */ getAddressesForFid)\n/* harmony export */ });\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-T2UQQRTL.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-7EKETE7Q.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-7EKETE7Q.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem */ \"(rsc)/../../node_modules/.pnpm/viem@2.25.0_typescript@5.8.3_zod@3.24.2/node_modules/viem/_esm/clients/createPublicClient.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem */ \"(rsc)/../../node_modules/.pnpm/viem@2.25.0_typescript@5.8.3_zod@3.24.2/node_modules/viem/_esm/clients/transports/http.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! viem */ \"(rsc)/../../node_modules/.pnpm/abitype@1.0.8_typescript@5.8.3_zod@3.24.2/node_modules/abitype/dist/esm/human-readable/parseAbi.js\");\n/* harmony import */ var viem_chains__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem/chains */ \"(rsc)/../../node_modules/.pnpm/viem@2.25.0_typescript@5.8.3_zod@3.24.2/node_modules/viem/_esm/chains/definitions/optimism.js\");\n\n\n// src/getAddressesForFid.ts\n\n\nasync function getCustodyAddressForFid(fid) {\n    const publicClient = (0,viem__WEBPACK_IMPORTED_MODULE_2__.createPublicClient)({\n        transport: (0,viem__WEBPACK_IMPORTED_MODULE_3__.http)(),\n        chain: viem_chains__WEBPACK_IMPORTED_MODULE_4__.optimism\n    });\n    const address = await publicClient.readContract({\n        abi: (0,viem__WEBPACK_IMPORTED_MODULE_5__.parseAbi)([\n            \"function custodyOf(uint256 fid) view returns (address)\"\n        ]),\n        // IdRegistry contract address\n        address: \"0x00000000fc6c5f01fc30151999387bb99a9f489b\",\n        functionName: \"custodyOf\",\n        args: [\n            BigInt(fid)\n        ]\n    });\n    return {\n        address,\n        type: \"custody\"\n    };\n}\nasync function getAddressesForFid({ fid, options = {} }) {\n    const { hubHttpUrl = _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_URL, hubRequestOptions = {\n        headers: {\n            api_key: _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_KEY\n        }\n    } } = options;\n    const [verificationsResponse, custodyAddress] = await Promise.all([\n        fetch(`${hubHttpUrl}/v1/verificationsByFid?fid=${fid}`, hubRequestOptions),\n        getCustodyAddressForFid(fid)\n    ]);\n    const { messages } = await verificationsResponse.clone().json().catch(async ()=>{\n        throw new Error(`Failed to parse response body as JSON because server hub returned response with status \"${verificationsResponse.status}\" and body \"${await verificationsResponse.clone().text()}\"`);\n    });\n    if (messages) {\n        const verifiedAddresses = messages.map((message)=>{\n            const address = (0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_1__.extractAddressFromJSONMessage)(message);\n            if (!address) {\n                return null;\n            }\n            return {\n                address: (0,_chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_1__.extractAddressFromJSONMessage)(message),\n                type: \"verified\"\n            };\n        }).filter((val)=>val !== null);\n        return [\n            ...verifiedAddresses,\n            custodyAddress\n        ];\n    }\n    return [\n        custodyAddress\n    ];\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstWlFRQVFHRkUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUc2QjtBQUdBO0FBRTdCLDRCQUE0QjtBQUM4QjtBQUNuQjtBQUN2QyxlQUFlTyx3QkFBd0JDLEdBQUc7SUFDeEMsTUFBTUMsZUFBZU4sd0RBQWtCQSxDQUFDO1FBQ3RDTyxXQUFXTiwwQ0FBSUE7UUFDZk8sT0FBT0wsaURBQVFBO0lBQ2pCO0lBQ0EsTUFBTU0sVUFBVSxNQUFNSCxhQUFhSSxZQUFZLENBQUM7UUFDOUNDLEtBQUtULDhDQUFRQSxDQUFDO1lBQUM7U0FBeUQ7UUFDeEUsOEJBQThCO1FBQzlCTyxTQUFTO1FBQ1RHLGNBQWM7UUFDZEMsTUFBTTtZQUFDQyxPQUFPVDtTQUFLO0lBQ3JCO0lBQ0EsT0FBTztRQUFFSTtRQUFTTSxNQUFNO0lBQVU7QUFDcEM7QUFDQSxlQUFlQyxtQkFBbUIsRUFDaENYLEdBQUcsRUFDSFksVUFBVSxDQUFDLENBQUMsRUFDYjtJQUNDLE1BQU0sRUFDSkMsYUFBYXBCLG1FQUFtQixFQUNoQ3FCLG9CQUFvQjtRQUNsQkMsU0FBUztZQUNQQyxTQUFTeEIsbUVBQW1CQTtRQUM5QjtJQUNGLENBQUMsRUFDRixHQUFHb0I7SUFDSixNQUFNLENBQUNLLHVCQUF1QkMsZUFBZSxHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztRQUNoRUMsTUFBTSxDQUFDLEVBQUVSLFdBQVcsMkJBQTJCLEVBQUViLElBQUksQ0FBQyxFQUFFYztRQUN4RGYsd0JBQXdCQztLQUN6QjtJQUNELE1BQU0sRUFBRXNCLFFBQVEsRUFBRSxHQUFHLE1BQU1MLHNCQUFzQk0sS0FBSyxHQUFHQyxJQUFJLEdBQUdDLEtBQUssQ0FBQztRQUNwRSxNQUFNLElBQUlDLE1BQ1IsQ0FBQyx3RkFBd0YsRUFBRVQsc0JBQXNCVSxNQUFNLENBQUMsWUFBWSxFQUFFLE1BQU1WLHNCQUFzQk0sS0FBSyxHQUFHSyxJQUFJLEdBQUcsQ0FBQyxDQUFDO0lBRXZMO0lBQ0EsSUFBSU4sVUFBVTtRQUNaLE1BQU1PLG9CQUFvQlAsU0FBU1EsR0FBRyxDQUFDLENBQUNDO1lBQ3RDLE1BQU0zQixVQUFVVixpRkFBNkJBLENBQUNxQztZQUM5QyxJQUFJLENBQUMzQixTQUFTO2dCQUNaLE9BQU87WUFDVDtZQUNBLE9BQU87Z0JBQ0xBLFNBQVNWLGlGQUE2QkEsQ0FBQ3FDO2dCQUN2Q3JCLE1BQU07WUFDUjtRQUNGLEdBQUdzQixNQUFNLENBQUMsQ0FBQ0MsTUFBUUEsUUFBUTtRQUMzQixPQUFPO2VBQUlKO1lBQW1CWDtTQUFlO0lBQy9DO0lBQ0EsT0FBTztRQUFDQTtLQUFlO0FBQ3pCO0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLVpRUUFRR0ZFLmpzPzYyOWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgREVGQVVMVF9IVUJfQVBJX0tFWSxcbiAgREVGQVVMVF9IVUJfQVBJX1VSTFxufSBmcm9tIFwiLi9jaHVuay1UMlVRUVJUTC5qc1wiO1xuaW1wb3J0IHtcbiAgZXh0cmFjdEFkZHJlc3NGcm9tSlNPTk1lc3NhZ2Vcbn0gZnJvbSBcIi4vY2h1bmstN0VLRVRFN1EuanNcIjtcblxuLy8gc3JjL2dldEFkZHJlc3Nlc0ZvckZpZC50c1xuaW1wb3J0IHsgY3JlYXRlUHVibGljQ2xpZW50LCBodHRwLCBwYXJzZUFiaSB9IGZyb20gXCJ2aWVtXCI7XG5pbXBvcnQgeyBvcHRpbWlzbSB9IGZyb20gXCJ2aWVtL2NoYWluc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q3VzdG9keUFkZHJlc3NGb3JGaWQoZmlkKSB7XG4gIGNvbnN0IHB1YmxpY0NsaWVudCA9IGNyZWF0ZVB1YmxpY0NsaWVudCh7XG4gICAgdHJhbnNwb3J0OiBodHRwKCksXG4gICAgY2hhaW46IG9wdGltaXNtXG4gIH0pO1xuICBjb25zdCBhZGRyZXNzID0gYXdhaXQgcHVibGljQ2xpZW50LnJlYWRDb250cmFjdCh7XG4gICAgYWJpOiBwYXJzZUFiaShbXCJmdW5jdGlvbiBjdXN0b2R5T2YodWludDI1NiBmaWQpIHZpZXcgcmV0dXJucyAoYWRkcmVzcylcIl0pLFxuICAgIC8vIElkUmVnaXN0cnkgY29udHJhY3QgYWRkcmVzc1xuICAgIGFkZHJlc3M6IFwiMHgwMDAwMDAwMGZjNmM1ZjAxZmMzMDE1MTk5OTM4N2JiOTlhOWY0ODliXCIsXG4gICAgZnVuY3Rpb25OYW1lOiBcImN1c3RvZHlPZlwiLFxuICAgIGFyZ3M6IFtCaWdJbnQoZmlkKV1cbiAgfSk7XG4gIHJldHVybiB7IGFkZHJlc3MsIHR5cGU6IFwiY3VzdG9keVwiIH07XG59XG5hc3luYyBmdW5jdGlvbiBnZXRBZGRyZXNzZXNGb3JGaWQoe1xuICBmaWQsXG4gIG9wdGlvbnMgPSB7fVxufSkge1xuICBjb25zdCB7XG4gICAgaHViSHR0cFVybCA9IERFRkFVTFRfSFVCX0FQSV9VUkwsXG4gICAgaHViUmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGFwaV9rZXk6IERFRkFVTFRfSFVCX0FQSV9LRVlcbiAgICAgIH1cbiAgICB9XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBbdmVyaWZpY2F0aW9uc1Jlc3BvbnNlLCBjdXN0b2R5QWRkcmVzc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgZmV0Y2goYCR7aHViSHR0cFVybH0vdjEvdmVyaWZpY2F0aW9uc0J5RmlkP2ZpZD0ke2ZpZH1gLCBodWJSZXF1ZXN0T3B0aW9ucyksXG4gICAgZ2V0Q3VzdG9keUFkZHJlc3NGb3JGaWQoZmlkKVxuICBdKTtcbiAgY29uc3QgeyBtZXNzYWdlcyB9ID0gYXdhaXQgdmVyaWZpY2F0aW9uc1Jlc3BvbnNlLmNsb25lKCkuanNvbigpLmNhdGNoKGFzeW5jICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRmFpbGVkIHRvIHBhcnNlIHJlc3BvbnNlIGJvZHkgYXMgSlNPTiBiZWNhdXNlIHNlcnZlciBodWIgcmV0dXJuZWQgcmVzcG9uc2Ugd2l0aCBzdGF0dXMgXCIke3ZlcmlmaWNhdGlvbnNSZXNwb25zZS5zdGF0dXN9XCIgYW5kIGJvZHkgXCIke2F3YWl0IHZlcmlmaWNhdGlvbnNSZXNwb25zZS5jbG9uZSgpLnRleHQoKX1cImBcbiAgICApO1xuICB9KTtcbiAgaWYgKG1lc3NhZ2VzKSB7XG4gICAgY29uc3QgdmVyaWZpZWRBZGRyZXNzZXMgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IHtcbiAgICAgIGNvbnN0IGFkZHJlc3MgPSBleHRyYWN0QWRkcmVzc0Zyb21KU09OTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFkZHJlc3M6IGV4dHJhY3RBZGRyZXNzRnJvbUpTT05NZXNzYWdlKG1lc3NhZ2UpLFxuICAgICAgICB0eXBlOiBcInZlcmlmaWVkXCJcbiAgICAgIH07XG4gICAgfSkuZmlsdGVyKCh2YWwpID0+IHZhbCAhPT0gbnVsbCk7XG4gICAgcmV0dXJuIFsuLi52ZXJpZmllZEFkZHJlc3NlcywgY3VzdG9keUFkZHJlc3NdO1xuICB9XG4gIHJldHVybiBbY3VzdG9keUFkZHJlc3NdO1xufVxuXG5leHBvcnQge1xuICBnZXRBZGRyZXNzZXNGb3JGaWRcbn07XG4iXSwibmFtZXMiOlsiREVGQVVMVF9IVUJfQVBJX0tFWSIsIkRFRkFVTFRfSFVCX0FQSV9VUkwiLCJleHRyYWN0QWRkcmVzc0Zyb21KU09OTWVzc2FnZSIsImNyZWF0ZVB1YmxpY0NsaWVudCIsImh0dHAiLCJwYXJzZUFiaSIsIm9wdGltaXNtIiwiZ2V0Q3VzdG9keUFkZHJlc3NGb3JGaWQiLCJmaWQiLCJwdWJsaWNDbGllbnQiLCJ0cmFuc3BvcnQiLCJjaGFpbiIsImFkZHJlc3MiLCJyZWFkQ29udHJhY3QiLCJhYmkiLCJmdW5jdGlvbk5hbWUiLCJhcmdzIiwiQmlnSW50IiwidHlwZSIsImdldEFkZHJlc3Nlc0ZvckZpZCIsIm9wdGlvbnMiLCJodWJIdHRwVXJsIiwiaHViUmVxdWVzdE9wdGlvbnMiLCJoZWFkZXJzIiwiYXBpX2tleSIsInZlcmlmaWNhdGlvbnNSZXNwb25zZSIsImN1c3RvZHlBZGRyZXNzIiwiUHJvbWlzZSIsImFsbCIsImZldGNoIiwibWVzc2FnZXMiLCJjbG9uZSIsImpzb24iLCJjYXRjaCIsIkVycm9yIiwic3RhdHVzIiwidGV4dCIsInZlcmlmaWVkQWRkcmVzc2VzIiwibWFwIiwibWVzc2FnZSIsImZpbHRlciIsInZhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZQQAQGFE.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/next/index.js":
/*!***************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/next/index.js ***!
  \***************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* reexport safe */ _chunk_PX7ZYZY7_js__WEBPACK_IMPORTED_MODULE_23__.Button),\n/* harmony export */   createFrames: () => (/* binding */ createFrames2),\n/* harmony export */   fetchMetadata: () => (/* reexport safe */ _chunk_MQXLLT7K_js__WEBPACK_IMPORTED_MODULE_0__.fetchMetadata)\n/* harmony export */ });\n/* harmony import */ var _chunk_MQXLLT7K_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunk-MQXLLT7K.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-MQXLLT7K.js\");\n/* harmony import */ var _chunk_6INCCTBI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chunk-6INCCTBI.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-6INCCTBI.js\");\n/* harmony import */ var _chunk_NKQ3BL6M_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../chunk-NKQ3BL6M.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-NKQ3BL6M.js\");\n/* harmony import */ var _chunk_HQMSGIJS_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chunk-HQMSGIJS.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-HQMSGIJS.js\");\n/* harmony import */ var _chunk_NJA2QQYR_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../chunk-NJA2QQYR.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-NJA2QQYR.js\");\n/* harmony import */ var _chunk_LXYL66IJ_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../chunk-LXYL66IJ.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LXYL66IJ.js\");\n/* harmony import */ var _chunk_4XN6T5YT_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../chunk-4XN6T5YT.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-4XN6T5YT.js\");\n/* harmony import */ var _chunk_ON2PQMQU_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../chunk-ON2PQMQU.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ON2PQMQU.js\");\n/* harmony import */ var _chunk_ZFGMSS3C_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../chunk-ZFGMSS3C.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZFGMSS3C.js\");\n/* harmony import */ var _chunk_GAJ4TXGR_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../chunk-GAJ4TXGR.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GAJ4TXGR.js\");\n/* harmony import */ var _chunk_GHPJOFJY_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../chunk-GHPJOFJY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GHPJOFJY.js\");\n/* harmony import */ var _chunk_2AVY42GE_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../chunk-2AVY42GE.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-2AVY42GE.js\");\n/* harmony import */ var _chunk_SPBDN3EV_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../chunk-SPBDN3EV.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-SPBDN3EV.js\");\n/* harmony import */ var _chunk_MBEYX4VY_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../chunk-MBEYX4VY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-MBEYX4VY.js\");\n/* harmony import */ var _chunk_IEXSAVZ4_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../chunk-IEXSAVZ4.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-IEXSAVZ4.js\");\n/* harmony import */ var _chunk_YW2LREMY_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../chunk-YW2LREMY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-YW2LREMY.js\");\n/* harmony import */ var _chunk_VBQCKLDZ_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../chunk-VBQCKLDZ.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VBQCKLDZ.js\");\n/* harmony import */ var _chunk_CPDJUXZV_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../chunk-CPDJUXZV.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-CPDJUXZV.js\");\n/* harmony import */ var _chunk_CTUE6VWY_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../chunk-CTUE6VWY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-CTUE6VWY.js\");\n/* harmony import */ var _chunk_DZIDRCLY_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../chunk-DZIDRCLY.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-DZIDRCLY.js\");\n/* harmony import */ var _chunk_QHDQPHLF_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../chunk-QHDQPHLF.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-QHDQPHLF.js\");\n/* harmony import */ var _chunk_6V4I4RHF_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../chunk-6V4I4RHF.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-6V4I4RHF.js\");\n/* harmony import */ var _chunk_JO3OZDPS_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../chunk-JO3OZDPS.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-JO3OZDPS.js\");\n/* harmony import */ var _chunk_PX7ZYZY7_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../chunk-PX7ZYZY7.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-PX7ZYZY7.js\");\n/* harmony import */ var _chunk_LVMQ4PXS_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../chunk-LVMQ4PXS.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LVMQ4PXS.js\");\n/* harmony import */ var _chunk_25BDFC6X_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../chunk-25BDFC6X.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-25BDFC6X.js\");\n/* harmony import */ var _chunk_M353EKQ7_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../chunk-M353EKQ7.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-M353EKQ7.js\");\n/* harmony import */ var _chunk_KOG3IAW5_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../chunk-KOG3IAW5.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KOG3IAW5.js\");\n/* harmony import */ var _chunk_VYI5JOSS_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../chunk-VYI5JOSS.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-VYI5JOSS.js\");\n/* harmony import */ var _chunk_GZOOY22I_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../chunk-GZOOY22I.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-GZOOY22I.js\");\n/* harmony import */ var _chunk_COE5BZEX_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../chunk-COE5BZEX.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-COE5BZEX.js\");\n/* harmony import */ var _chunk_KKNJPZAT_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../chunk-KKNJPZAT.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-KKNJPZAT.js\");\n/* harmony import */ var _chunk_LHDFXW4M_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../chunk-LHDFXW4M.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-LHDFXW4M.js\");\n/* harmony import */ var _chunk_ZQQAQGFE_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../chunk-ZQQAQGFE.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-ZQQAQGFE.js\");\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../chunk-T2UQQRTL.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_7EKETE7Q_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../chunk-7EKETE7Q.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-7EKETE7Q.js\");\n/* harmony import */ var _chunk_HCF7TXMO_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../chunk-HCF7TXMO.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-HCF7TXMO.js\");\n/* harmony import */ var _chunk_WYDZZYLM_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../chunk-WYDZZYLM.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-WYDZZYLM.js\");\n/* harmony import */ var _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../chunk-JGTH2ANC.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-JGTH2ANC.js\");\n/* harmony import */ var _chunk_IDQTRI32_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../chunk-IDQTRI32.js */ \"(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/chunk-IDQTRI32.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/next/index.ts\nvar createFrames2 = function createFramesForNextJS(options) {\n  const frames = (0,_chunk_HQMSGIJS_js__WEBPACK_IMPORTED_MODULE_3__.createFrames)(options);\n  return function createHandler(handler, handlerOptions) {\n    const handleRequest = frames(handler, handlerOptions);\n    return (req) => {\n      return handleRequest(new Request(req.nextUrl.toString(), req));\n    };\n  };\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2ZyYW1lcy5qc0AwLjIyLjBfQGNsb3VkZmxhcmUrd29ya2Vycy10eXBlc0A0LjIwMjUwNDA1LjBfQGxlbnMtcHJvdG9jb2wrY2xpZW50QDIuMy4yX0B0eXBlcytleF9tZG5qbWNhYmJlNGV0MzJzejdkaXpqNGk3YS9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvbmV4dC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRThCO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU5QjtBQUNBO0FBQ0EsaUJBQWlCLGdFQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2NrLXBhcGVyLXNjaXNzb3JzLWZyYW1lLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mcmFtZXMuanNAMC4yMi4wX0BjbG91ZGZsYXJlK3dvcmtlcnMtdHlwZXNANC4yMDI1MDQwNS4wX0BsZW5zLXByb3RvY29sK2NsaWVudEAyLjMuMl9AdHlwZXMrZXhfbWRuam1jYWJiZTRldDMyc3o3ZGl6ajRpN2Evbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L25leHQvaW5kZXguanM/ZmU5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmZXRjaE1ldGFkYXRhXG59IGZyb20gXCIuLi9jaHVuay1NUVhMTFQ3Sy5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstNklOQ0NUQkkuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLU5LUTNCTDZNLmpzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVGcmFtZXNcbn0gZnJvbSBcIi4uL2NodW5rLUhRTVNHSUpTLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1OSkEyUVFZUi5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstTFhZTDY2SUouanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLTRYTjZUNVlULmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1PTjJQUU1RVS5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstWkZHTVNTM0MuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLUdBSjRUWEdSLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1HSFBKT0ZKWS5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstMkFWWTQyR0UuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLVNQQkROM0VWLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1NQkVZWDRWWS5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstSUVYU0FWWjQuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLVlXMkxSRU1ZLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1WQlFDS0xEWi5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstQ1BESlVYWlYuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLUNUVUU2VldZLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1EWklEUkNMWS5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstUUhEUVBITEYuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLTZWNEk0UkhGLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1KTzNPWkRQUy5qc1wiO1xuaW1wb3J0IHtcbiAgQnV0dG9uXG59IGZyb20gXCIuLi9jaHVuay1QWDdaWVpZNy5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstTFZNUTRQWFMuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLTI1QkRGQzZYLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1NMzUzRUtRNy5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstS09HM0lBVzUuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLVZZSTVKT1NTLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1HWk9PWTIySS5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstQ09FNUJaRVguanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLUtLTkpQWkFULmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1MSERGWFc0TS5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstWlFRQVFHRkUuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLVQyVVFRUlRMLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay03RUtFVEU3US5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstSENGN1RYTU8uanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLVdZRFpaWUxNLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1KR1RIMkFOQy5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstSURRVFJJMzIuanNcIjtcblxuLy8gc3JjL25leHQvaW5kZXgudHNcbnZhciBjcmVhdGVGcmFtZXMyID0gZnVuY3Rpb24gY3JlYXRlRnJhbWVzRm9yTmV4dEpTKG9wdGlvbnMpIHtcbiAgY29uc3QgZnJhbWVzID0gY3JlYXRlRnJhbWVzKG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlSGFuZGxlcihoYW5kbGVyLCBoYW5kbGVyT3B0aW9ucykge1xuICAgIGNvbnN0IGhhbmRsZVJlcXVlc3QgPSBmcmFtZXMoaGFuZGxlciwgaGFuZGxlck9wdGlvbnMpO1xuICAgIHJldHVybiAocmVxKSA9PiB7XG4gICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChuZXcgUmVxdWVzdChyZXEubmV4dFVybC50b1N0cmluZygpLCByZXEpKTtcbiAgICB9O1xuICB9O1xufTtcbmV4cG9ydCB7XG4gIEJ1dHRvbixcbiAgY3JlYXRlRnJhbWVzMiBhcyBjcmVhdGVGcmFtZXMsXG4gIGZldGNoTWV0YWRhdGFcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/frames.js@0.22.0_@cloudflare+workers-types@4.20250405.0_@lens-protocol+client@2.3.2_@types+ex_mdnjmcabbe4et32sz7dizj4i7a/node_modules/frames.js/dist/next/index.js\n");

/***/ })

};
;